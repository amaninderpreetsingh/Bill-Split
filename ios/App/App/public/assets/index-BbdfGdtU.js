var px=t=>{throw TypeError(t)};var Jm=(t,e,n)=>e.has(t)||px("Cannot "+n);var U=(t,e,n)=>(Jm(t,e,"read from private field"),n?n.call(t):e.get(t)),Se=(t,e,n)=>e.has(t)?px("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Jm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),At=(t,e,n)=>(Jm(t,e,"access private method"),n);var rd=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return U(t,e,r)}});function tD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function KI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QI={exports:{}},Tf={},YI={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),nD=Symbol.for("react.portal"),rD=Symbol.for("react.fragment"),sD=Symbol.for("react.strict_mode"),iD=Symbol.for("react.profiler"),oD=Symbol.for("react.provider"),aD=Symbol.for("react.context"),lD=Symbol.for("react.forward_ref"),cD=Symbol.for("react.suspense"),uD=Symbol.for("react.memo"),dD=Symbol.for("react.lazy"),gx=Symbol.iterator;function hD(t){return t===null||typeof t!="object"?null:(t=gx&&t[gx]||t["@@iterator"],typeof t=="function"?t:null)}var XI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JI=Object.assign,ZI={};function sl(t,e,n){this.props=t,this.context=e,this.refs=ZI,this.updater=n||XI}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eT(){}eT.prototype=sl.prototype;function Ky(t,e,n){this.props=t,this.context=e,this.refs=ZI,this.updater=n||XI}var Qy=Ky.prototype=new eT;Qy.constructor=Ky;JI(Qy,sl.prototype);Qy.isPureReactComponent=!0;var yx=Array.isArray,tT=Object.prototype.hasOwnProperty,Yy={current:null},nT={key:!0,ref:!0,__self:!0,__source:!0};function rT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)tT.call(e,r)&&!nT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gu,type:t,key:i,ref:o,props:s,_owner:Yy.current}}function fD(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function mD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vx=/\/+/g;function Zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mD(""+t.key):e.toString(36)}function Ld(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gu:case nD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Zm(o,0):r,yx(s)?(n="",t!=null&&(n=t.replace(vx,"$&/")+"/"),Ld(s,e,n,"",function(c){return c})):s!=null&&(Xy(s)&&(s=fD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",yx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Zm(i,a);o+=Ld(i,e,n,l,s)}else if(l=hD(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Zm(i,a++),o+=Ld(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sd(t,e,n){if(t==null)return t;var r=[],s=0;return Ld(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Vd={transition:null},gD={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Vd,ReactCurrentOwner:Yy};function sT(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:sd,forEach:function(t,e,n){sd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sd(t,function(){e++}),e},toArray:function(t){return sd(t,function(e){return e})||[]},only:function(t){if(!Xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=sl;we.Fragment=rD;we.Profiler=iD;we.PureComponent=Ky;we.StrictMode=sD;we.Suspense=cD;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gD;we.act=sT;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tT.call(e,l)&&!nT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gu,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:aD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oD,_context:t},t.Consumer=t};we.createElement=rT;we.createFactory=function(t){var e=rT.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:lD,render:t}};we.isValidElement=Xy;we.lazy=function(t){return{$$typeof:dD,_payload:{_status:-1,_result:t},_init:pD}};we.memo=function(t,e){return{$$typeof:uD,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Vd.transition;Vd.transition={};try{t()}finally{Vd.transition=e}};we.unstable_act=sT;we.useCallback=function(t,e){return qt.current.useCallback(t,e)};we.useContext=function(t){return qt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};we.useEffect=function(t,e){return qt.current.useEffect(t,e)};we.useId=function(){return qt.current.useId()};we.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return qt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};we.useRef=function(t){return qt.current.useRef(t)};we.useState=function(t){return qt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return qt.current.useTransition()};we.version="18.3.1";YI.exports=we;var y=YI.exports;const G=KI(y),Jy=tD({__proto__:null,default:G},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD=y,vD=Symbol.for("react.element"),wD=Symbol.for("react.fragment"),xD=Object.prototype.hasOwnProperty,_D=yD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ED={key:!0,ref:!0,__self:!0,__source:!0};function iT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xD.call(e,r)&&!ED.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:vD,type:t,key:i,ref:o,props:s,_owner:_D.current}}Tf.Fragment=wD;Tf.jsx=iT;Tf.jsxs=iT;QI.exports=Tf;var u=QI.exports,oT={exports:{}},xn={},aT={exports:{}},lT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,L){var W=F.length;F.push(L);e:for(;0<W;){var ne=W-1>>>1,Z=F[ne];if(0<s(Z,L))F[ne]=L,F[W]=Z,W=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],W=F.pop();if(W!==L){F[0]=W;e:for(var ne=0,Z=F.length,de=Z>>>1;ne<de;){var ce=2*(ne+1)-1,ke=F[ce],Oe=ce+1,me=F[Oe];if(0>s(ke,W))Oe<Z&&0>s(me,ke)?(F[ne]=me,F[Oe]=W,ne=Oe):(F[ne]=ke,F[ce]=W,ne=ce);else if(Oe<Z&&0>s(me,W))F[ne]=me,F[Oe]=W,ne=Oe;else break e}}return L}function s(F,L){var W=F.sortIndex-L.sortIndex;return W!==0?W:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,m=3,p=!1,E=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(F){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=F)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function R(F){if(v=!1,S(F),!E)if(n(l)!==null)E=!0,H(D);else{var L=n(c);L!==null&&te(R,L.startTime-F)}}function D(F,L){E=!1,v&&(v=!1,_(T),T=-1),p=!0;var W=m;try{for(S(L),f=n(l);f!==null&&(!(f.expirationTime>L)||F&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var Z=ne(f.expirationTime<=L);L=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),S(L)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var ce=n(c);ce!==null&&te(R,ce.startTime-L),de=!1}return de}finally{f=null,m=W,p=!1}}var M=!1,b=null,T=-1,C=5,A=-1;function k(){return!(t.unstable_now()-A<C)}function O(){if(b!==null){var F=t.unstable_now();A=F;var L=!0;try{L=b(!0,F)}finally{L?P():(M=!1,b=null)}}else M=!1}var P;if(typeof I=="function")P=function(){I(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=O,P=function(){re.postMessage(null)}}else P=function(){x(O,0)};function H(F){b=F,M||(M=!0,P())}function te(F,L){T=x(function(){F(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){E||p||(E=!0,H(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var W=m;m=L;try{return F()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=m;m=F;try{return L()}finally{m=W}},t.unstable_scheduleCallback=function(F,L,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,F={id:h++,callback:L,priorityLevel:F,startTime:W,expirationTime:Z,sortIndex:-1},W>ne?(F.sortIndex=W,e(c,F),n(l)===null&&F===n(c)&&(v?(_(T),T=-1):v=!0,te(R,W-ne))):(F.sortIndex=Z,e(l,F),E||p||(E=!0,H(D))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var L=m;return function(){var W=m;m=L;try{return F.apply(this,arguments)}finally{m=W}}}})(lT);aT.exports=lT;var ID=aT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD=y,wn=ID;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cT=new Set,kc={};function So(t,e){ja(t,e),ja(t+"Capture",e)}function ja(t,e){for(kc[t]=e,t=0;t<e.length;t++)cT.add(e[t])}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=Object.prototype.hasOwnProperty,SD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wx={},xx={};function bD(t){return lg.call(xx,t)?!0:lg.call(wx,t)?!1:SD.test(t)?xx[t]=!0:(wx[t]=!0,!1)}function CD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AD(t,e,n,r){if(e===null||typeof e>"u"||CD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zy=/[\-:]([a-z])/g;function ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zy,ev);St[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zy,ev);St[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zy,ev);St[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function tv(t,e,n,r){var s=St.hasOwnProperty(e)?St[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AD(e,n,s,r)&&(n=null),r||s===null?bD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=TD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,id=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),nv=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),uT=Symbol.for("react.provider"),dT=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),sv=Symbol.for("react.memo"),js=Symbol.for("react.lazy"),hT=Symbol.for("react.offscreen"),_x=Symbol.iterator;function $l(t){return t===null||typeof t!="object"?null:(t=_x&&t[_x]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,ep;function ec(t){if(ep===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ep=e&&e[1]||""}return`
`+ep+t}var tp=!1;function np(t,e){if(!t||tp)return"";tp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{tp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ec(t):""}function ND(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=np(t.type,!1),t;case 11:return t=np(t.type.render,!1),t;case 1:return t=np(t.type,!0),t;default:return""}}function hg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case cg:return"Profiler";case nv:return"StrictMode";case ug:return"Suspense";case dg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dT:return(t.displayName||"Context")+".Consumer";case uT:return(t._context.displayName||"Context")+".Provider";case rv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sv:return e=t.displayName||null,e!==null?e:hg(t.type)||"Memo";case js:e=t._payload,t=t._init;try{return hg(t(e))}catch{}}return null}function RD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hg(e);case 8:return e===nv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PD(t){var e=fT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function od(t){t._valueTracker||(t._valueTracker=PD(t))}function mT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fg(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ex(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pT(t,e){e=e.checked,e!=null&&tv(t,"checked",e,!1)}function mg(t,e){pT(t,e);var n=pi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&pg(t,e.type,pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ix(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pg(t,e,n){(e!=="number"||hh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tc=Array.isArray;function fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function gg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(tc(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pi(n)}}function gT(t,e){var n=pi(e.value),r=pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ad,vT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ad=ad||document.createElement("div"),ad.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ad.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kD=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(t){kD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hc[e]=hc[t]})});function wT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hc.hasOwnProperty(t)&&hc[t]?(""+e).trim():e+"px"}function xT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var DD=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vg(t,e){if(e){if(DD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function wg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function iv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _g=null,ma=null,pa=null;function bx(t){if(t=wu(t)){if(typeof _g!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Nf(e),_g(t.stateNode,t.type,e))}}function _T(t){ma?pa?pa.push(t):pa=[t]:ma=t}function ET(){if(ma){var t=ma,e=pa;if(pa=ma=null,bx(t),e)for(t=0;t<e.length;t++)bx(e[t])}}function IT(t,e){return t(e)}function TT(){}var rp=!1;function ST(t,e,n){if(rp)return t(e,n);rp=!0;try{return IT(t,e,n)}finally{rp=!1,(ma!==null||pa!==null)&&(TT(),ET())}}function Oc(t,e){var n=t.stateNode;if(n===null)return null;var r=Nf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Eg=!1;if(rs)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Eg=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Eg=!1}function OD(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var fc=!1,fh=null,mh=!1,Ig=null,MD={onError:function(t){fc=!0,fh=t}};function jD(t,e,n,r,s,i,o,a,l){fc=!1,fh=null,OD.apply(MD,arguments)}function LD(t,e,n,r,s,i,o,a,l){if(jD.apply(this,arguments),fc){if(fc){var c=fh;fc=!1,fh=null}else throw Error(q(198));mh||(mh=!0,Ig=c)}}function bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cx(t){if(bo(t)!==t)throw Error(q(188))}function VD(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Cx(s),t;if(i===r)return Cx(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function CT(t){return t=VD(t),t!==null?AT(t):null}function AT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AT(t);if(e!==null)return e;t=t.sibling}return null}var NT=wn.unstable_scheduleCallback,Ax=wn.unstable_cancelCallback,FD=wn.unstable_shouldYield,UD=wn.unstable_requestPaint,tt=wn.unstable_now,$D=wn.unstable_getCurrentPriorityLevel,ov=wn.unstable_ImmediatePriority,RT=wn.unstable_UserBlockingPriority,ph=wn.unstable_NormalPriority,BD=wn.unstable_LowPriority,PT=wn.unstable_IdlePriority,Sf=null,Cr=null;function zD(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(Sf,t,void 0,(t.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:HD,qD=Math.log,GD=Math.LN2;function HD(t){return t>>>=0,t===0?32:31-(qD(t)/GD|0)|0}var ld=64,cd=4194304;function nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nc(a):(i&=o,i!==0&&(r=nc(i)))}else o=n&~s,o!==0?r=nc(o):i!==0&&(r=nc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-er(e),s=1<<n,r|=t[n],e&=~s;return r}function WD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-er(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=WD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kT(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function sp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-er(e),t[e]=n}function QD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-er(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function av(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-er(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Re=0;function DT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OT,lv,MT,jT,LT,Sg=!1,ud=[],Zs=null,ei=null,ti=null,Mc=new Map,jc=new Map,Fs=[],YD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nx(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(e.pointerId)}}function zl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=wu(e),e!==null&&lv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function XD(t,e,n,r,s){switch(e){case"focusin":return Zs=zl(Zs,t,e,n,r,s),!0;case"dragenter":return ei=zl(ei,t,e,n,r,s),!0;case"mouseover":return ti=zl(ti,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mc.set(i,zl(Mc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jc.set(i,zl(jc.get(i)||null,t,e,n,r,s)),!0}return!1}function VT(t){var e=Gi(t.target);if(e!==null){var n=bo(e);if(n!==null){if(e=n.tag,e===13){if(e=bT(n),e!==null){t.blockedOn=e,LT(t.priority,function(){MT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xg=r,n.target.dispatchEvent(r),xg=null}else return e=wu(n),e!==null&&lv(e),t.blockedOn=n,!1;e.shift()}return!0}function Rx(t,e,n){Fd(t)&&n.delete(e)}function JD(){Sg=!1,Zs!==null&&Fd(Zs)&&(Zs=null),ei!==null&&Fd(ei)&&(ei=null),ti!==null&&Fd(ti)&&(ti=null),Mc.forEach(Rx),jc.forEach(Rx)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,Sg||(Sg=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,JD)))}function Lc(t){function e(s){return ql(s,t)}if(0<ud.length){ql(ud[0],t);for(var n=1;n<ud.length;n++){var r=ud[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zs!==null&&ql(Zs,t),ei!==null&&ql(ei,t),ti!==null&&ql(ti,t),Mc.forEach(e),jc.forEach(e),n=0;n<Fs.length;n++)r=Fs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fs.length&&(n=Fs[0],n.blockedOn===null);)VT(n),n.blockedOn===null&&Fs.shift()}var ga=ps.ReactCurrentBatchConfig,yh=!0;function ZD(t,e,n,r){var s=Re,i=ga.transition;ga.transition=null;try{Re=1,cv(t,e,n,r)}finally{Re=s,ga.transition=i}}function eO(t,e,n,r){var s=Re,i=ga.transition;ga.transition=null;try{Re=4,cv(t,e,n,r)}finally{Re=s,ga.transition=i}}function cv(t,e,n,r){if(yh){var s=bg(t,e,n,r);if(s===null)mp(t,e,r,vh,n),Nx(t,r);else if(XD(s,t,e,n,r))r.stopPropagation();else if(Nx(t,r),e&4&&-1<YD.indexOf(t)){for(;s!==null;){var i=wu(s);if(i!==null&&OT(i),i=bg(t,e,n,r),i===null&&mp(t,e,r,vh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else mp(t,e,r,null,n)}}var vh=null;function bg(t,e,n,r){if(vh=null,t=iv(r),t=Gi(t),t!==null)if(e=bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function FT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($D()){case ov:return 1;case RT:return 4;case ph:case BD:return 16;case PT:return 536870912;default:return 16}default:return 16}}var Qs=null,uv=null,Ud=null;function UT(){if(Ud)return Ud;var t,e=uv,n=e.length,r,s="value"in Qs?Qs.value:Qs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ud=s.slice(t,1<r?1-r:void 0)}function $d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function Px(){return!1}function _n(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?dd:Px,this.isPropagationStopped=Px,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dv=_n(il),vu=We({},il,{view:0,detail:0}),tO=_n(vu),ip,op,Gl,bf=We({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gl&&(Gl&&t.type==="mousemove"?(ip=t.screenX-Gl.screenX,op=t.screenY-Gl.screenY):op=ip=0,Gl=t),ip)},movementY:function(t){return"movementY"in t?t.movementY:op}}),kx=_n(bf),nO=We({},bf,{dataTransfer:0}),rO=_n(nO),sO=We({},vu,{relatedTarget:0}),ap=_n(sO),iO=We({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),oO=_n(iO),aO=We({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lO=_n(aO),cO=We({},il,{data:0}),Dx=_n(cO),uO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hO[t])?!!e[t]:!1}function hv(){return fO}var mO=We({},vu,{key:function(t){if(t.key){var e=uO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hv,charCode:function(t){return t.type==="keypress"?$d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pO=_n(mO),gO=We({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ox=_n(gO),yO=We({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hv}),vO=_n(yO),wO=We({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),xO=_n(wO),_O=We({},bf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EO=_n(_O),IO=[9,13,27,32],fv=rs&&"CompositionEvent"in window,mc=null;rs&&"documentMode"in document&&(mc=document.documentMode);var TO=rs&&"TextEvent"in window&&!mc,$T=rs&&(!fv||mc&&8<mc&&11>=mc),Mx=" ",jx=!1;function BT(t,e){switch(t){case"keyup":return IO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function SO(t,e){switch(t){case"compositionend":return zT(e);case"keypress":return e.which!==32?null:(jx=!0,Mx);case"textInput":return t=e.data,t===Mx&&jx?null:t;default:return null}}function bO(t,e){if(na)return t==="compositionend"||!fv&&BT(t,e)?(t=UT(),Ud=uv=Qs=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $T&&e.locale!=="ko"?null:e.data;default:return null}}var CO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CO[t.type]:e==="textarea"}function qT(t,e,n,r){_T(r),e=wh(e,"onChange"),0<e.length&&(n=new dv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pc=null,Vc=null;function AO(t){tS(t,0)}function Cf(t){var e=ia(t);if(mT(e))return t}function NO(t,e){if(t==="change")return e}var GT=!1;if(rs){var lp;if(rs){var cp="oninput"in document;if(!cp){var Vx=document.createElement("div");Vx.setAttribute("oninput","return;"),cp=typeof Vx.oninput=="function"}lp=cp}else lp=!1;GT=lp&&(!document.documentMode||9<document.documentMode)}function Fx(){pc&&(pc.detachEvent("onpropertychange",HT),Vc=pc=null)}function HT(t){if(t.propertyName==="value"&&Cf(Vc)){var e=[];qT(e,Vc,t,iv(t)),ST(AO,e)}}function RO(t,e,n){t==="focusin"?(Fx(),pc=e,Vc=n,pc.attachEvent("onpropertychange",HT)):t==="focusout"&&Fx()}function PO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cf(Vc)}function kO(t,e){if(t==="click")return Cf(e)}function DO(t,e){if(t==="input"||t==="change")return Cf(e)}function OO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rr=typeof Object.is=="function"?Object.is:OO;function Fc(t,e){if(rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!lg.call(e,s)||!rr(t[s],e[s]))return!1}return!0}function Ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $x(t,e){var n=Ux(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ux(n)}}function WT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KT(){for(var t=window,e=hh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MO(t){var e=KT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WT(n.ownerDocument.documentElement,n)){if(r!==null&&mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$x(n,i);var o=$x(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jO=rs&&"documentMode"in document&&11>=document.documentMode,ra=null,Cg=null,gc=null,Ag=!1;function Bx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ag||ra==null||ra!==hh(r)||(r=ra,"selectionStart"in r&&mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gc&&Fc(gc,r)||(gc=r,r=wh(Cg,"onSelect"),0<r.length&&(e=new dv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ra)))}function hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sa={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},up={},QT={};rs&&(QT=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Af(t){if(up[t])return up[t];if(!sa[t])return t;var e=sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QT)return up[t]=e[n];return t}var YT=Af("animationend"),XT=Af("animationiteration"),JT=Af("animationstart"),ZT=Af("transitionend"),eS=new Map,zx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(t,e){eS.set(t,e),So(e,[t])}for(var dp=0;dp<zx.length;dp++){var hp=zx[dp],LO=hp.toLowerCase(),VO=hp[0].toUpperCase()+hp.slice(1);Ci(LO,"on"+VO)}Ci(YT,"onAnimationEnd");Ci(XT,"onAnimationIteration");Ci(JT,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(ZT,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FO=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function qx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LD(r,e,void 0,t),t.currentTarget=null}function tS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;qx(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;qx(s,a,c),i=l}}}if(mh)throw t=Ig,mh=!1,Ig=null,t}function Ue(t,e){var n=e[Dg];n===void 0&&(n=e[Dg]=new Set);var r=t+"__bubble";n.has(r)||(nS(e,t,2,!1),n.add(r))}function fp(t,e,n){var r=0;e&&(r|=4),nS(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Uc(t){if(!t[fd]){t[fd]=!0,cT.forEach(function(n){n!=="selectionchange"&&(FO.has(n)||fp(n,!1,t),fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,fp("selectionchange",!1,e))}}function nS(t,e,n,r){switch(FT(e)){case 1:var s=ZD;break;case 4:s=eO;break;default:s=cv}n=s.bind(null,e,n,t),s=void 0,!Eg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function mp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ST(function(){var c=i,h=iv(n),f=[];e:{var m=eS.get(t);if(m!==void 0){var p=dv,E=t;switch(t){case"keypress":if($d(n)===0)break e;case"keydown":case"keyup":p=pO;break;case"focusin":E="focus",p=ap;break;case"focusout":E="blur",p=ap;break;case"beforeblur":case"afterblur":p=ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vO;break;case YT:case XT:case JT:p=oO;break;case ZT:p=xO;break;case"scroll":p=tO;break;case"wheel":p=EO;break;case"copy":case"cut":case"paste":p=lO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ox}var v=(e&4)!==0,x=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var I=c,S;I!==null;){S=I;var R=S.stateNode;if(S.tag===5&&R!==null&&(S=R,_!==null&&(R=Oc(I,_),R!=null&&v.push($c(I,R,S)))),x)break;I=I.return}0<v.length&&(m=new p(m,E,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==xg&&(E=n.relatedTarget||n.fromElement)&&(Gi(E)||E[ss]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(E=n.relatedTarget||n.toElement,p=c,E=E?Gi(E):null,E!==null&&(x=bo(E),E!==x||E.tag!==5&&E.tag!==6)&&(E=null)):(p=null,E=c),p!==E)){if(v=kx,R="onMouseLeave",_="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ox,R="onPointerLeave",_="onPointerEnter",I="pointer"),x=p==null?m:ia(p),S=E==null?m:ia(E),m=new v(R,I+"leave",p,n,h),m.target=x,m.relatedTarget=S,R=null,Gi(h)===c&&(v=new v(_,I+"enter",E,n,h),v.target=S,v.relatedTarget=x,R=v),x=R,p&&E)t:{for(v=p,_=E,I=0,S=v;S;S=qo(S))I++;for(S=0,R=_;R;R=qo(R))S++;for(;0<I-S;)v=qo(v),I--;for(;0<S-I;)_=qo(_),S--;for(;I--;){if(v===_||_!==null&&v===_.alternate)break t;v=qo(v),_=qo(_)}v=null}else v=null;p!==null&&Gx(f,m,p,v,!1),E!==null&&x!==null&&Gx(f,x,E,v,!0)}}e:{if(m=c?ia(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var D=NO;else if(Lx(m))if(GT)D=DO;else{D=PO;var M=RO}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=kO);if(D&&(D=D(t,c))){qT(f,D,n,h);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&pg(m,"number",m.value)}switch(M=c?ia(c):window,t){case"focusin":(Lx(M)||M.contentEditable==="true")&&(ra=M,Cg=c,gc=null);break;case"focusout":gc=Cg=ra=null;break;case"mousedown":Ag=!0;break;case"contextmenu":case"mouseup":case"dragend":Ag=!1,Bx(f,n,h);break;case"selectionchange":if(jO)break;case"keydown":case"keyup":Bx(f,n,h)}var b;if(fv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else na?BT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($T&&n.locale!=="ko"&&(na||T!=="onCompositionStart"?T==="onCompositionEnd"&&na&&(b=UT()):(Qs=h,uv="value"in Qs?Qs.value:Qs.textContent,na=!0)),M=wh(c,T),0<M.length&&(T=new Dx(T,t,null,n,h),f.push({event:T,listeners:M}),b?T.data=b:(b=zT(n),b!==null&&(T.data=b)))),(b=TO?SO(t,n):bO(t,n))&&(c=wh(c,"onBeforeInput"),0<c.length&&(h=new Dx("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=b))}tS(f,e)})}function $c(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oc(t,n),i!=null&&r.unshift($c(t,i,s)),i=Oc(t,e),i!=null&&r.push($c(t,i,s))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Oc(n,i),l!=null&&o.unshift($c(n,l,a))):s||(l=Oc(n,i),l!=null&&o.push($c(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var UO=/\r\n?/g,$O=/\u0000|\uFFFD/g;function Hx(t){return(typeof t=="string"?t:""+t).replace(UO,`
`).replace($O,"")}function md(t,e,n){if(e=Hx(e),Hx(t)!==e&&n)throw Error(q(425))}function xh(){}var Ng=null,Rg=null;function Pg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kg=typeof setTimeout=="function"?setTimeout:void 0,BO=typeof clearTimeout=="function"?clearTimeout:void 0,Wx=typeof Promise=="function"?Promise:void 0,zO=typeof queueMicrotask=="function"?queueMicrotask:typeof Wx<"u"?function(t){return Wx.resolve(null).then(t).catch(qO)}:kg;function qO(t){setTimeout(function(){throw t})}function pp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Lc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lc(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Kx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Tr="__reactFiber$"+ol,Bc="__reactProps$"+ol,ss="__reactContainer$"+ol,Dg="__reactEvents$"+ol,GO="__reactListeners$"+ol,HO="__reactHandles$"+ol;function Gi(t){var e=t[Tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ss]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kx(t);t!==null;){if(n=t[Tr])return n;t=Kx(t)}return e}t=n,n=t.parentNode}return null}function wu(t){return t=t[Tr]||t[ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Nf(t){return t[Bc]||null}var Og=[],oa=-1;function Ai(t){return{current:t}}function $e(t){0>oa||(t.current=Og[oa],Og[oa]=null,oa--)}function Le(t,e){oa++,Og[oa]=t.current,t.current=e}var gi={},Lt=Ai(gi),Zt=Ai(!1),co=gi;function La(t,e){var n=t.type.contextTypes;if(!n)return gi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function en(t){return t=t.childContextTypes,t!=null}function _h(){$e(Zt),$e(Lt)}function Qx(t,e,n){if(Lt.current!==gi)throw Error(q(168));Le(Lt,e),Le(Zt,n)}function rS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,RD(t)||"Unknown",s));return We({},n,r)}function Eh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gi,co=Lt.current,Le(Lt,t),Le(Zt,Zt.current),!0}function Yx(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=rS(t,e,co),r.__reactInternalMemoizedMergedChildContext=t,$e(Zt),$e(Lt),Le(Lt,t)):$e(Zt),Le(Zt,n)}var Wr=null,Rf=!1,gp=!1;function sS(t){Wr===null?Wr=[t]:Wr.push(t)}function WO(t){Rf=!0,sS(t)}function Ni(){if(!gp&&Wr!==null){gp=!0;var t=0,e=Re;try{var n=Wr;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wr=null,Rf=!1}catch(s){throw Wr!==null&&(Wr=Wr.slice(t+1)),NT(ov,Ni),s}finally{Re=e,gp=!1}}return null}var aa=[],la=0,Ih=null,Th=0,Cn=[],An=0,uo=null,Xr=1,Jr="";function $i(t,e){aa[la++]=Th,aa[la++]=Ih,Ih=t,Th=e}function iS(t,e,n){Cn[An++]=Xr,Cn[An++]=Jr,Cn[An++]=uo,uo=t;var r=Xr;t=Jr;var s=32-er(r)-1;r&=~(1<<s),n+=1;var i=32-er(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-er(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function pv(t){t.return!==null&&($i(t,1),iS(t,1,0))}function gv(t){for(;t===Ih;)Ih=aa[--la],aa[la]=null,Th=aa[--la],aa[la]=null;for(;t===uo;)uo=Cn[--An],Cn[An]=null,Jr=Cn[--An],Cn[An]=null,Xr=Cn[--An],Cn[An]=null}var pn=null,mn=null,ze=!1,Yn=null;function oS(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,mn=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uo!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,mn=null,!0):!1;default:return!1}}function Mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jg(t){if(ze){var e=mn;if(e){var n=e;if(!Xx(t,e)){if(Mg(t))throw Error(q(418));e=ni(n.nextSibling);var r=pn;e&&Xx(t,e)?oS(r,n):(t.flags=t.flags&-4097|2,ze=!1,pn=t)}}else{if(Mg(t))throw Error(q(418));t.flags=t.flags&-4097|2,ze=!1,pn=t}}}function Jx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function pd(t){if(t!==pn)return!1;if(!ze)return Jx(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pg(t.type,t.memoizedProps)),e&&(e=mn)){if(Mg(t))throw aS(),Error(q(418));for(;e;)oS(t,e),e=ni(e.nextSibling)}if(Jx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mn=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mn=null}}else mn=pn?ni(t.stateNode.nextSibling):null;return!0}function aS(){for(var t=mn;t;)t=ni(t.nextSibling)}function Va(){mn=pn=null,ze=!1}function yv(t){Yn===null?Yn=[t]:Yn.push(t)}var KO=ps.ReactCurrentBatchConfig;function Hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zx(t){var e=t._init;return e(t._payload)}function lS(t){function e(_,I){if(t){var S=_.deletions;S===null?(_.deletions=[I],_.flags|=16):S.push(I)}}function n(_,I){if(!t)return null;for(;I!==null;)e(_,I),I=I.sibling;return null}function r(_,I){for(_=new Map;I!==null;)I.key!==null?_.set(I.key,I):_.set(I.index,I),I=I.sibling;return _}function s(_,I){return _=oi(_,I),_.index=0,_.sibling=null,_}function i(_,I,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<I?(_.flags|=2,I):S):(_.flags|=2,I)):(_.flags|=1048576,I)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,I,S,R){return I===null||I.tag!==6?(I=Ip(S,_.mode,R),I.return=_,I):(I=s(I,S),I.return=_,I)}function l(_,I,S,R){var D=S.type;return D===ta?h(_,I,S.props.children,R,S.key):I!==null&&(I.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===js&&Zx(D)===I.type)?(R=s(I,S.props),R.ref=Hl(_,I,S),R.return=_,R):(R=Kd(S.type,S.key,S.props,null,_.mode,R),R.ref=Hl(_,I,S),R.return=_,R)}function c(_,I,S,R){return I===null||I.tag!==4||I.stateNode.containerInfo!==S.containerInfo||I.stateNode.implementation!==S.implementation?(I=Tp(S,_.mode,R),I.return=_,I):(I=s(I,S.children||[]),I.return=_,I)}function h(_,I,S,R,D){return I===null||I.tag!==7?(I=io(S,_.mode,R,D),I.return=_,I):(I=s(I,S),I.return=_,I)}function f(_,I,S){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Ip(""+I,_.mode,S),I.return=_,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case id:return S=Kd(I.type,I.key,I.props,null,_.mode,S),S.ref=Hl(_,null,I),S.return=_,S;case ea:return I=Tp(I,_.mode,S),I.return=_,I;case js:var R=I._init;return f(_,R(I._payload),S)}if(tc(I)||$l(I))return I=io(I,_.mode,S,null),I.return=_,I;gd(_,I)}return null}function m(_,I,S,R){var D=I!==null?I.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(_,I,""+S,R);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case id:return S.key===D?l(_,I,S,R):null;case ea:return S.key===D?c(_,I,S,R):null;case js:return D=S._init,m(_,I,D(S._payload),R)}if(tc(S)||$l(S))return D!==null?null:h(_,I,S,R,null);gd(_,S)}return null}function p(_,I,S,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(S)||null,a(I,_,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case id:return _=_.get(R.key===null?S:R.key)||null,l(I,_,R,D);case ea:return _=_.get(R.key===null?S:R.key)||null,c(I,_,R,D);case js:var M=R._init;return p(_,I,S,M(R._payload),D)}if(tc(R)||$l(R))return _=_.get(S)||null,h(I,_,R,D,null);gd(I,R)}return null}function E(_,I,S,R){for(var D=null,M=null,b=I,T=I=0,C=null;b!==null&&T<S.length;T++){b.index>T?(C=b,b=null):C=b.sibling;var A=m(_,b,S[T],R);if(A===null){b===null&&(b=C);break}t&&b&&A.alternate===null&&e(_,b),I=i(A,I,T),M===null?D=A:M.sibling=A,M=A,b=C}if(T===S.length)return n(_,b),ze&&$i(_,T),D;if(b===null){for(;T<S.length;T++)b=f(_,S[T],R),b!==null&&(I=i(b,I,T),M===null?D=b:M.sibling=b,M=b);return ze&&$i(_,T),D}for(b=r(_,b);T<S.length;T++)C=p(b,_,T,S[T],R),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?T:C.key),I=i(C,I,T),M===null?D=C:M.sibling=C,M=C);return t&&b.forEach(function(k){return e(_,k)}),ze&&$i(_,T),D}function v(_,I,S,R){var D=$l(S);if(typeof D!="function")throw Error(q(150));if(S=D.call(S),S==null)throw Error(q(151));for(var M=D=null,b=I,T=I=0,C=null,A=S.next();b!==null&&!A.done;T++,A=S.next()){b.index>T?(C=b,b=null):C=b.sibling;var k=m(_,b,A.value,R);if(k===null){b===null&&(b=C);break}t&&b&&k.alternate===null&&e(_,b),I=i(k,I,T),M===null?D=k:M.sibling=k,M=k,b=C}if(A.done)return n(_,b),ze&&$i(_,T),D;if(b===null){for(;!A.done;T++,A=S.next())A=f(_,A.value,R),A!==null&&(I=i(A,I,T),M===null?D=A:M.sibling=A,M=A);return ze&&$i(_,T),D}for(b=r(_,b);!A.done;T++,A=S.next())A=p(b,_,T,A.value,R),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?T:A.key),I=i(A,I,T),M===null?D=A:M.sibling=A,M=A);return t&&b.forEach(function(O){return e(_,O)}),ze&&$i(_,T),D}function x(_,I,S,R){if(typeof S=="object"&&S!==null&&S.type===ta&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case id:e:{for(var D=S.key,M=I;M!==null;){if(M.key===D){if(D=S.type,D===ta){if(M.tag===7){n(_,M.sibling),I=s(M,S.props.children),I.return=_,_=I;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===js&&Zx(D)===M.type){n(_,M.sibling),I=s(M,S.props),I.ref=Hl(_,M,S),I.return=_,_=I;break e}n(_,M);break}else e(_,M);M=M.sibling}S.type===ta?(I=io(S.props.children,_.mode,R,S.key),I.return=_,_=I):(R=Kd(S.type,S.key,S.props,null,_.mode,R),R.ref=Hl(_,I,S),R.return=_,_=R)}return o(_);case ea:e:{for(M=S.key;I!==null;){if(I.key===M)if(I.tag===4&&I.stateNode.containerInfo===S.containerInfo&&I.stateNode.implementation===S.implementation){n(_,I.sibling),I=s(I,S.children||[]),I.return=_,_=I;break e}else{n(_,I);break}else e(_,I);I=I.sibling}I=Tp(S,_.mode,R),I.return=_,_=I}return o(_);case js:return M=S._init,x(_,I,M(S._payload),R)}if(tc(S))return E(_,I,S,R);if($l(S))return v(_,I,S,R);gd(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,I!==null&&I.tag===6?(n(_,I.sibling),I=s(I,S),I.return=_,_=I):(n(_,I),I=Ip(S,_.mode,R),I.return=_,_=I),o(_)):n(_,I)}return x}var Fa=lS(!0),cS=lS(!1),Sh=Ai(null),bh=null,ca=null,vv=null;function wv(){vv=ca=bh=null}function xv(t){var e=Sh.current;$e(Sh),t._currentValue=e}function Lg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){bh=t,vv=ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(vv!==t)if(t={context:t,memoizedValue:e,next:null},ca===null){if(bh===null)throw Error(q(308));ca=t,bh.dependencies={lanes:0,firstContext:t}}else ca=ca.next=t;return e}var Hi=null;function _v(t){Hi===null?Hi=[t]:Hi.push(t)}function uS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,_v(e)):(n.next=s.next,s.next=n),e.interleaved=n,is(t,r)}function is(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function Ev(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ri(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,is(t,n)}return s=r.interleaved,s===null?(e.next=e,_v(r)):(e.next=s.next,s.next=e),r.interleaved=e,is(t,n)}function Bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,av(t,n)}}function e_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ch(t,e,n,r){var s=t.updateQueue;Ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(m=e,p=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){f=E.call(p,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,m=typeof E=="function"?E.call(p,f,m):E,m==null)break e;f=We({},f,m);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fo|=o,t.lanes=o,t.memoizedState=f}}function t_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var xu={},Ar=Ai(xu),zc=Ai(xu),qc=Ai(xu);function Wi(t){if(t===xu)throw Error(q(174));return t}function Iv(t,e){switch(Le(qc,e),Le(zc,t),Le(Ar,xu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yg(e,t)}$e(Ar),Le(Ar,e)}function Ua(){$e(Ar),$e(zc),$e(qc)}function hS(t){Wi(qc.current);var e=Wi(Ar.current),n=yg(e,t.type);e!==n&&(Le(zc,t),Le(Ar,n))}function Tv(t){zc.current===t&&($e(Ar),$e(zc))}var Ge=Ai(0);function Ah(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yp=[];function Sv(){for(var t=0;t<yp.length;t++)yp[t]._workInProgressVersionPrimary=null;yp.length=0}var zd=ps.ReactCurrentDispatcher,vp=ps.ReactCurrentBatchConfig,ho=0,He=null,ut=null,yt=null,Nh=!1,yc=!1,Gc=0,QO=0;function Nt(){throw Error(q(321))}function bv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rr(t[n],e[n]))return!1;return!0}function Cv(t,e,n,r,s,i){if(ho=i,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zd.current=t===null||t.memoizedState===null?ZO:eM,t=n(r,s),yc){i=0;do{if(yc=!1,Gc=0,25<=i)throw Error(q(301));i+=1,yt=ut=null,e.updateQueue=null,zd.current=tM,t=n(r,s)}while(yc)}if(zd.current=Rh,e=ut!==null&&ut.next!==null,ho=0,yt=ut=He=null,Nh=!1,e)throw Error(q(300));return t}function Av(){var t=Gc!==0;return Gc=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?He.memoizedState=yt=t:yt=yt.next=t,yt}function Ln(){if(ut===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=yt===null?He.memoizedState:yt.next;if(e!==null)yt=e,ut=t;else{if(t===null)throw Error(q(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},yt===null?He.memoizedState=yt=t:yt=yt.next=t}return yt}function Hc(t,e){return typeof e=="function"?e(t):e}function wp(t){var e=Ln(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((ho&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,He.lanes|=h,fo|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,rr(r,e.memoizedState)||(Jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,He.lanes|=i,fo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xp(t){var e=Ln(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);rr(i,e.memoizedState)||(Jt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function fS(){}function mS(t,e){var n=He,r=Ln(),s=e(),i=!rr(r.memoizedState,s);if(i&&(r.memoizedState=s,Jt=!0),r=r.queue,Nv(yS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Wc(9,gS.bind(null,n,r,s,e),void 0,null),vt===null)throw Error(q(349));ho&30||pS(n,e,s)}return s}function pS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gS(t,e,n,r){e.value=n,e.getSnapshot=r,vS(e)&&wS(t)}function yS(t,e,n){return n(function(){vS(e)&&wS(t)})}function vS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rr(t,n)}catch{return!0}}function wS(t){var e=is(t,1);e!==null&&tr(e,t,1,-1)}function n_(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:t},e.queue=t,t=t.dispatch=JO.bind(null,He,t),[e.memoizedState,t]}function Wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xS(){return Ln().memoizedState}function qd(t,e,n,r){var s=wr();He.flags|=t,s.memoizedState=Wc(1|e,n,void 0,r===void 0?null:r)}function Pf(t,e,n,r){var s=Ln();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&bv(r,o.deps)){s.memoizedState=Wc(e,n,i,r);return}}He.flags|=t,s.memoizedState=Wc(1|e,n,i,r)}function r_(t,e){return qd(8390656,8,t,e)}function Nv(t,e){return Pf(2048,8,t,e)}function _S(t,e){return Pf(4,2,t,e)}function ES(t,e){return Pf(4,4,t,e)}function IS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function TS(t,e,n){return n=n!=null?n.concat([t]):null,Pf(4,4,IS.bind(null,e,t),n)}function Rv(){}function SS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bS(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CS(t,e,n){return ho&21?(rr(n,e)||(n=kT(),He.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function YO(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=vp.transition;vp.transition={};try{t(!1),e()}finally{Re=n,vp.transition=r}}function AS(){return Ln().memoizedState}function XO(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NS(t))RS(e,n);else if(n=uS(t,e,n,r),n!==null){var s=zt();tr(n,t,r,s),PS(n,e,r)}}function JO(t,e,n){var r=ii(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NS(t))RS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,rr(a,o)){var l=e.interleaved;l===null?(s.next=s,_v(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=uS(t,e,s,r),n!==null&&(s=zt(),tr(n,t,r,s),PS(n,e,r))}}function NS(t){var e=t.alternate;return t===He||e!==null&&e===He}function RS(t,e){yc=Nh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,av(t,n)}}var Rh={readContext:jn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},ZO={readContext:jn,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:r_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qd(4194308,4,IS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return qd(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XO.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:n_,useDebugValue:Rv,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=n_(!1),e=t[0];return t=YO.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,s=wr();if(ze){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),vt===null)throw Error(q(349));ho&30||pS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,r_(yS.bind(null,r,i,t),[t]),r.flags|=2048,Wc(9,gS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=wr(),e=vt.identifierPrefix;if(ze){var n=Jr,r=Xr;n=(r&~(1<<32-er(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eM={readContext:jn,useCallback:SS,useContext:jn,useEffect:Nv,useImperativeHandle:TS,useInsertionEffect:_S,useLayoutEffect:ES,useMemo:bS,useReducer:wp,useRef:xS,useState:function(){return wp(Hc)},useDebugValue:Rv,useDeferredValue:function(t){var e=Ln();return CS(e,ut.memoizedState,t)},useTransition:function(){var t=wp(Hc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:fS,useSyncExternalStore:mS,useId:AS,unstable_isNewReconciler:!1},tM={readContext:jn,useCallback:SS,useContext:jn,useEffect:Nv,useImperativeHandle:TS,useInsertionEffect:_S,useLayoutEffect:ES,useMemo:bS,useReducer:xp,useRef:xS,useState:function(){return xp(Hc)},useDebugValue:Rv,useDeferredValue:function(t){var e=Ln();return ut===null?e.memoizedState=t:CS(e,ut.memoizedState,t)},useTransition:function(){var t=xp(Hc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:fS,useSyncExternalStore:mS,useId:AS,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kf={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),s=ii(t),i=ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=ri(t,i,s),e!==null&&(tr(e,t,s,r),Bd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),s=ii(t),i=ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ri(t,i,s),e!==null&&(tr(e,t,s,r),Bd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=ii(t),s=ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=ri(t,s,r),e!==null&&(tr(e,t,r,n),Bd(e,t,r))}};function s_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Fc(n,r)||!Fc(s,i):!0}function kS(t,e,n){var r=!1,s=gi,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=en(e)?co:Lt.current,r=e.contextTypes,i=(r=r!=null)?La(t,s):gi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function i_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kf.enqueueReplaceState(e,e.state,null)}function Fg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ev(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=en(e)?co:Lt.current,s.context=La(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kf.enqueueReplaceState(s,s.state,null),Ch(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $a(t,e){try{var n="",r=e;do n+=ND(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nM=typeof WeakMap=="function"?WeakMap:Map;function DS(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kh||(kh=!0,Yg=r),Ug(t,e)},n}function OS(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ug(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ug(t,e),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function o_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=gM.bind(null,t,e,n),e.then(t,t))}function a_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,ri(n,e,1))),n.lanes|=1),t)}var rM=ps.ReactCurrentOwner,Jt=!1;function $t(t,e,n,r){e.child=t===null?cS(e,null,n,r):Fa(e,t.child,n,r)}function c_(t,e,n,r,s){n=n.render;var i=e.ref;return ya(e,s),r=Cv(t,e,n,r,i,s),n=Av(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,os(t,e,s)):(ze&&n&&pv(e),e.flags|=1,$t(t,e,r,s),e.child)}function u_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Vv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,MS(t,e,i,r,s)):(t=Kd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fc,n(o,r)&&t.ref===e.ref)return os(t,e,s)}return e.flags|=1,t=oi(i,r),t.ref=e.ref,t.return=e,e.child=t}function MS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Fc(i,r)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,os(t,e,s)}return $g(t,e,n,r,s)}function jS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(da,hn),hn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(da,hn),hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(da,hn),hn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(da,hn),hn|=r;return $t(t,e,s,n),e.child}function LS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $g(t,e,n,r,s){var i=en(n)?co:Lt.current;return i=La(e,i),ya(e,s),n=Cv(t,e,n,r,i,s),r=Av(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,os(t,e,s)):(ze&&r&&pv(e),e.flags|=1,$t(t,e,n,s),e.child)}function d_(t,e,n,r,s){if(en(n)){var i=!0;Eh(e)}else i=!1;if(ya(e,s),e.stateNode===null)Gd(t,e),kS(e,n,r),Fg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=en(n)?co:Lt.current,c=La(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&i_(e,o,r,c),Ls=!1;var m=e.memoizedState;o.state=m,Ch(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Zt.current||Ls?(typeof h=="function"&&(Vg(e,n,h,r),l=e.memoizedState),(a=Ls||s_(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=en(n)?co:Lt.current,l=La(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&i_(e,o,r,l),Ls=!1,m=e.memoizedState,o.state=m,Ch(e,r,o,s);var E=e.memoizedState;a!==f||m!==E||Zt.current||Ls?(typeof p=="function"&&(Vg(e,n,p,r),E=e.memoizedState),(c=Ls||s_(e,n,c,r,m,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Bg(t,e,n,r,i,s)}function Bg(t,e,n,r,s,i){LS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Yx(e,n,!1),os(t,e,i);r=e.stateNode,rM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fa(e,t.child,null,i),e.child=Fa(e,null,a,i)):$t(t,e,a,i),e.memoizedState=r.state,s&&Yx(e,n,!0),e.child}function VS(t){var e=t.stateNode;e.pendingContext?Qx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qx(t,e.context,!1),Iv(t,e.containerInfo)}function h_(t,e,n,r,s){return Va(),yv(s),e.flags|=256,$t(t,e,n,r),e.child}var zg={dehydrated:null,treeContext:null,retryLane:0};function qg(t){return{baseLanes:t,cachePool:null,transitions:null}}function FS(t,e,n){var r=e.pendingProps,s=Ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Ge,s&1),t===null)return jg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mf(o,r,0,null),t=io(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qg(n),e.memoizedState=zg,t):Pv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=oi(a,i):(i=io(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?qg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=zg,r}return i=t.child,t=i.sibling,r=oi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pv(t,e){return e=Mf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yd(t,e,n,r){return r!==null&&yv(r),Fa(e,t.child,null,n),t=Pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_p(Error(q(422))),yd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Mf({mode:"visible",children:r.children},s,0,null),i=io(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fa(e,t.child,null,o),e.child.memoizedState=qg(o),e.memoizedState=zg,i);if(!(e.mode&1))return yd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=_p(i,r,void 0),yd(t,e,o,r)}if(a=(o&t.childLanes)!==0,Jt||a){if(r=vt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,is(t,s),tr(r,t,s,-1))}return Lv(),r=_p(Error(q(421))),yd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,mn=ni(s.nextSibling),pn=e,ze=!0,Yn=null,t!==null&&(Cn[An++]=Xr,Cn[An++]=Jr,Cn[An++]=uo,Xr=t.id,Jr=t.overflow,uo=e),e=Pv(e,r.children),e.flags|=4096,e)}function f_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lg(t.return,e,n)}function Ep(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function US(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if($t(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f_(t,n,e);else if(t.tag===19)f_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ah(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ep(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ah(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ep(e,!0,n,null,i);break;case"together":Ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iM(t,e,n){switch(e.tag){case 3:VS(e),Va();break;case 5:hS(e);break;case 1:en(e.type)&&Eh(e);break;case 4:Iv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Sh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?FS(t,e,n):(Le(Ge,Ge.current&1),t=os(t,e,n),t!==null?t.sibling:null);Le(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return US(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,jS(t,e,n)}return os(t,e,n)}var $S,Gg,BS,zS;$S=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};BS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wi(Ar.current);var i=null;switch(n){case"input":s=fg(t,s),r=fg(t,r),i=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),i=[];break;case"textarea":s=gg(t,s),r=gg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xh)}vg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};zS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wl(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function oM(t,e,n){var r=e.pendingProps;switch(gv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return en(e.type)&&_h(),Rt(e),null;case 3:return r=e.stateNode,Ua(),$e(Zt),$e(Lt),Sv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(Zg(Yn),Yn=null))),Gg(t,e),Rt(e),null;case 5:Tv(e);var s=Wi(qc.current);if(n=e.type,t!==null&&e.stateNode!=null)BS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Rt(e),null}if(t=Wi(Ar.current),pd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tr]=e,r[Bc]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<rc.length;s++)Ue(rc[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ex(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":Tx(r,i),Ue("invalid",r)}vg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&md(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&md(r.textContent,a,t),s=["children",""+a]):kc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":od(r),Ix(r,i,!0);break;case"textarea":od(r),Sx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=xh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tr]=e,t[Bc]=r,$S(t,e,!1,!1),e.stateNode=t;e:{switch(o=wg(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<rc.length;s++)Ue(rc[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":Ex(t,r),s=fg(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":Tx(t,r),s=gg(t,r),Ue("invalid",t);break;default:s=r}vg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?xT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dc(t,l):typeof l=="number"&&Dc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&tv(t,i,l,o))}switch(n){case"input":od(t),Ix(t,r,!1);break;case"textarea":od(t),Sx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)zS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Wi(qc.current),Wi(Ar.current),pd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tr]=e,(i=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:md(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&md(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=e,e.stateNode=r}return Rt(e),null;case 13:if($e(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&mn!==null&&e.mode&1&&!(e.flags&128))aS(),Va(),e.flags|=98560,i=!1;else if(i=pd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Tr]=e}else Va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),i=!1}else Yn!==null&&(Zg(Yn),Yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?dt===0&&(dt=3):Lv())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return Ua(),Gg(t,e),t===null&&Uc(e.stateNode.containerInfo),Rt(e),null;case 10:return xv(e.type._context),Rt(e),null;case 17:return en(e.type)&&_h(),Rt(e),null;case 19:if($e(Ge),i=e.memoizedState,i===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wl(i,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ah(t),o!==null){for(e.flags|=128,Wl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Ge,Ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>Ba&&(e.flags|=128,r=!0,Wl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ah(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return Rt(e),null}else 2*tt()-i.renderingStartTime>Ba&&n!==1073741824&&(e.flags|=128,r=!0,Wl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=Ge.current,Le(Ge,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return jv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hn&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function aM(t,e){switch(gv(e),e.tag){case 1:return en(e.type)&&_h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ua(),$e(Zt),$e(Lt),Sv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tv(e),null;case 13:if($e(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ge),null;case 4:return Ua(),null;case 10:return xv(e.type._context),null;case 22:case 23:return jv(),null;case 24:return null;default:return null}}var vd=!1,Ot=!1,lM=typeof WeakSet=="function"?WeakSet:Set,X=null;function ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Hg(t,e,n){try{n()}catch(r){Je(t,e,r)}}var m_=!1;function cM(t,e){if(Ng=yh,t=KT(),mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++h===r&&(l=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rg={focusedElem:t,selectionRange:n},yh=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,x=E.memoizedState,_=e.stateNode,I=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Gn(e.type,v),x);_.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(R){Je(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return E=m_,m_=!1,E}function vc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hg(e,n,i)}s=s.next}while(s!==r)}}function Df(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qS(t){var e=t.alternate;e!==null&&(t.alternate=null,qS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[Bc],delete e[Dg],delete e[GO],delete e[HO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GS(t){return t.tag===5||t.tag===3||t.tag===4}function p_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xh));else if(r!==4&&(t=t.child,t!==null))for(Kg(t,e,n),t=t.sibling;t!==null;)Kg(t,e,n),t=t.sibling}function Qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qg(t,e,n),t=t.sibling;t!==null;)Qg(t,e,n),t=t.sibling}var xt=null,Qn=!1;function Ns(t,e,n){for(n=n.child;n!==null;)HS(t,e,n),n=n.sibling}function HS(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(Sf,n)}catch{}switch(n.tag){case 5:Ot||ua(n,e);case 6:var r=xt,s=Qn;xt=null,Ns(t,e,n),xt=r,Qn=s,xt!==null&&(Qn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Qn?(t=xt,n=n.stateNode,t.nodeType===8?pp(t.parentNode,n):t.nodeType===1&&pp(t,n),Lc(t)):pp(xt,n.stateNode));break;case 4:r=xt,s=Qn,xt=n.stateNode.containerInfo,Qn=!0,Ns(t,e,n),xt=r,Qn=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Hg(n,e,o),s=s.next}while(s!==r)}Ns(t,e,n);break;case 1:if(!Ot&&(ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Ns(t,e,n);break;case 21:Ns(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Ns(t,e,n),Ot=r):Ns(t,e,n);break;default:Ns(t,e,n)}}function g_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lM),e.forEach(function(r){var s=vM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Qn=!1;break e;case 3:xt=a.stateNode.containerInfo,Qn=!0;break e;case 4:xt=a.stateNode.containerInfo,Qn=!0;break e}a=a.return}if(xt===null)throw Error(q(160));HS(i,o,s),xt=null,Qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Je(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WS(e,t),e=e.sibling}function WS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),vr(t),r&4){try{vc(3,t,t.return),Df(3,t)}catch(v){Je(t,t.return,v)}try{vc(5,t,t.return)}catch(v){Je(t,t.return,v)}}break;case 1:Bn(e,t),vr(t),r&512&&n!==null&&ua(n,n.return);break;case 5:if(Bn(e,t),vr(t),r&512&&n!==null&&ua(n,n.return),t.flags&32){var s=t.stateNode;try{Dc(s,"")}catch(v){Je(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&pT(s,i),wg(a,o);var c=wg(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?xT(s,f):h==="dangerouslySetInnerHTML"?vT(s,f):h==="children"?Dc(s,f):tv(s,h,f,c)}switch(a){case"input":mg(s,i);break;case"textarea":gT(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fa(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?fa(s,!!i.multiple,i.defaultValue,!0):fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bc]=i}catch(v){Je(t,t.return,v)}}break;case 6:if(Bn(e,t),vr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Je(t,t.return,v)}}break;case 3:if(Bn(e,t),vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lc(e.containerInfo)}catch(v){Je(t,t.return,v)}break;case 4:Bn(e,t),vr(t);break;case 13:Bn(e,t),vr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ov=tt())),r&4&&g_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(c=Ot)||h,Bn(e,t),Ot=c):Bn(e,t),vr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(m=X,p=m.child,m.tag){case 0:case 11:case 14:case 15:vc(4,m,m.return);break;case 1:ua(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){Je(r,n,v)}}break;case 5:ua(m,m.return);break;case 22:if(m.memoizedState!==null){v_(f);continue}}p!==null?(p.return=m,X=p):v_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wT("display",o))}catch(v){Je(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Je(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),vr(t),r&4&&g_(t);break;case 21:break;default:Bn(e,t),vr(t)}}function vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GS(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Dc(s,""),r.flags&=-33);var i=p_(t);Qg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=p_(t);Kg(t,a,o);break;default:throw Error(q(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uM(t,e,n){X=t,KS(t)}function KS(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=vd;var c=Ot;if(vd=o,(Ot=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?w_(s):l!==null?(l.return=o,X=l):w_(s);for(;i!==null;)X=i,KS(i),i=i.sibling;X=s,vd=a,Ot=c}y_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):y_(t)}}function y_(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Df(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&t_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Lc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Ot||e.flags&512&&Wg(e)}catch(m){Je(e,e.return,m)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function v_(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function w_(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Df(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{Wg(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{Wg(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var dM=Math.ceil,Ph=ps.ReactCurrentDispatcher,kv=ps.ReactCurrentOwner,kn=ps.ReactCurrentBatchConfig,Te=0,vt=null,st=null,Tt=0,hn=0,da=Ai(0),dt=0,Kc=null,fo=0,Of=0,Dv=0,wc=null,Xt=null,Ov=0,Ba=1/0,Hr=null,kh=!1,Yg=null,si=null,wd=!1,Ys=null,Dh=0,xc=0,Xg=null,Hd=-1,Wd=0;function zt(){return Te&6?tt():Hd!==-1?Hd:Hd=tt()}function ii(t){return t.mode&1?Te&2&&Tt!==0?Tt&-Tt:KO.transition!==null?(Wd===0&&(Wd=kT()),Wd):(t=Re,t!==0||(t=window.event,t=t===void 0?16:FT(t.type)),t):1}function tr(t,e,n,r){if(50<xc)throw xc=0,Xg=null,Error(q(185));yu(t,n,r),(!(Te&2)||t!==vt)&&(t===vt&&(!(Te&2)&&(Of|=n),dt===4&&Us(t,Tt)),tn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Ba=tt()+500,Rf&&Ni()))}function tn(t,e){var n=t.callbackNode;KD(t,e);var r=gh(t,t===vt?Tt:0);if(r===0)n!==null&&Ax(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ax(n),e===1)t.tag===0?WO(x_.bind(null,t)):sS(x_.bind(null,t)),zO(function(){!(Te&6)&&Ni()}),n=null;else{switch(DT(r)){case 1:n=ov;break;case 4:n=RT;break;case 16:n=ph;break;case 536870912:n=PT;break;default:n=ph}n=nb(n,QS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QS(t,e){if(Hd=-1,Wd=0,Te&6)throw Error(q(327));var n=t.callbackNode;if(va()&&t.callbackNode!==n)return null;var r=gh(t,t===vt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oh(t,r);else{e=r;var s=Te;Te|=2;var i=XS();(vt!==t||Tt!==e)&&(Hr=null,Ba=tt()+500,so(t,e));do try{mM();break}catch(a){YS(t,a)}while(!0);wv(),Ph.current=i,Te=s,st!==null?e=0:(vt=null,Tt=0,e=dt)}if(e!==0){if(e===2&&(s=Tg(t),s!==0&&(r=s,e=Jg(t,s))),e===1)throw n=Kc,so(t,0),Us(t,r),tn(t,tt()),n;if(e===6)Us(t,r);else{if(s=t.current.alternate,!(r&30)&&!hM(s)&&(e=Oh(t,r),e===2&&(i=Tg(t),i!==0&&(r=i,e=Jg(t,i))),e===1))throw n=Kc,so(t,0),Us(t,r),tn(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Bi(t,Xt,Hr);break;case 3:if(Us(t,r),(r&130023424)===r&&(e=Ov+500-tt(),10<e)){if(gh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kg(Bi.bind(null,t,Xt,Hr),e);break}Bi(t,Xt,Hr);break;case 4:if(Us(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-er(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dM(r/1960))-r,10<r){t.timeoutHandle=kg(Bi.bind(null,t,Xt,Hr),r);break}Bi(t,Xt,Hr);break;case 5:Bi(t,Xt,Hr);break;default:throw Error(q(329))}}}return tn(t,tt()),t.callbackNode===n?QS.bind(null,t):null}function Jg(t,e){var n=wc;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=Oh(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Zg(e)),t}function Zg(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function hM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Us(t,e){for(e&=~Dv,e&=~Of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-er(e),r=1<<n;t[n]=-1,e&=~r}}function x_(t){if(Te&6)throw Error(q(327));va();var e=gh(t,0);if(!(e&1))return tn(t,tt()),null;var n=Oh(t,e);if(t.tag!==0&&n===2){var r=Tg(t);r!==0&&(e=r,n=Jg(t,r))}if(n===1)throw n=Kc,so(t,0),Us(t,e),tn(t,tt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,Xt,Hr),tn(t,tt()),null}function Mv(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Ba=tt()+500,Rf&&Ni())}}function mo(t){Ys!==null&&Ys.tag===0&&!(Te&6)&&va();var e=Te;Te|=1;var n=kn.transition,r=Re;try{if(kn.transition=null,Re=1,t)return t()}finally{Re=r,kn.transition=n,Te=e,!(Te&6)&&Ni()}}function jv(){hn=da.current,$e(da)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BO(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(gv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_h();break;case 3:Ua(),$e(Zt),$e(Lt),Sv();break;case 5:Tv(r);break;case 4:Ua();break;case 13:$e(Ge);break;case 19:$e(Ge);break;case 10:xv(r.type._context);break;case 22:case 23:jv()}n=n.return}if(vt=t,st=t=oi(t.current,null),Tt=hn=e,dt=0,Kc=null,Dv=Of=fo=0,Xt=wc=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hi=null}return t}function YS(t,e){do{var n=st;try{if(wv(),zd.current=Rh,Nh){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nh=!1}if(ho=0,yt=ut=He=null,yc=!1,Gc=0,kv.current=null,n===null||n.return===null){dt=1,Kc=e,st=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Tt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=a_(o);if(p!==null){p.flags&=-257,l_(p,o,a,i,e),p.mode&1&&o_(i,c,e),e=p,l=c;var E=e.updateQueue;if(E===null){var v=new Set;v.add(l),e.updateQueue=v}else E.add(l);break e}else{if(!(e&1)){o_(i,c,e),Lv();break e}l=Error(q(426))}}else if(ze&&a.mode&1){var x=a_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),l_(x,o,a,i,e),yv($a(l,a));break e}}i=l=$a(l,a),dt!==4&&(dt=2),wc===null?wc=[i]:wc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=DS(i,l,e);e_(i,_);break e;case 1:a=l;var I=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof I.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(si===null||!si.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=OS(i,a,e);e_(i,R);break e}}i=i.return}while(i!==null)}ZS(n)}catch(D){e=D,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function XS(){var t=Ph.current;return Ph.current=Rh,t===null?Rh:t}function Lv(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(fo&268435455)&&!(Of&268435455)||Us(vt,Tt)}function Oh(t,e){var n=Te;Te|=2;var r=XS();(vt!==t||Tt!==e)&&(Hr=null,so(t,e));do try{fM();break}catch(s){YS(t,s)}while(!0);if(wv(),Te=n,Ph.current=r,st!==null)throw Error(q(261));return vt=null,Tt=0,dt}function fM(){for(;st!==null;)JS(st)}function mM(){for(;st!==null&&!FD();)JS(st)}function JS(t){var e=tb(t.alternate,t,hn);t.memoizedProps=t.pendingProps,e===null?ZS(t):st=e,kv.current=null}function ZS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aM(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,st=null;return}}else if(n=oM(n,e,hn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);dt===0&&(dt=5)}function Bi(t,e,n){var r=Re,s=kn.transition;try{kn.transition=null,Re=1,pM(t,e,n,r)}finally{kn.transition=s,Re=r}return null}function pM(t,e,n,r){do va();while(Ys!==null);if(Te&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(QD(t,i),t===vt&&(st=vt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wd||(wd=!0,nb(ph,function(){return va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kn.transition,kn.transition=null;var o=Re;Re=1;var a=Te;Te|=4,kv.current=null,cM(t,n),WS(n,t),MO(Rg),yh=!!Ng,Rg=Ng=null,t.current=n,uM(n),UD(),Te=a,Re=o,kn.transition=i}else t.current=n;if(wd&&(wd=!1,Ys=t,Dh=s),i=t.pendingLanes,i===0&&(si=null),zD(n.stateNode),tn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(kh)throw kh=!1,t=Yg,Yg=null,t;return Dh&1&&t.tag!==0&&va(),i=t.pendingLanes,i&1?t===Xg?xc++:(xc=0,Xg=t):xc=0,Ni(),null}function va(){if(Ys!==null){var t=DT(Dh),e=kn.transition,n=Re;try{if(kn.transition=null,Re=16>t?16:t,Ys===null)var r=!1;else{if(t=Ys,Ys=null,Dh=0,Te&6)throw Error(q(331));var s=Te;for(Te|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:vc(8,h,i)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var m=h.sibling,p=h.return;if(qS(h),h===c){X=null;break}if(m!==null){m.return=p,X=m;break}X=p}}}var E=i.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,X=_;break e}X=i.return}}var I=t.current;for(X=I;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=I;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Df(9,a)}}catch(D){Je(a,a.return,D)}if(a===o){X=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,X=R;break e}X=a.return}}if(Te=s,Ni(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(Sf,t)}catch{}r=!0}return r}finally{Re=n,kn.transition=e}}return!1}function __(t,e,n){e=$a(n,e),e=DS(t,e,1),t=ri(t,e,1),e=zt(),t!==null&&(yu(t,1,e),tn(t,e))}function Je(t,e,n){if(t.tag===3)__(t,t,n);else for(;e!==null;){if(e.tag===3){__(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){t=$a(n,t),t=OS(e,t,1),e=ri(e,t,1),t=zt(),e!==null&&(yu(e,1,t),tn(e,t));break}}e=e.return}}function gM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(Tt&n)===n&&(dt===4||dt===3&&(Tt&130023424)===Tt&&500>tt()-Ov?so(t,0):Dv|=n),tn(t,e)}function eb(t,e){e===0&&(t.mode&1?(e=cd,cd<<=1,!(cd&130023424)&&(cd=4194304)):e=1);var n=zt();t=is(t,e),t!==null&&(yu(t,e,n),tn(t,n))}function yM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eb(t,n)}function vM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),eb(t,n)}var tb;tb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,iM(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,ze&&e.flags&1048576&&iS(e,Th,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gd(t,e),t=e.pendingProps;var s=La(e,Lt.current);ya(e,n),s=Cv(null,e,r,t,s,n);var i=Av();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(i=!0,Eh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ev(e),s.updater=kf,e.stateNode=s,s._reactInternals=e,Fg(e,r,t,n),e=Bg(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&pv(e),$t(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xM(r),t=Gn(r,t),s){case 0:e=$g(null,e,r,t,n);break e;case 1:e=d_(null,e,r,t,n);break e;case 11:e=c_(null,e,r,t,n);break e;case 14:e=u_(null,e,r,Gn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),$g(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),d_(t,e,r,s,n);case 3:e:{if(VS(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dS(t,e),Ch(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$a(Error(q(423)),e),e=h_(t,e,r,n,s);break e}else if(r!==s){s=$a(Error(q(424)),e),e=h_(t,e,r,n,s);break e}else for(mn=ni(e.stateNode.containerInfo.firstChild),pn=e,ze=!0,Yn=null,n=cS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Va(),r===s){e=os(t,e,n);break e}$t(t,e,r,n)}e=e.child}return e;case 5:return hS(e),t===null&&jg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Pg(r,s)?o=null:i!==null&&Pg(r,i)&&(e.flags|=32),LS(t,e),$t(t,e,o,n),e.child;case 6:return t===null&&jg(e),null;case 13:return FS(t,e,n);case 4:return Iv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):$t(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),c_(t,e,r,s,n);case 7:return $t(t,e,e.pendingProps,n),e.child;case 8:return $t(t,e,e.pendingProps.children,n),e.child;case 12:return $t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Sh,r._currentValue),r._currentValue=o,i!==null)if(rr(i.value,o)){if(i.children===s.children&&!Zt.current){e=os(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ts(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Lg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$t(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ya(e,n),s=jn(s),r=r(s),e.flags|=1,$t(t,e,r,n),e.child;case 14:return r=e.type,s=Gn(r,e.pendingProps),s=Gn(r.type,s),u_(t,e,r,s,n);case 15:return MS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Gd(t,e),e.tag=1,en(r)?(t=!0,Eh(e)):t=!1,ya(e,n),kS(e,r,s),Fg(e,r,s,n),Bg(null,e,r,!0,t,n);case 19:return US(t,e,n);case 22:return jS(t,e,n)}throw Error(q(156,e.tag))};function nb(t,e){return NT(t,e)}function wM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new wM(t,e,n,r)}function Vv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xM(t){if(typeof t=="function")return Vv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rv)return 11;if(t===sv)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Kd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Vv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ta:return io(n.children,s,i,e);case nv:o=8,s|=8;break;case cg:return t=Pn(12,n,e,s|2),t.elementType=cg,t.lanes=i,t;case ug:return t=Pn(13,n,e,s),t.elementType=ug,t.lanes=i,t;case dg:return t=Pn(19,n,e,s),t.elementType=dg,t.lanes=i,t;case hT:return Mf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uT:o=10;break e;case dT:o=9;break e;case rv:o=11;break e;case sv:o=14;break e;case js:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function io(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Mf(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=hT,t.lanes=n,t.stateNode={isHidden:!1},t}function Ip(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Tp(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _M(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sp(0),this.expirationTimes=sp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fv(t,e,n,r,s,i,o,a,l){return t=new _M(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ev(i),t}function EM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rb(t){if(!t)return gi;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(en(n))return rS(t,n,e)}return e}function sb(t,e,n,r,s,i,o,a,l){return t=Fv(n,r,!0,t,s,i,o,a,l),t.context=rb(null),n=t.current,r=zt(),s=ii(n),i=ts(r,s),i.callback=e??null,ri(n,i,s),t.current.lanes=s,yu(t,s,r),tn(t,r),t}function jf(t,e,n,r){var s=e.current,i=zt(),o=ii(s);return n=rb(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ri(s,e,o),t!==null&&(tr(t,s,o,i),Bd(t,s,o)),o}function Mh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function E_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uv(t,e){E_(t,e),(t=t.alternate)&&E_(t,e)}function IM(){return null}var ib=typeof reportError=="function"?reportError:function(t){console.error(t)};function $v(t){this._internalRoot=t}Lf.prototype.render=$v.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));jf(t,e,null,null)};Lf.prototype.unmount=$v.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){jf(null,t,null,null)}),e[ss]=null}};function Lf(t){this._internalRoot=t}Lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=jT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fs.length&&e!==0&&e<Fs[n].priority;n++);Fs.splice(n,0,t),n===0&&VT(t)}};function Bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I_(){}function TM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Mh(o);i.call(c)}}var o=sb(e,r,t,0,null,!1,!1,"",I_);return t._reactRootContainer=o,t[ss]=o.current,Uc(t.nodeType===8?t.parentNode:t),mo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Mh(l);a.call(c)}}var l=Fv(t,0,!1,null,null,!1,!1,"",I_);return t._reactRootContainer=l,t[ss]=l.current,Uc(t.nodeType===8?t.parentNode:t),mo(function(){jf(e,l,n,r)}),l}function Ff(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Mh(o);a.call(l)}}jf(e,o,t,s)}else o=TM(n,e,t,s,r);return Mh(o)}OT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nc(e.pendingLanes);n!==0&&(av(e,n|1),tn(e,tt()),!(Te&6)&&(Ba=tt()+500,Ni()))}break;case 13:mo(function(){var r=is(t,1);if(r!==null){var s=zt();tr(r,t,1,s)}}),Uv(t,1)}};lv=function(t){if(t.tag===13){var e=is(t,134217728);if(e!==null){var n=zt();tr(e,t,134217728,n)}Uv(t,134217728)}};MT=function(t){if(t.tag===13){var e=ii(t),n=is(t,e);if(n!==null){var r=zt();tr(n,t,e,r)}Uv(t,e)}};jT=function(){return Re};LT=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};_g=function(t,e,n){switch(e){case"input":if(mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Nf(r);if(!s)throw Error(q(90));mT(r),mg(r,s)}}}break;case"textarea":gT(t,n);break;case"select":e=n.value,e!=null&&fa(t,!!n.multiple,e,!1)}};IT=Mv;TT=mo;var SM={usingClientEntryPoint:!1,Events:[wu,ia,Nf,_T,ET,Mv]},Kl={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bM={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CT(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||IM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Sf=xd.inject(bM),Cr=xd}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SM;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bv(e))throw Error(q(200));return EM(t,e,null,n)};xn.createRoot=function(t,e){if(!Bv(t))throw Error(q(299));var n=!1,r="",s=ib;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fv(t,1,!1,null,null,n,!1,r,s),t[ss]=e.current,Uc(t.nodeType===8?t.parentNode:t),new $v(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=CT(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return mo(t)};xn.hydrate=function(t,e,n){if(!Vf(e))throw Error(q(200));return Ff(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!Bv(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ib;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sb(e,null,t,1,n??null,s,!1,i,o),t[ss]=e.current,Uc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Lf(e)};xn.render=function(t,e,n){if(!Vf(e))throw Error(q(200));return Ff(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!Vf(t))throw Error(q(40));return t._reactRootContainer?(mo(function(){Ff(null,null,t,!1,function(){t._reactRootContainer=null,t[ss]=null})}),!0):!1};xn.unstable_batchedUpdates=Mv;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Ff(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function ob(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ob)}catch(t){console.error(t)}}ob(),oT.exports=xn;var _u=oT.exports;const ab=KI(_u);var lb,T_=_u;lb=T_.createRoot,T_.hydrateRoot;const CM=1,AM=1e6;let Sp=0;function NM(){return Sp=(Sp+1)%Number.MAX_SAFE_INTEGER,Sp.toString()}const bp=new Map,S_=t=>{if(bp.has(t))return;const e=setTimeout(()=>{bp.delete(t),_c({type:"REMOVE_TOAST",toastId:t})},AM);bp.set(t,e)},RM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,CM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?S_(n):t.toasts.forEach(r=>{S_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qd=[];let Yd={toasts:[]};function _c(t){Yd=RM(Yd,t),Qd.forEach(e=>{e(Yd)})}function PM({...t}){const e=NM(),n=s=>_c({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>_c({type:"DISMISS_TOAST",toastId:e});return _c({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ln(){const[t,e]=y.useState(Yd);return y.useEffect(()=>(Qd.push(e),()=>{const n=Qd.indexOf(e);n>-1&&Qd.splice(n,1)}),[t]),{...t,toast:PM,dismiss:n=>_c({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function b_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Uf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=b_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():b_(t[s],null)}}}}function Ke(...t){return y.useCallback(Uf(...t),t)}function kM(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function lr(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=f=>{var _;const{scope:m,children:p,...E}=f,v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,x=y.useMemo(()=>E,Object.values(E));return u.jsx(v.Provider,{value:x,children:p})};c.displayName=i+"Provider";function h(f,m){var v;const p=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,E=y.useContext(p);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,DM(s,...e)]}function DM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function po(t){const e=MM(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(LM);if(l){const c=l.props.children,h=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var OM=po("Slot");function MM(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=FM(s),a=VM(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Uf(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cb=Symbol("radix.slottable");function jM(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cb,e}function LM(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cb}function VM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function FM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zv(t){const e=t+"CollectionProvider",[n,r]=lr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:_}=v,I=G.useRef(null),S=G.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:S,collectionRef:I,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=po(a),c=G.forwardRef((v,x)=>{const{scope:_,children:I}=v,S=i(a,_),R=Ke(x,S.collectionRef);return u.jsx(l,{ref:R,children:I})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=po(h),p=G.forwardRef((v,x)=>{const{scope:_,children:I,...S}=v,R=G.useRef(null),D=Ke(x,R),M=i(h,_);return G.useEffect(()=>(M.itemMap.set(R,{ref:R,...S}),()=>void M.itemMap.delete(R))),u.jsx(m,{[f]:"",ref:D,children:I})});p.displayName=h;function E(v){const x=i(t+"CollectionConsumer",v);return G.useCallback(()=>{const I=x.collectionRef.current;if(!I)return[];const S=Array.from(I.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((M,b)=>S.indexOf(M.ref.current)-S.indexOf(b.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},E,r]}var UM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=UM.reduce((t,e)=>{const n=po(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function qv(t,e){t&&_u.flushSync(()=>t.dispatchEvent(e))}function an(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $M(t,e=globalThis==null?void 0:globalThis.document){const n=an(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var BM="DismissableLayer",ey="dismissableLayer.update",zM="dismissableLayer.pointerDownOutside",qM="dismissableLayer.focusOutside",C_,ub=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),al=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(ub),[h,f]=y.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),E=Ke(e,b=>f(b)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),I=h?v.indexOf(h):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,R=I>=_,D=HM(b=>{const T=b.target,C=[...c.branches].some(A=>A.contains(T));!R||C||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),M=WM(b=>{const T=b.target;[...c.branches].some(A=>A.contains(T))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return $M(b=>{I===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),y.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(C_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),A_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=C_)}},[h,m,n,c]),y.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),A_())},[h,c]),y.useEffect(()=>{const b=()=>p({});return document.addEventListener(ey,b),()=>document.removeEventListener(ey,b)},[]),u.jsx(ve.div,{...l,ref:E,style:{pointerEvents:S?R?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});al.displayName=BM;var GM="DismissableLayerBranch",db=y.forwardRef((t,e)=>{const n=y.useContext(ub),r=y.useRef(null),s=Ke(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ve.div,{...t,ref:s})});db.displayName=GM;function HM(t,e=globalThis==null?void 0:globalThis.document){const n=an(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){hb(zM,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WM(t,e=globalThis==null?void 0:globalThis.document){const n=an(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&hb(qM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function A_(){const t=new CustomEvent(ey);document.dispatchEvent(t)}function hb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qv(s,i):s.dispatchEvent(i)}var KM=al,QM=db,Vn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},YM="Portal",Eu=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Vn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ab.createPortal(u.jsx(ve.div,{...r,ref:e}),o):null});Eu.displayName=YM;function XM(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var En=t=>{const{present:e,children:n}=t,r=JM(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ke(r.ref,ZM(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};En.displayName="Presence";function JM(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=XM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=_d(r.current);i.current=a==="mounted"?c:"none"},[a]),Vn(()=>{const c=r.current,h=s.current;if(h!==t){const m=i.current,p=_d(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Vn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=p=>{const v=_d(r.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=p=>{p.target===e&&(i.current=_d(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function _d(t){return(t==null?void 0:t.animationName)||"none"}function ZM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ej=Jy[" useInsertionEffect ".trim().toString()]||Vn;function ll({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=tj({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=y.useCallback(h=>{var f;if(a){const m=nj(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,c]}function tj({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return ej(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function nj(t){return typeof t=="function"}var rj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sj="VisuallyHidden",$f=y.forwardRef((t,e)=>u.jsx(ve.span,{...t,ref:e,style:{...rj,...t.style}}));$f.displayName=sj;var ij=$f,Gv="ToastProvider",[Hv,oj,aj]=zv("Toast"),[fb,lQ]=lr("Toast",[aj]),[lj,Bf]=fb(Gv),mb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,h]=y.useState(0),f=y.useRef(!1),m=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gv}\`. Expected non-empty \`string\`.`),u.jsx(Hv.Provider,{scope:e,children:u.jsx(lj,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>h(p=>p+1),[]),onToastRemove:y.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};mb.displayName=Gv;var pb="ToastViewport",cj=["F8"],ty="toast.viewportPause",ny="toast.viewportResume",gb=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cj,label:s="Notifications ({hotkey})",...i}=t,o=Bf(pb,n),a=oj(n),l=y.useRef(null),c=y.useRef(null),h=y.useRef(null),f=y.useRef(null),m=Ke(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;y.useEffect(()=>{const x=_=>{var S;r.length!==0&&r.every(R=>_[R]||_.code===R)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,_=f.current;if(E&&x&&_){const I=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(ty);_.dispatchEvent(M),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(ny);_.dispatchEvent(M),o.isClosePausedRef.current=!1}},R=M=>{!x.contains(M.relatedTarget)&&S()},D=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",I),x.addEventListener("focusout",R),x.addEventListener("pointermove",I),x.addEventListener("pointerleave",D),window.addEventListener("blur",I),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",I),x.removeEventListener("focusout",R),x.removeEventListener("pointermove",I),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",I),window.removeEventListener("focus",S)}}},[E,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:x})=>{const I=a().map(S=>{const R=S.ref.current,D=[R,...Ej(R)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?I.reverse():I).flat()},[a]);return y.useEffect(()=>{const x=f.current;if(x){const _=I=>{var D,M,b;const S=I.altKey||I.ctrlKey||I.metaKey;if(I.key==="Tab"&&!S){const T=document.activeElement,C=I.shiftKey;if(I.target===x&&C){(D=c.current)==null||D.focus();return}const O=v({tabbingDirection:C?"backwards":"forwards"}),P=O.findIndex(z=>z===T);Cp(O.slice(P+1))?I.preventDefault():C?(M=c.current)==null||M.focus():(b=h.current)==null||b.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,v]),u.jsxs(QM,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&u.jsx(ry,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});Cp(x)}}),u.jsx(Hv.Slot,{scope:n,children:u.jsx(ve.ol,{tabIndex:-1,...i,ref:m})}),E&&u.jsx(ry,{ref:h,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});Cp(x)}})]})});gb.displayName=pb;var yb="ToastFocusProxy",ry=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Bf(yb,n);return u.jsx($f,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});ry.displayName=yb;var Iu="Toast",uj="toast.swipeStart",dj="toast.swipeMove",hj="toast.swipeCancel",fj="toast.swipeEnd",vb=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=ll({prop:r,defaultProp:s??!0,onChange:i,caller:Iu});return u.jsx(En,{present:n||a,children:u.jsx(gj,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:an(t.onPause),onResume:an(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});vb.displayName=Iu;var[mj,pj]=fb(Iu,{onClose(){}}),gj=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...E}=t,v=Bf(Iu,n),[x,_]=y.useState(null),I=Ke(e,z=>_(z)),S=y.useRef(null),R=y.useRef(null),D=s||v.duration,M=y.useRef(0),b=y.useRef(D),T=y.useRef(0),{onToastAdd:C,onToastRemove:A}=v,k=an(()=>{var re;(x==null?void 0:x.contains(document.activeElement))&&((re=v.viewport)==null||re.focus()),o()}),O=y.useCallback(z=>{!z||z===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(k,z))},[k]);y.useEffect(()=>{const z=v.viewport;if(z){const re=()=>{O(b.current),c==null||c()},H=()=>{const te=new Date().getTime()-M.current;b.current=b.current-te,window.clearTimeout(T.current),l==null||l()};return z.addEventListener(ty,H),z.addEventListener(ny,re),()=>{z.removeEventListener(ty,H),z.removeEventListener(ny,re)}}},[v.viewport,D,l,c,O]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(D)},[i,D,v.isClosePausedRef,O]),y.useEffect(()=>(C(),()=>A()),[C,A]);const P=y.useMemo(()=>x?Sb(x):null,[x]);return v.viewport?u.jsxs(u.Fragment,{children:[P&&u.jsx(yj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),u.jsx(mj,{scope:n,onClose:k,children:_u.createPortal(u.jsx(Hv.ItemSlot,{scope:n,children:u.jsx(KM,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...E,ref:I,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ee(t.onPointerDown,z=>{z.button===0&&(S.current={x:z.clientX,y:z.clientY})}),onPointerMove:ee(t.onPointerMove,z=>{if(!S.current)return;const re=z.clientX-S.current.x,H=z.clientY-S.current.y,te=!!R.current,F=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,W=F?L(0,re):0,ne=F?0:L(0,H),Z=z.pointerType==="touch"?10:2,de={x:W,y:ne},ce={originalEvent:z,delta:de};te?(R.current=de,Ed(dj,f,ce,{discrete:!1})):N_(de,v.swipeDirection,Z)?(R.current=de,Ed(uj,h,ce,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(re)>Z||Math.abs(H)>Z)&&(S.current=null)}),onPointerUp:ee(t.onPointerUp,z=>{const re=R.current,H=z.target;if(H.hasPointerCapture(z.pointerId)&&H.releasePointerCapture(z.pointerId),R.current=null,S.current=null,re){const te=z.currentTarget,F={originalEvent:z,delta:re};N_(re,v.swipeDirection,v.swipeThreshold)?Ed(fj,p,F,{discrete:!0}):Ed(hj,m,F,{discrete:!0}),te.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),yj=t=>{const{__scopeToast:e,children:n,...r}=t,s=Bf(Iu,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return xj(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Eu,{asChild:!0,children:u.jsx($f,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},vj="ToastTitle",wb=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ve.div,{...r,ref:e})});wb.displayName=vj;var wj="ToastDescription",xb=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ve.div,{...r,ref:e})});xb.displayName=wj;var _b="ToastAction",Eb=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Tb,{altText:n,asChild:!0,children:u.jsx(Wv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_b}\`. Expected non-empty \`string\`.`),null)});Eb.displayName=_b;var Ib="ToastClose",Wv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=pj(Ib,n);return u.jsx(Tb,{asChild:!0,children:u.jsx(ve.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});Wv.displayName=Ib;var Tb=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Sb(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_j(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Sb(r))}}),e}function Ed(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?qv(s,i):s.dispatchEvent(i)}var N_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function xj(t=()=>{}){const e=an(t);Vn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _j(t){return t.nodeType===t.ELEMENT_NODE}function Ej(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Ij=mb,bb=gb,Cb=vb,Ab=wb,Nb=xb,Rb=Eb,Pb=Wv;function kb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=kb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Db(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=kb(t))&&(r&&(r+=" "),r+=e);return r}const R_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,P_=Db,zf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return P_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const m=R_(h)||R_(f);return s[c][m]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,m]=h;return m===void 0||(c[f]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(E=>{let[v,x]=E;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...c,f,m]:c},[]);return P_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ob=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...Sj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Ob("lucide",s),...a},[...o.map(([c,h])=>y.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(bj,{ref:i,iconNode:e,className:Ob(`lucide-${Tj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Pe("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=Pe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=Pe("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=Pe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Pe("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kv="-",Fj=t=>{const e=$j(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Kv);return a[0]===""&&a.length!==1&&a.shift(),Bb(a,e)||Uj(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Bb=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Bb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Kv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},k_=/^\[(.+)\]$/,Uj=t=>{if(k_.test(t)){const e=k_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},$j=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return zj(Object.entries(t.classGroups),n).forEach(([i,o])=>{iy(o,r,i,e)}),r},iy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:D_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Bj(s)){iy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{iy(o,D_(e,i),n,r)})})},D_=(t,e)=>{let n=t;return e.split(Kv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Bj=t=>t.isThemeGetter,zj=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,qj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},zb="!",Gj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let x=0;x<a.length;x++){let _=a[x];if(c===0){if(_===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(h,x)),h=x+i;continue}if(_==="/"){f=x;continue}}_==="["?c++:_==="]"&&c--}const m=l.length===0?a:a.substring(h),p=m.startsWith(zb),E=p?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:E,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Hj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Wj=t=>({cache:qj(t.cacheSize),parseClassName:Gj(t),...Fj(t)}),Kj=/\s+/,Qj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Kj);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(c);let E=!!p,v=r(E?m.substring(0,p):m);if(!v){if(!E){a=c+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=c+(a.length>0?" "+a:a);continue}E=!1}const x=Hj(h).join(":"),_=f?x+zb:x,I=_+v;if(i.includes(I))continue;i.push(I);const S=s(v,E);for(let R=0;R<S.length;++R){const D=S[R];i.push(_+D)}a=c+(a.length>0?" "+a:a)}return a};function Yj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=qb(e))&&(r&&(r+=" "),r+=n);return r}const qb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qb(t[r]))&&(n&&(n+=" "),n+=e);return n};function Xj(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=Wj(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=Qj(l,n);return s(l,h),h}return function(){return i(Yj.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Gb=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jj=/^\d+\/\d+$/,Zj=new Set(["px","full","screen"]),eL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,rL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=t=>wa(t)||Zj.has(t)||Jj.test(t),Rs=t=>ul(t,"length",hL),wa=t=>!!t&&!Number.isNaN(Number(t)),Ap=t=>ul(t,"number",wa),Ql=t=>!!t&&Number.isInteger(Number(t)),iL=t=>t.endsWith("%")&&wa(t.slice(0,-1)),pe=t=>Gb.test(t),Ps=t=>eL.test(t),oL=new Set(["length","size","percentage"]),aL=t=>ul(t,oL,Hb),lL=t=>ul(t,"position",Hb),cL=new Set(["image","url"]),uL=t=>ul(t,cL,mL),dL=t=>ul(t,"",fL),Yl=()=>!0,ul=(t,e,n)=>{const r=Gb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},hL=t=>tL.test(t)&&!nL.test(t),Hb=()=>!1,fL=t=>rL.test(t),mL=t=>sL.test(t),pL=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),h=Fe("hueRotate"),f=Fe("invert"),m=Fe("gap"),p=Fe("gradientColorStops"),E=Fe("gradientColorStopPositions"),v=Fe("inset"),x=Fe("margin"),_=Fe("opacity"),I=Fe("padding"),S=Fe("saturate"),R=Fe("scale"),D=Fe("sepia"),M=Fe("skew"),b=Fe("space"),T=Fe("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",pe,e],O=()=>[pe,e],P=()=>["",qr,Rs],z=()=>["auto",wa,pe],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",pe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[wa,pe];return{cacheSize:500,separator:":",theme:{colors:[Yl],spacing:[qr,Rs],blur:["none","",Ps,pe],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Ps,pe],borderSpacing:O(),borderWidth:P(),contrast:ne(),grayscale:L(),hueRotate:ne(),invert:L(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[iL,Rs],inset:k(),margin:k(),opacity:ne(),padding:O(),saturate:ne(),scale:ne(),sepia:L(),skew:ne(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),pe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ql,pe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Ql,pe]}],"grid-cols":[{"grid-cols":[Yl]}],"col-start-end":[{col:["auto",{span:["full",Ql,pe]},pe]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Yl]}],"row-start-end":[{row:["auto",{span:[Ql,pe]},pe]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[Ps]},Ps]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ps,Rs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ap]}],"font-family":[{font:[Yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",wa,Ap]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,Rs]}],"underline-offset":[{"underline-offset":["auto",qr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),lL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[qr,pe]}],"outline-w":[{outline:[qr,Rs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[qr,Rs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ps,dL]}],"shadow-color":[{shadow:[Yl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ps,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[Ql,pe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qr,Rs,Ap]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gL=Xj(pL);function le(...t){return gL(Db(t))}const yL=Ij,Wb=y.forwardRef(({className:t,...e},n)=>u.jsx(bb,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Wb.displayName=bb.displayName;const vL=zf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Kb=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(Cb,{ref:r,className:le(vL({variant:e}),t),...n}));Kb.displayName=Cb.displayName;const wL=y.forwardRef(({className:t,...e},n)=>u.jsx(Rb,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));wL.displayName=Rb.displayName;const Qb=y.forwardRef(({className:t,...e},n)=>u.jsx(Pb,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(as,{className:"h-4 w-4"})}));Qb.displayName=Pb.displayName;const Yb=y.forwardRef(({className:t,...e},n)=>u.jsx(Ab,{ref:n,className:le("text-sm font-semibold",t),...e}));Yb.displayName=Ab.displayName;const Xb=y.forwardRef(({className:t,...e},n)=>u.jsx(Nb,{ref:n,className:le("text-sm opacity-90",t),...e}));Xb.displayName=Nb.displayName;function xL(){const{toasts:t}=ln();return u.jsxs(yL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(Kb,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Yb,{children:n}),r&&u.jsx(Xb,{children:r})]}),s,u.jsx(Qb,{})]},e)}),u.jsx(Wb,{})]})}var O_=["light","dark"],_L="(prefers-color-scheme: dark)",EL=y.createContext(void 0),IL={setTheme:t=>{},themes:[]},TL=()=>{var t;return(t=y.useContext(EL))!=null?t:IL};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?O_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(E,v=!1,x=!0)=>{let _=o?o[E]:E,I=v?E+"|| ''":`'${_}'`,S="";return s&&x&&!v&&O_.includes(E)&&(S+=`d.style.colorScheme = '${E}';`),n==="class"?v||_?S+=`c.add(${I})`:S+="null":_&&(S+=`d[s](n,${I})`),S},p=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${_L}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var SL=t=>{switch(t){case"success":return AL;case"info":return RL;case"warning":return NL;case"error":return PL;default:return null}},bL=Array(12).fill(0),CL=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},bL.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),AL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DL=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},oy=1,OL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:oy++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],G.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(jL(c)&&!c.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,h)=>a.then(()=>o[0]==="reject"?h(o[1]):c(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||oy++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qt=new OL,ML=(t,e)=>{let n=(e==null?void 0:e.id)||oy++;return Qt.addToast({title:t,...e,id:n}),n},jL=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",LL=ML,VL=()=>Qt.toasts,FL=()=>Qt.getActiveToasts();Object.assign(LL,{success:Qt.success,info:Qt.info,warning:Qt.warning,error:Qt.error,custom:Qt.custom,message:Qt.message,promise:Qt.promise,dismiss:Qt.dismiss,loading:Qt.loading},{getHistory:VL,getToasts:FL});function UL(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}UL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Id(t){return t.label!==void 0}var $L=3,BL="32px",zL="16px",M_=4e3,qL=356,GL=14,HL=20,WL=200;function zn(...t){return t.filter(Boolean).join(" ")}function KL(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var QL=t=>{var e,n,r,s,i,o,a,l,c,h,f;let{invert:m,toast:p,unstyled:E,interacting:v,setHeights:x,visibleToasts:_,heights:I,index:S,toasts:R,expanded:D,removeToast:M,defaultRichColors:b,closeButton:T,style:C,cancelButtonStyle:A,actionButtonStyle:k,className:O="",descriptionClassName:P="",duration:z,position:re,gap:H,loadingIcon:te,expandByDefault:F,classNames:L,icons:W,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:Z}=t,[de,ce]=G.useState(null),[ke,Oe]=G.useState(null),[me,cn]=G.useState(!1),[Ze,In]=G.useState(!1),[dr,$r]=G.useState(!1),[Tn,Di]=G.useState(!1),[bl,xs]=G.useState(!1),[Oi,_s]=G.useState(0),[qe,ft]=G.useState(0),hr=G.useRef(p.duration||z||M_),qu=G.useRef(null),fr=G.useRef(null),jm=S===0,Mi=S+1<=_,Ft=p.type,Br=p.dismissible!==!1,Cl=p.className||"",Lm=p.descriptionClassName||"",Fo=G.useMemo(()=>I.findIndex(ie=>ie.toastId===p.id)||0,[I,p.id]),Gu=G.useMemo(()=>{var ie;return(ie=p.closeButton)!=null?ie:T},[p.closeButton,T]),Al=G.useMemo(()=>p.duration||z||M_,[p.duration,z]),zr=G.useRef(0),mr=G.useRef(0),Uo=G.useRef(0),Wt=G.useRef(null),[Hu,$o]=re.split("-"),Nl=G.useMemo(()=>I.reduce((ie,be,Me)=>Me>=Fo?ie:ie+be.height,0),[I,Fo]),Es=DL(),Wu=p.invert||m,lt=Ft==="loading";mr.current=G.useMemo(()=>Fo*H+Nl,[Fo,Nl]),G.useEffect(()=>{hr.current=Al},[Al]),G.useEffect(()=>{cn(!0)},[]),G.useEffect(()=>{let ie=fr.current;if(ie){let be=ie.getBoundingClientRect().height;return ft(be),x(Me=>[{toastId:p.id,height:be,position:p.position},...Me]),()=>x(Me=>Me.filter(mt=>mt.toastId!==p.id))}},[x,p.id]),G.useLayoutEffect(()=>{if(!me)return;let ie=fr.current,be=ie.style.height;ie.style.height="auto";let Me=ie.getBoundingClientRect().height;ie.style.height=be,ft(Me),x(mt=>mt.find(un=>un.toastId===p.id)?mt.map(un=>un.toastId===p.id?{...un,height:Me}:un):[{toastId:p.id,height:Me,position:p.position},...mt])},[me,p.title,p.description,x,p.id]);let Un=G.useCallback(()=>{In(!0),_s(mr.current),x(ie=>ie.filter(be=>be.toastId!==p.id)),setTimeout(()=>{M(p)},WL)},[p,M,x,mr]);G.useEffect(()=>{if(p.promise&&Ft==="loading"||p.duration===1/0||p.type==="loading")return;let ie;return D||v||Z&&Es?(()=>{if(Uo.current<zr.current){let be=new Date().getTime()-zr.current;hr.current=hr.current-be}Uo.current=new Date().getTime()})():hr.current!==1/0&&(zr.current=new Date().getTime(),ie=setTimeout(()=>{var be;(be=p.onAutoClose)==null||be.call(p,p),Un()},hr.current)),()=>clearTimeout(ie)},[D,v,p,Ft,Z,Es,Un]),G.useEffect(()=>{p.delete&&Un()},[Un,p.delete]);function ji(){var ie,be,Me;return W!=null&&W.loading?G.createElement("div",{className:zn(L==null?void 0:L.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Ft==="loading"},W.loading):te?G.createElement("div",{className:zn(L==null?void 0:L.loader,(be=p==null?void 0:p.classNames)==null?void 0:be.loader,"sonner-loader"),"data-visible":Ft==="loading"},te):G.createElement(CL,{className:zn(L==null?void 0:L.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader),visible:Ft==="loading"})}return G.createElement("li",{tabIndex:0,ref:fr,className:zn(O,Cl,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ft],(n=p==null?void 0:p.classNames)==null?void 0:n[Ft]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||E),"data-mounted":me,"data-promise":!!p.promise,"data-swiped":bl,"data-removed":Ze,"data-visible":Mi,"data-y-position":Hu,"data-x-position":$o,"data-index":S,"data-front":jm,"data-swiping":dr,"data-dismissible":Br,"data-type":Ft,"data-invert":Wu,"data-swipe-out":Tn,"data-swipe-direction":ke,"data-expanded":!!(D||F&&me),style:{"--index":S,"--toasts-before":S,"--z-index":R.length-S,"--offset":`${Ze?Oi:mr.current}px`,"--initial-height":F?"auto":`${qe}px`,...C,...p.style},onDragEnd:()=>{$r(!1),ce(null),Wt.current=null},onPointerDown:ie=>{lt||!Br||(qu.current=new Date,_s(mr.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&($r(!0),Wt.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,be,Me,mt;if(Tn||!Br)return;Wt.current=null;let un=Number(((ie=fr.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pr=Number(((be=fr.current)==null?void 0:be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Sn=new Date().getTime()-((Me=qu.current)==null?void 0:Me.getTime()),Kt=de==="x"?un:pr,$n=Math.abs(Kt)/Sn;if(Math.abs(Kt)>=HL||$n>.11){_s(mr.current),(mt=p.onDismiss)==null||mt.call(p,p),Oe(de==="x"?un>0?"right":"left":pr>0?"down":"up"),Un(),Di(!0),xs(!1);return}$r(!1),ce(null)},onPointerMove:ie=>{var be,Me,mt,un;if(!Wt.current||!Br||((be=window.getSelection())==null?void 0:be.toString().length)>0)return;let pr=ie.clientY-Wt.current.y,Sn=ie.clientX-Wt.current.x,Kt=(Me=t.swipeDirections)!=null?Me:KL(re);!de&&(Math.abs(Sn)>1||Math.abs(pr)>1)&&ce(Math.abs(Sn)>Math.abs(pr)?"x":"y");let $n={x:0,y:0};de==="y"?(Kt.includes("top")||Kt.includes("bottom"))&&(Kt.includes("top")&&pr<0||Kt.includes("bottom")&&pr>0)&&($n.y=pr):de==="x"&&(Kt.includes("left")||Kt.includes("right"))&&(Kt.includes("left")&&Sn<0||Kt.includes("right")&&Sn>0)&&($n.x=Sn),(Math.abs($n.x)>0||Math.abs($n.y)>0)&&xs(!0),(mt=fr.current)==null||mt.style.setProperty("--swipe-amount-x",`${$n.x}px`),(un=fr.current)==null||un.style.setProperty("--swipe-amount-y",`${$n.y}px`)}},Gu&&!p.jsx?G.createElement("button",{"aria-label":ne,"data-disabled":lt,"data-close-button":!0,onClick:lt||!Br?()=>{}:()=>{var ie;Un(),(ie=p.onDismiss)==null||ie.call(p,p)},className:zn(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=W==null?void 0:W.close)!=null?i:kL):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:G.createElement(G.Fragment,null,Ft||p.icon||p.promise?G.createElement("div",{"data-icon":"",className:zn(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ji():null,p.type!=="loading"?p.icon||(W==null?void 0:W[Ft])||SL(Ft):null):null,G.createElement("div",{"data-content":"",className:zn(L==null?void 0:L.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:zn(L==null?void 0:L.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?G.createElement("div",{"data-description":"",className:zn(P,Lm,L==null?void 0:L.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&Id(p.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:ie=>{var be,Me;Id(p.cancel)&&Br&&((Me=(be=p.cancel).onClick)==null||Me.call(be,ie),Un())},className:zn(L==null?void 0:L.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&Id(p.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:ie=>{var be,Me;Id(p.action)&&((Me=(be=p.action).onClick)==null||Me.call(be,ie),!ie.defaultPrevented&&Un())},className:zn(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function j_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function YL(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?zL:BL;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var XL=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:E=$L,toastOptions:v,dir:x=j_(),gap:_=GL,loadingIcon:I,icons:S,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:D}=t,[M,b]=G.useState([]),T=G.useMemo(()=>Array.from(new Set([r].concat(M.filter(Z=>Z.position).map(Z=>Z.position)))),[M,r]),[C,A]=G.useState([]),[k,O]=G.useState(!1),[P,z]=G.useState(!1),[re,H]=G.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=G.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=G.useRef(null),W=G.useRef(!1),ne=G.useCallback(Z=>{b(de=>{var ce;return(ce=de.find(ke=>ke.id===Z.id))!=null&&ce.delete||Qt.dismiss(Z.id),de.filter(({id:ke})=>ke!==Z.id)})},[]);return G.useEffect(()=>Qt.subscribe(Z=>{if(Z.dismiss){b(de=>de.map(ce=>ce.id===Z.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{ab.flushSync(()=>{b(de=>{let ce=de.findIndex(ke=>ke.id===Z.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...Z},...de.slice(ce+1)]:[Z,...de]})})})}),[]),G.useEffect(()=>{if(h!=="system"){H(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:de})=>{H(de?"dark":"light")})}catch{Z.addListener(({matches:ce})=>{try{H(ce?"dark":"light")}catch(ke){console.error(ke)}})}},[h]),G.useEffect(()=>{M.length<=1&&O(!1)},[M]),G.useEffect(()=>{let Z=de=>{var ce,ke;s.every(Oe=>de[Oe]||de.code===Oe)&&(O(!0),(ce=te.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===te.current||(ke=te.current)!=null&&ke.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),G.useEffect(()=>{if(te.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[te.current]),G.createElement("section",{ref:e,"aria-label":`${R} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((Z,de)=>{var ce;let[ke,Oe]=Z.split("-");return M.length?G.createElement("ol",{key:Z,dir:x==="auto"?j_():x,tabIndex:-1,ref:te,className:a,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":ke,"data-lifted":k&&M.length>1&&!i,"data-x-position":Oe,style:{"--front-toast-height":`${((ce=C[0])==null?void 0:ce.height)||0}px`,"--width":`${qL}px`,"--gap":`${_}px`,...p,...YL(l,c)},onBlur:me=>{W.current&&!me.currentTarget.contains(me.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=me.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{P||O(!1)},onDragEnd:()=>O(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},M.filter(me=>!me.position&&de===0||me.position===Z).map((me,cn)=>{var Ze,In;return G.createElement(QL,{key:me.id,icons:S,index:cn,toast:me,defaultRichColors:f,duration:(Ze=v==null?void 0:v.duration)!=null?Ze:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:E,closeButton:(In=v==null?void 0:v.closeButton)!=null?In:o,interacting:P,position:Z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ne,toasts:M.filter(dr=>dr.position==me.position),heights:C.filter(dr=>dr.position==me.position),setHeights:A,expandByDefault:i,gap:_,loadingIcon:I,expanded:k,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const JL=({...t})=>{const{theme:e="system"}=TL();return u.jsx(XL,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var ZL=Jy[" useId ".trim().toString()]||(()=>{}),e4=0;function ai(t){const[e,n]=y.useState(ZL());return Vn(()=>{t||n(r=>r??String(e4++))},[t]),t||(e?`radix-${e}`:"")}const t4=["top","right","bottom","left"],wi=Math.min,fn=Math.max,Lh=Math.round,Td=Math.floor,Nr=t=>({x:t,y:t}),n4={left:"right",right:"left",bottom:"top",top:"bottom"},r4={start:"end",end:"start"};function ay(t,e,n){return fn(t,wi(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function dl(t){return t.split("-")[1]}function Qv(t){return t==="x"?"y":"x"}function Yv(t){return t==="y"?"height":"width"}const s4=new Set(["top","bottom"]);function br(t){return s4.has(cs(t))?"y":"x"}function Xv(t){return Qv(br(t))}function i4(t,e,n){n===void 0&&(n=!1);const r=dl(t),s=Xv(t),i=Yv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Vh(o)),[o,Vh(o)]}function o4(t){const e=Vh(t);return[ly(t),e,ly(e)]}function ly(t){return t.replace(/start|end/g,e=>r4[e])}const L_=["left","right"],V_=["right","left"],a4=["top","bottom"],l4=["bottom","top"];function c4(t,e,n){switch(t){case"top":case"bottom":return n?e?V_:L_:e?L_:V_;case"left":case"right":return e?a4:l4;default:return[]}}function u4(t,e,n,r){const s=dl(t);let i=c4(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ly)))),i}function Vh(t){return t.replace(/left|right|bottom|top/g,e=>n4[e])}function d4(t){return{top:0,right:0,bottom:0,left:0,...t}}function Jb(t){return typeof t!="number"?d4(t):{top:t,right:t,bottom:t,left:t}}function Fh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function F_(t,e,n){let{reference:r,floating:s}=t;const i=br(e),o=Xv(e),a=Yv(o),l=cs(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(dl(e)){case"start":p[o]-=m*(n&&c?-1:1);break;case"end":p[o]+=m*(n&&c?-1:1);break}return p}const h4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=F_(c,r,l),m=r,p={},E=0;for(let v=0;v<a.length;v++){const{name:x,fn:_}=a[v],{x:I,y:S,data:R,reset:D}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});h=I??h,f=S??f,p={...p,[x]:{...p[x],...R}},D&&E<=50&&(E++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=F_(c,m,l)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Qc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ls(e,t),E=Jb(p),x=a[m?f==="floating"?"reference":"floating":f],_=Fh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),I=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=Fh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:I,offsetParent:S,strategy:l}):I);return{top:(_.top-D.top+E.top)/R.y,bottom:(D.bottom-_.bottom+E.bottom)/R.y,left:(_.left-D.left+E.left)/R.x,right:(D.right-_.right+E.right)/R.x}}const f4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=ls(t,e)||{};if(c==null)return{};const f=Jb(h),m={x:n,y:r},p=Xv(s),E=Yv(p),v=await o.getDimensions(c),x=p==="y",_=x?"top":"left",I=x?"bottom":"right",S=x?"clientHeight":"clientWidth",R=i.reference[E]+i.reference[p]-m[p]-i.floating[E],D=m[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=M?M[S]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[S]||i.floating[E]);const T=R/2-D/2,C=b/2-v[E]/2-1,A=wi(f[_],C),k=wi(f[I],C),O=A,P=b-v[E]-k,z=b/2-v[E]/2+T,re=ay(O,z,P),H=!l.arrow&&dl(s)!=null&&z!==re&&i.reference[E]/2-(z<O?A:k)-v[E]/2<0,te=H?z<O?z-O:z-P:0;return{[p]:m[p]+te,data:{[p]:re,centerOffset:z-re-te,...H&&{alignmentOffset:te}},reset:H}}}),m4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:v=!0,...x}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=cs(s),I=br(a),S=cs(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=m||(S||!v?[Vh(a)]:o4(a)),M=E!=="none";!m&&M&&D.push(...u4(a,v,E,R));const b=[a,...D],T=await Qc(e,x),C=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(T[_]),f){const z=i4(s,o,R);C.push(T[z[0]],T[z[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(z=>z<=0)){var k,O;const z=(((k=i.flip)==null?void 0:k.index)||0)+1,re=b[z];if(re&&(!(f==="alignment"?I!==br(re):!1)||A.every(F=>F.overflows[0]>0&&br(F.placement)===I)))return{data:{index:z,overflows:A},reset:{placement:re}};let H=(O=A.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(p){case"bestFit":{var P;const te=(P=A.filter(F=>{if(M){const L=br(F.placement);return L===I||L==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((F,L)=>F[1]-L[1])[0])==null?void 0:P[0];te&&(H=te);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function U_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $_(t){return t4.some(e=>t[e]>=0)}const p4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await Qc(e,{...s,elementContext:"reference"}),o=U_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$_(o)}}}case"escaped":{const i=await Qc(e,{...s,altBoundary:!0}),o=U_(i,n.floating);return{data:{escapedOffsets:o,escaped:$_(o)}}}default:return{}}}}},Zb=new Set(["left","top"]);async function g4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=dl(n),l=br(n)==="y",c=Zb.has(o)?-1:1,h=i&&l?-1:1,f=ls(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:E}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof E=="number"&&(p=a==="end"?E*-1:E),l?{x:p*h,y:m*c}:{x:m*c,y:p*h}}const y4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await g4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},v4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y:I}=x;return{x:_,y:I}}},...l}=ls(t,e),c={x:n,y:r},h=await Qc(e,l),f=br(cs(s)),m=Qv(f);let p=c[m],E=c[f];if(i){const x=m==="y"?"top":"left",_=m==="y"?"bottom":"right",I=p+h[x],S=p-h[_];p=ay(I,p,S)}if(o){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",I=E+h[x],S=E-h[_];E=ay(I,E,S)}const v=a.fn({...e,[m]:p,[f]:E});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},w4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ls(t,e),h={x:n,y:r},f=br(s),m=Qv(f);let p=h[m],E=h[f];const v=ls(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=m==="y"?"height":"width",R=i.reference[m]-i.floating[S]+x.mainAxis,D=i.reference[m]+i.reference[S]-x.mainAxis;p<R?p=R:p>D&&(p=D)}if(c){var _,I;const S=m==="y"?"width":"height",R=Zb.has(cs(s)),D=i.reference[f]-i.floating[S]+(R&&((_=o.offset)==null?void 0:_[f])||0)+(R?0:x.crossAxis),M=i.reference[f]+i.reference[S]+(R?0:((I=o.offset)==null?void 0:I[f])||0)-(R?x.crossAxis:0);E<D?E=D:E>M&&(E=M)}return{[m]:p,[f]:E}}}},x4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ls(t,e),h=await Qc(e,c),f=cs(s),m=dl(s),p=br(s)==="y",{width:E,height:v}=i.floating;let x,_;f==="top"||f==="bottom"?(x=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,x=m==="end"?"top":"bottom");const I=v-h.top-h.bottom,S=E-h.left-h.right,R=wi(v-h[x],I),D=wi(E-h[_],S),M=!e.middlewareData.shift;let b=R,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=I),M&&!m){const A=fn(h.left,0),k=fn(h.right,0),O=fn(h.top,0),P=fn(h.bottom,0);p?T=E-2*(A!==0||k!==0?A+k:fn(h.left,h.right)):b=v-2*(O!==0||P!==0?O+P:fn(h.top,h.bottom))}await l({...e,availableWidth:T,availableHeight:b});const C=await o.getDimensions(a.floating);return E!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function qf(){return typeof window<"u"}function hl(t){return eC(t)?(t.nodeName||"").toLowerCase():"#document"}function gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ur(t){var e;return(e=(eC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eC(t){return qf()?t instanceof Node||t instanceof gn(t).Node:!1}function sr(t){return qf()?t instanceof Element||t instanceof gn(t).Element:!1}function jr(t){return qf()?t instanceof HTMLElement||t instanceof gn(t).HTMLElement:!1}function B_(t){return!qf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gn(t).ShadowRoot}const _4=new Set(["inline","contents"]);function Su(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ir(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!_4.has(s)}const E4=new Set(["table","td","th"]);function I4(t){return E4.has(hl(t))}const T4=[":popover-open",":modal"];function Gf(t){return T4.some(e=>{try{return t.matches(e)}catch{return!1}})}const S4=["transform","translate","scale","rotate","perspective"],b4=["transform","translate","scale","rotate","perspective","filter"],C4=["paint","layout","strict","content"];function Jv(t){const e=Zv(),n=sr(t)?ir(t):t;return S4.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||b4.some(r=>(n.willChange||"").includes(r))||C4.some(r=>(n.contain||"").includes(r))}function A4(t){let e=xi(t);for(;jr(e)&&!qa(e);){if(Jv(e))return e;if(Gf(e))return null;e=xi(e)}return null}function Zv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const N4=new Set(["html","body","#document"]);function qa(t){return N4.has(hl(t))}function ir(t){return gn(t).getComputedStyle(t)}function Hf(t){return sr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xi(t){if(hl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||B_(t)&&t.host||Ur(t);return B_(e)?e.host:e}function tC(t){const e=xi(t);return qa(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&Su(e)?e:tC(e)}function Yc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=tC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=gn(s);if(i){const a=cy(o);return e.concat(o,o.visualViewport||[],Su(s)?s:[],a&&n?Yc(a):[])}return e.concat(s,Yc(s,[],n))}function cy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nC(t){const e=ir(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Lh(n)!==i||Lh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function ew(t){return sr(t)?t:t.contextElement}function xa(t){const e=ew(t);if(!jr(e))return Nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=nC(e);let o=(i?Lh(n.width):n.width)/r,a=(i?Lh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const R4=Nr(0);function rC(t){const e=gn(t);return!Zv()||!e.visualViewport?R4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function P4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gn(t)?!1:e}function go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=ew(t);let o=Nr(1);e&&(r?sr(r)&&(o=xa(r)):o=xa(t));const a=P4(i,n,r)?rC(i):Nr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=gn(i),p=r&&sr(r)?gn(r):r;let E=m,v=cy(E);for(;v&&r&&p!==E;){const x=xa(v),_=v.getBoundingClientRect(),I=ir(v),S=_.left+(v.clientLeft+parseFloat(I.paddingLeft))*x.x,R=_.top+(v.clientTop+parseFloat(I.paddingTop))*x.y;l*=x.x,c*=x.y,h*=x.x,f*=x.y,l+=S,c+=R,E=gn(v),v=cy(E)}}return Fh({width:h,height:f,x:l,y:c})}function tw(t,e){const n=Hf(t).scrollLeft;return e?e.left+n:go(Ur(t)).left+n}function sC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:tw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function k4(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ur(r),a=e?Gf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Nr(1);const h=Nr(0),f=jr(r);if((f||!f&&!i)&&((hl(r)!=="body"||Su(o))&&(l=Hf(r)),jr(r))){const p=go(r);c=xa(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=o&&!f&&!i?sC(o,l,!0):Nr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+m.x,y:n.y*c.y-l.scrollTop*c.y+h.y+m.y}}function D4(t){return Array.from(t.getClientRects())}function O4(t){const e=Ur(t),n=Hf(t),r=t.ownerDocument.body,s=fn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=fn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tw(t);const a=-n.scrollTop;return ir(r).direction==="rtl"&&(o+=fn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function M4(t,e){const n=gn(t),r=Ur(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Zv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const j4=new Set(["absolute","fixed"]);function L4(t,e){const n=go(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=jr(t)?xa(t):Nr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function z_(t,e,n){let r;if(e==="viewport")r=M4(t,n);else if(e==="document")r=O4(Ur(t));else if(sr(e))r=L4(e,n);else{const s=rC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fh(r)}function iC(t,e){const n=xi(t);return n===e||!sr(n)||qa(n)?!1:ir(n).position==="fixed"||iC(n,e)}function V4(t,e){const n=e.get(t);if(n)return n;let r=Yc(t,[],!1).filter(a=>sr(a)&&hl(a)!=="body"),s=null;const i=ir(t).position==="fixed";let o=i?xi(t):t;for(;sr(o)&&!qa(o);){const a=ir(o),l=Jv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&j4.has(s.position)||Su(o)&&!l&&iC(t,o))?r=r.filter(h=>h!==o):s=a,o=xi(o)}return e.set(t,r),r}function F4(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Gf(e)?[]:V4(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=z_(e,h,s);return c.top=fn(f.top,c.top),c.right=wi(f.right,c.right),c.bottom=wi(f.bottom,c.bottom),c.left=fn(f.left,c.left),c},z_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function U4(t){const{width:e,height:n}=nC(t);return{width:e,height:n}}function $4(t,e,n){const r=jr(e),s=Ur(e),i=n==="fixed",o=go(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Nr(0);function c(){l.x=tw(s)}if(r||!r&&!i)if((hl(e)!=="body"||Su(s))&&(a=Hf(e)),r){const p=go(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?sC(s,a):Nr(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function Np(t){return ir(t).position==="static"}function q_(t,e){if(!jr(t)||ir(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ur(t)===n&&(n=n.ownerDocument.body),n}function oC(t,e){const n=gn(t);if(Gf(t))return n;if(!jr(t)){let s=xi(t);for(;s&&!qa(s);){if(sr(s)&&!Np(s))return s;s=xi(s)}return n}let r=q_(t,e);for(;r&&I4(r)&&Np(r);)r=q_(r,e);return r&&qa(r)&&Np(r)&&!Jv(r)?n:r||A4(t)||n}const B4=async function(t){const e=this.getOffsetParent||oC,n=this.getDimensions,r=await n(t.floating);return{reference:$4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function z4(t){return ir(t).direction==="rtl"}const q4={convertOffsetParentRelativeRectToViewportRelativeRect:k4,getDocumentElement:Ur,getClippingRect:F4,getOffsetParent:oC,getElementRects:B4,getClientRects:D4,getDimensions:U4,getScale:xa,isElement:sr,isRTL:z4};function aC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function G4(t,e){let n=null,r;const s=Ur(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=c;if(a||e(),!m||!p)return;const E=Td(f),v=Td(s.clientWidth-(h+m)),x=Td(s.clientHeight-(f+p)),_=Td(h),S={rootMargin:-E+"px "+-v+"px "+-x+"px "+-_+"px",threshold:fn(0,wi(1,l))||1};let R=!0;function D(M){const b=M[0].intersectionRatio;if(b!==l){if(!R)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!aC(c,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(D,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,S)}n.observe(t)}return o(!0),i}function H4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ew(t),h=s||i?[...c?Yc(c):[],...Yc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=c&&a?G4(c,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[I]=_;I&&I.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let E,v=l?go(t):null;l&&x();function x(){const _=go(t);v&&!aC(v,_)&&n(),v=_,E=requestAnimationFrame(x)}return n(),()=>{var _;h.forEach(I=>{s&&I.removeEventListener("scroll",n),i&&I.removeEventListener("resize",n)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(E)}}const W4=y4,K4=v4,Q4=m4,Y4=x4,X4=p4,G_=f4,J4=w4,Z4=(t,e,n)=>{const r=new Map,s={platform:q4,...n},i={...s.platform,_c:r};return h4(t,e,{...s,platform:i})};var eV=typeof document<"u",tV=function(){},Xd=eV?y.useLayoutEffect:tV;function Uh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Uh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function lC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function H_(t,e){const n=lC(t);return Math.round(e*n)/n}function Rp(t){const e=y.useRef(t);return Xd(()=>{e.current=t}),e}function nV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(r);Uh(m,r)||p(r);const[E,v]=y.useState(null),[x,_]=y.useState(null),I=y.useCallback(F=>{F!==M.current&&(M.current=F,v(F))},[]),S=y.useCallback(F=>{F!==b.current&&(b.current=F,_(F))},[]),R=i||E,D=o||x,M=y.useRef(null),b=y.useRef(null),T=y.useRef(h),C=l!=null,A=Rp(l),k=Rp(s),O=Rp(c),P=y.useCallback(()=>{if(!M.current||!b.current)return;const F={placement:e,strategy:n,middleware:m};k.current&&(F.platform=k.current),Z4(M.current,b.current,F).then(L=>{const W={...L,isPositioned:O.current!==!1};z.current&&!Uh(T.current,W)&&(T.current=W,_u.flushSync(()=>{f(W)}))})},[m,e,n,k,O]);Xd(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const z=y.useRef(!1);Xd(()=>(z.current=!0,()=>{z.current=!1}),[]),Xd(()=>{if(R&&(M.current=R),D&&(b.current=D),R&&D){if(A.current)return A.current(R,D,P);P()}},[R,D,P,A,C]);const re=y.useMemo(()=>({reference:M,floating:b,setReference:I,setFloating:S}),[I,S]),H=y.useMemo(()=>({reference:R,floating:D}),[R,D]),te=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!H.floating)return F;const L=H_(H.floating,h.x),W=H_(H.floating,h.y);return a?{...F,transform:"translate("+L+"px, "+W+"px)",...lC(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:W}},[n,a,H.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:P,refs:re,elements:H,floatingStyles:te}),[h,P,re,H,te])}const rV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?G_({element:r.current,padding:s}).fn(n):{}:r?G_({element:r,padding:s}).fn(n):{}}}},sV=(t,e)=>({...W4(t),options:[t,e]}),iV=(t,e)=>({...K4(t),options:[t,e]}),oV=(t,e)=>({...J4(t),options:[t,e]}),aV=(t,e)=>({...Q4(t),options:[t,e]}),lV=(t,e)=>({...Y4(t),options:[t,e]}),cV=(t,e)=>({...X4(t),options:[t,e]}),uV=(t,e)=>({...rV(t),options:[t,e]});var dV="Arrow",cC=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});cC.displayName=dV;var hV=cC;function fV(t){const[e,n]=y.useState(void 0);return Vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var nw="Popper",[uC,fl]=lr(nw),[mV,dC]=uC(nw),hC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return u.jsx(mV,{scope:e,anchor:r,onAnchorChange:s,children:n})};hC.displayName=nw;var fC="PopperAnchor",mC=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=dC(fC,n),o=y.useRef(null),a=Ke(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ve.div,{...s,ref:a})});mC.displayName=fC;var rw="PopperContent",[pV,gV]=uC(rw),pC=y.forwardRef((t,e)=>{var me,cn,Ze,In,dr,$r;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:E,...v}=t,x=dC(rw,n),[_,I]=y.useState(null),S=Ke(e,Tn=>I(Tn)),[R,D]=y.useState(null),M=fV(R),b=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],O=k.length>0,P={padding:A,boundary:k.filter(vV),altBoundary:O},{refs:z,floatingStyles:re,placement:H,isPositioned:te,middlewareData:F}=nV({strategy:"fixed",placement:C,whileElementsMounted:(...Tn)=>H4(...Tn,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[sV({mainAxis:s+T,alignmentAxis:o}),l&&iV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?oV():void 0,...P}),l&&aV({...P}),lV({...P,apply:({elements:Tn,rects:Di,availableWidth:bl,availableHeight:xs})=>{const{width:Oi,height:_s}=Di.reference,qe=Tn.floating.style;qe.setProperty("--radix-popper-available-width",`${bl}px`),qe.setProperty("--radix-popper-available-height",`${xs}px`),qe.setProperty("--radix-popper-anchor-width",`${Oi}px`),qe.setProperty("--radix-popper-anchor-height",`${_s}px`)}}),R&&uV({element:R,padding:a}),wV({arrowWidth:b,arrowHeight:T}),m&&cV({strategy:"referenceHidden",...P})]}),[L,W]=vC(H),ne=an(E);Vn(()=>{te&&(ne==null||ne())},[te,ne]);const Z=(me=F.arrow)==null?void 0:me.x,de=(cn=F.arrow)==null?void 0:cn.y,ce=((Ze=F.arrow)==null?void 0:Ze.centerOffset)!==0,[ke,Oe]=y.useState();return Vn(()=>{_&&Oe(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:te?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(In=F.transformOrigin)==null?void 0:In.x,(dr=F.transformOrigin)==null?void 0:dr.y].join(" "),...(($r=F.hide)==null?void 0:$r.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(pV,{scope:n,placedSide:L,onArrowChange:D,arrowX:Z,arrowY:de,shouldHideArrow:ce,children:u.jsx(ve.div,{"data-side":L,"data-align":W,...v,ref:S,style:{...v.style,animation:te?void 0:"none"}})})})});pC.displayName=rw;var gC="PopperArrow",yV={top:"bottom",right:"left",bottom:"top",left:"right"},yC=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=gV(gC,r),o=yV[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(hV,{...s,ref:n,style:{...s.style,display:"block"}})})});yC.displayName=gC;function vV(t){return t!==null}var wV=t=>({name:"transformOrigin",options:t,fn(e){var x,_,I;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=vC(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,p=(((I=s.arrow)==null?void 0:I.y)??0)+l/2;let E="",v="";return c==="bottom"?(E=o?f:`${m}px`,v=`${-l}px`):c==="top"?(E=o?f:`${m}px`,v=`${r.floating.height+l}px`):c==="right"?(E=`${-l}px`,v=o?f:`${p}px`):c==="left"&&(E=`${r.floating.width+l}px`,v=o?f:`${p}px`),{data:{x:E,y:v}}}});function vC(t){const[e,n="center"]=t.split("-");return[e,n]}var wC=hC,Wf=mC,sw=pC,iw=yC,[Kf,uQ]=lr("Tooltip",[fl]),ow=fl(),xC="TooltipProvider",xV=700,W_="tooltip.open",[_V,_C]=Kf(xC),EC=t=>{const{__scopeTooltip:e,delayDuration:n=xV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(_V,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};EC.displayName=xC;var IC="Tooltip",[dQ,Qf]=Kf(IC),uy="TooltipTrigger",EV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Qf(uy,n),i=_C(uy,n),o=ow(n),a=y.useRef(null),l=Ke(e,a,s.onTriggerChange),c=y.useRef(!1),h=y.useRef(!1),f=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Wf,{asChild:!0,...o,children:u.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});EV.displayName=uy;var IV="TooltipPortal",[hQ,TV]=Kf(IV,{forceMount:void 0}),Ga="TooltipContent",TC=y.forwardRef((t,e)=>{const n=TV(Ga,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Qf(Ga,t.__scopeTooltip);return u.jsx(En,{present:r||o.open,children:o.disableHoverableContent?u.jsx(SC,{side:s,...i,ref:e}):u.jsx(SV,{side:s,...i,ref:e})})}),SV=y.forwardRef((t,e)=>{const n=Qf(Ga,t.__scopeTooltip),r=_C(Ga,t.__scopeTooltip),s=y.useRef(null),i=Ke(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,m=y.useCallback(()=>{a(null),f(!1)},[f]),p=y.useCallback((E,v)=>{const x=E.currentTarget,_={x:E.clientX,y:E.clientY},I=RV(_,x.getBoundingClientRect()),S=PV(_,I),R=kV(v.getBoundingClientRect()),D=OV([...S,...R]);a(D),f(!0)},[f]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(l&&h){const E=x=>p(x,h),v=x=>p(x,l);return l.addEventListener("pointerleave",E),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",E),h.removeEventListener("pointerleave",v)}}},[l,h,p,m]),y.useEffect(()=>{if(o){const E=v=>{const x=v.target,_={x:v.clientX,y:v.clientY},I=(l==null?void 0:l.contains(x))||(h==null?void 0:h.contains(x)),S=!DV(_,o);I?m():S&&(m(),c())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[l,h,o,c,m]),u.jsx(SC,{...t,ref:i})}),[bV,CV]=Kf(IC,{isInside:!1}),AV=jM("TooltipContent"),SC=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Qf(Ga,n),c=ow(n),{onClose:h}=l;return y.useEffect(()=>(document.addEventListener(W_,h),()=>document.removeEventListener(W_,h)),[h]),y.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),u.jsx(al,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:u.jsxs(sw,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(AV,{children:r}),u.jsx(bV,{scope:n,isInside:!0,children:u.jsx(ij,{id:l.contentId,role:"tooltip",children:s||r})})]})})});TC.displayName=Ga;var bC="TooltipArrow",NV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=ow(n);return CV(bC,n).isInside?null:u.jsx(iw,{...s,...r,ref:e})});NV.displayName=bC;function RV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function PV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function kV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function DV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-c)*(r-h)/(m-h)+c&&(s=!s)}return s}function OV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MV(e)}function MV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jV=EC,CC=TC;const LV=jV,VV=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(CC,{ref:r,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));VV.displayName=CC.displayName;var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xf=typeof window>"u"||"Deno"in globalThis;function Hn(){}function FV(t,e){return typeof t=="function"?t(e):t}function UV(t){return typeof t=="number"&&t>=0&&t!==1/0}function $V(t,e){return Math.max(t+(e||0)-Date.now(),0)}function dy(t,e){return typeof t=="function"?t(e):t}function BV(t,e){return typeof t=="function"?t(e):t}function K_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==aw(o,e.options))return!1}else if(!Jc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Q_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xc(e.options.mutationKey)!==Xc(i))return!1}else if(!Jc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function aw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xc)(t)}function Xc(t){return JSON.stringify(t,(e,n)=>hy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Jc(t[n],e[n])):!1}function AC(t,e){if(t===e)return t;const n=Y_(t)&&Y_(e);if(n||hy(t)&&hy(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=AC(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Y_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hy(t){if(!X_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!X_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function X_(t){return Object.prototype.toString.call(t)==="[object Object]"}function zV(t){return new Promise(e=>{setTimeout(e,t)})}function qV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AC(t,e):e}function GV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function HV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lw=Symbol();function NC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ji,qs,Aa,UI,WV=(UI=class extends Yf{constructor(){super();Se(this,Ji);Se(this,qs);Se(this,Aa);fe(this,Aa,e=>{if(!Xf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,qs)||this.setEventListener(U(this,Aa))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,qs))==null||e.call(this),fe(this,qs,void 0))}setEventListener(e){var n;fe(this,Aa,e),(n=U(this,qs))==null||n.call(this),fe(this,qs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ji)!==e&&(fe(this,Ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ji)=="boolean"?U(this,Ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ji=new WeakMap,qs=new WeakMap,Aa=new WeakMap,UI),RC=new WV,Na,Gs,Ra,$I,KV=($I=class extends Yf{constructor(){super();Se(this,Na,!0);Se(this,Gs);Se(this,Ra);fe(this,Ra,e=>{if(!Xf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Gs)||this.setEventListener(U(this,Ra))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Gs))==null||e.call(this),fe(this,Gs,void 0))}setEventListener(e){var n;fe(this,Ra,e),(n=U(this,Gs))==null||n.call(this),fe(this,Gs,e(this.setOnline.bind(this)))}setOnline(e){U(this,Na)!==e&&(fe(this,Na,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Na)}},Na=new WeakMap,Gs=new WeakMap,Ra=new WeakMap,$I),$h=new KV;function QV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function YV(t){return Math.min(1e3*2**t,3e4)}function PC(t){return(t??"online")==="online"?$h.isOnline():!0}var kC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Pp(t){return t instanceof kC}function DC(t){let e=!1,n=0,r=!1,s;const i=QV(),o=v=>{var x;r||(m(new kC(v)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>RC.isFocused()&&(t.networkMode==="always"||$h.isOnline())&&t.canRun(),h=()=>PC(t.networkMode)&&t.canRun(),f=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var x;s=_=>{(r||c())&&v(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),E=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var M;if(r)return;const I=t.retry??(Xf?0:3),S=t.retryDelay??YV,R=typeof S=="function"?S(n,_):S,D=I===!0||typeof I=="number"&&n<I||typeof I=="function"&&I(n,_);if(e||!D){m(_);return}n++,(M=t.onFail)==null||M.call(t,n,_),zV(R).then(()=>c()?void 0:p()).then(()=>{e?m(_):E()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?E():p().then(E),i)}}var XV=t=>setTimeout(t,0);function JV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=XV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Bt=JV(),Zi,BI,OC=(BI=class{constructor(){Se(this,Zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UV(this.gcTime)&&fe(this,Zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xf?1/0:5*60*1e3))}clearGcTimeout(){U(this,Zi)&&(clearTimeout(U(this,Zi)),fe(this,Zi,void 0))}},Zi=new WeakMap,BI),Pa,eo,bn,to,kt,mu,no,Wn,Gr,zI,ZV=(zI=class extends OC{constructor(n){super();Se(this,Wn);Se(this,Pa);Se(this,eo);Se(this,bn);Se(this,to);Se(this,kt);Se(this,mu);Se(this,no);fe(this,no,!1),fe(this,mu,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,to,n.client),fe(this,bn,U(this,to).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,Pa,tF(this.options)),this.state=n.state??U(this,Pa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,kt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,mu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,bn).remove(this)}setData(n,r){const s=qV(this.state.data,n,this.options);return At(this,Wn,Gr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){At(this,Wn,Gr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,kt))==null?void 0:s.promise;return(i=U(this,kt))==null||i.cancel(n),r?r.then(Hn).catch(Hn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Pa))}isActive(){return this.observers.some(n=>BV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>dy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!$V(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,bn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,kt)&&(U(this,no)?U(this,kt).cancel({revert:!0}):U(this,kt).cancelRetry()),this.scheduleGc()),U(this,bn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Wn,Gr).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,kt))return U(this,kt).continueRetry(),U(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(E=>E.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(fe(this,no,!0),s.signal)})},o=()=>{const p=NC(this.options,r),v=(()=>{const x={client:U(this,to),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return fe(this,no,!1),this.options.persister?this.options.persister(p,v,this):p(v)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,to),state:this.state,fetchFn:o};return i(p),p})();(h=this.options.behavior)==null||h.onFetch(l,this),fe(this,eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&At(this,Wn,Gr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=p=>{var E,v,x,_;Pp(p)&&p.silent||At(this,Wn,Gr).call(this,{type:"error",error:p}),Pp(p)||((v=(E=U(this,bn).config).onError)==null||v.call(E,p,this),(_=(x=U(this,bn).config).onSettled)==null||_.call(x,this.state.data,p,this)),this.scheduleGc()};return fe(this,kt,DC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var E,v,x,_;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(I){c(I);return}(v=(E=U(this,bn).config).onSuccess)==null||v.call(E,p,this),(_=(x=U(this,bn).config).onSettled)==null||_.call(x,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,E)=>{At(this,Wn,Gr).call(this,{type:"failed",failureCount:p,error:E})},onPause:()=>{At(this,Wn,Gr).call(this,{type:"pause"})},onContinue:()=>{At(this,Wn,Gr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,kt).start()}},Pa=new WeakMap,eo=new WeakMap,bn=new WeakMap,to=new WeakMap,kt=new WeakMap,mu=new WeakMap,no=new WeakMap,Wn=new WeakSet,Gr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...eF(s.data,this.options),fetchMeta:n.meta??null};case"success":return fe(this,eo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Pp(i)&&i.revert&&U(this,eo)?{...U(this,eo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Bt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,bn).notify({query:this,type:"updated",action:n})})},zI);function eF(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tF(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _r,qI,nF=(qI=class extends Yf{constructor(e={}){super();Se(this,_r);this.config=e,fe(this,_r,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??aw(s,n);let o=this.get(i);return o||(o=new ZV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,_r).has(e.queryHash)||(U(this,_r).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,_r).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,_r).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Bt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,_r).get(e)}getAll(){return[...U(this,_r).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>K_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>K_(e,r)):n}notify(e){Bt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Bt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Bt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_r=new WeakMap,qI),Er,Ut,ro,Ir,Ds,GI,rF=(GI=class extends OC{constructor(n){super();Se(this,Ir);Se(this,Er);Se(this,Ut);Se(this,ro);this.mutationId=n.mutationId,fe(this,Ut,n.mutationCache),fe(this,Er,[]),this.state=n.state||sF(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Er).includes(n)||(U(this,Er).push(n),this.clearGcTimeout(),U(this,Ut).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,Er,U(this,Er).filter(r=>r!==n)),this.scheduleGc(),U(this,Ut).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Er).length||(this.state.status==="pending"?this.scheduleGc():U(this,Ut).remove(this))}continue(){var n;return((n=U(this,ro))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,h,f,m,p,E,v,x,_,I,S,R,D,M,b,T,C;const r=()=>{At(this,Ir,Ds).call(this,{type:"continue"})};fe(this,ro,DC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{At(this,Ir,Ds).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{At(this,Ir,Ds).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Ut).canRun(this)}));const s=this.state.status==="pending",i=!U(this,ro).canStart();try{if(s)r();else{At(this,Ir,Ds).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Ut).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));k!==this.state.context&&At(this,Ir,Ds).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const A=await U(this,ro).start();return await((f=(h=U(this,Ut).config).onSuccess)==null?void 0:f.call(h,A,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,A,n,this.state.context)),await((v=(E=U(this,Ut).config).onSettled)==null?void 0:v.call(E,A,null,this.state.variables,this.state.context,this)),await((_=(x=this.options).onSettled)==null?void 0:_.call(x,A,null,n,this.state.context)),At(this,Ir,Ds).call(this,{type:"success",data:A}),A}catch(A){try{throw await((S=(I=U(this,Ut).config).onError)==null?void 0:S.call(I,A,n,this.state.context,this)),await((D=(R=this.options).onError)==null?void 0:D.call(R,A,n,this.state.context)),await((b=(M=U(this,Ut).config).onSettled)==null?void 0:b.call(M,void 0,A,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,A,n,this.state.context)),A}finally{At(this,Ir,Ds).call(this,{type:"error",error:A})}}finally{U(this,Ut).runNext(this)}}},Er=new WeakMap,Ut=new WeakMap,ro=new WeakMap,Ir=new WeakSet,Ds=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Bt.batch(()=>{U(this,Er).forEach(s=>{s.onMutationUpdate(n)}),U(this,Ut).notify({mutation:this,type:"updated",action:n})})},GI);function sF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kr,Kn,pu,HI,iF=(HI=class extends Yf{constructor(e={}){super();Se(this,Kr);Se(this,Kn);Se(this,pu);this.config=e,fe(this,Kr,new Set),fe(this,Kn,new Map),fe(this,pu,0)}build(e,n,r){const s=new rF({mutationCache:this,mutationId:++rd(this,pu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Kr).add(e);const n=Sd(e);if(typeof n=="string"){const r=U(this,Kn).get(n);r?r.push(e):U(this,Kn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Kr).delete(e)){const n=Sd(e);if(typeof n=="string"){const r=U(this,Kn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Kn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Sd(e);if(typeof n=="string"){const r=U(this,Kn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Sd(e);if(typeof n=="string"){const s=(r=U(this,Kn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bt.batch(()=>{U(this,Kr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Kr).clear(),U(this,Kn).clear()})}getAll(){return Array.from(U(this,Kr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Q_(n,r))}findAll(e={}){return this.getAll().filter(n=>Q_(e,n))}notify(e){Bt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Bt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Hn))))}},Kr=new WeakMap,Kn=new WeakMap,pu=new WeakMap,HI);function Sd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function J_(t){return{onFetch:(e,n)=>{var h,f,m,p,E;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((E=e.state.data)==null?void 0:E.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=NC(e.options,e.fetchOptions),I=async(S,R,D)=>{if(v)return Promise.reject();if(R==null&&S.pages.length)return Promise.resolve(S);const b=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};return x(k),k})(),T=await _(b),{maxPages:C}=e.options,A=D?HV:GV;return{pages:A(S.pages,T,C),pageParams:A(S.pageParams,R,C)}};if(s&&i.length){const S=s==="backward",R=S?oF:Z_,D={pages:i,pageParams:o},M=R(r,D);a=await I(D,M,S)}else{const S=t??i.length;do{const R=l===0?o[0]??r.initialPageParam:Z_(r,a);if(l>0&&R==null)break;a=await I(a,R),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Z_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function oF(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,Hs,Ws,ka,Da,Ks,Oa,Ma,WI,aF=(WI=class{constructor(t={}){Se(this,Xe);Se(this,Hs);Se(this,Ws);Se(this,ka);Se(this,Da);Se(this,Ks);Se(this,Oa);Se(this,Ma);fe(this,Xe,t.queryCache||new nF),fe(this,Hs,t.mutationCache||new iF),fe(this,Ws,t.defaultOptions||{}),fe(this,ka,new Map),fe(this,Da,new Map),fe(this,Ks,0)}mount(){rd(this,Ks)._++,U(this,Ks)===1&&(fe(this,Oa,RC.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onFocus())})),fe(this,Ma,$h.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onOnline())})))}unmount(){var t,e;rd(this,Ks)._--,U(this,Ks)===0&&((t=U(this,Oa))==null||t.call(this),fe(this,Oa,void 0),(e=U(this,Ma))==null||e.call(this),fe(this,Ma,void 0))}isFetching(t){return U(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Hs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(dy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=FV(e,i);if(o!==void 0)return U(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Bt.batch(()=>U(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Xe);Bt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Xe);return Bt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Bt.batch(()=>U(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Hn).catch(Hn)}invalidateQueries(t,e={}){return Bt.batch(()=>(U(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Bt.batch(()=>U(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Hn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Hn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Xe).build(this,e);return n.isStaleByTime(dy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hn).catch(Hn)}fetchInfiniteQuery(t){return t.behavior=J_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hn).catch(Hn)}ensureInfiniteQueryData(t){return t.behavior=J_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $h.isOnline()?U(this,Hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Xe)}getMutationCache(){return U(this,Hs)}getDefaultOptions(){return U(this,Ws)}setDefaultOptions(t){fe(this,Ws,t)}setQueryDefaults(t,e){U(this,ka).set(Xc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,ka).values()],n={};return e.forEach(r=>{Jc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Da).set(Xc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Da).values()],n={};return e.forEach(r=>{Jc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Ws).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=aw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Ws).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Xe).clear(),U(this,Hs).clear()}},Xe=new WeakMap,Hs=new WeakMap,Ws=new WeakMap,ka=new WeakMap,Da=new WeakMap,Ks=new WeakMap,Oa=new WeakMap,Ma=new WeakMap,WI),lF=y.createContext(void 0),cF=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(lF.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}var Xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xs||(Xs={}));const eE="popstate";function uF(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return fy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bh(s)}return hF(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dF(){return Math.random().toString(36).substr(2,8)}function tE(t,e){return{usr:t.state,key:t.key,idx:e}}function fy(t,e,n,r){return n===void 0&&(n=null),Zc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ml(e):e,{state:n,key:e&&e.key||r||dF()})}function Bh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hF(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Xs.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Zc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Xs.Pop;let x=h(),_=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:_})}function m(x,_){a=Xs.Push;let I=fy(v.location,x,_);c=h()+1;let S=tE(I,c),R=v.createHref(I);try{o.pushState(S,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}i&&l&&l({action:a,location:v.location,delta:1})}function p(x,_){a=Xs.Replace;let I=fy(v.location,x,_);c=h();let S=tE(I,c),R=v.createHref(I);o.replaceState(S,"",R),i&&l&&l({action:a,location:v.location,delta:0})}function E(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof x=="string"?x:Bh(x);return I=I.replace(/ $/,"%20"),at(_,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,_)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(eE,f),l=x,()=>{s.removeEventListener(eE,f),l=null}},createHref(x){return e(s,x)},createURL:E,encodeLocation(x){let _=E(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(x){return o.go(x)}};return v}var nE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nE||(nE={}));function fF(t,e,n){return n===void 0&&(n="/"),mF(t,e,n,!1)}function mF(t,e,n,r){let s=typeof e=="string"?ml(e):e,i=cw(s.pathname||"/",n);if(i==null)return null;let o=jC(t);pF(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=bF(i);a=TF(o[l],c,r)}return a}function jC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=li([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jC(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:EF(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of LC(i.path))s(i,o,l)}),e}function LC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=LC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gF=/^:[\w-]+$/,yF=3,vF=2,wF=1,xF=10,_F=-2,rE=t=>t==="*";function EF(t,e){let n=t.split("/"),r=n.length;return n.some(rE)&&(r+=_F),e&&(r+=vF),n.filter(s=>!rE(s)).reduce((s,i)=>s+(gF.test(i)?yF:i===""?wF:xF),r)}function IF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function TF(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=sE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=sE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:li([i,f.pathname]),pathnameBase:RF(li([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=li([i,f.pathnameBase]))}return o}function sE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const E=a[f];return p&&!E?c[m]=void 0:c[m]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function SF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),MC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ml(t):t;return{pathname:n?n.startsWith("/")?n:AF(n,e):e,search:PF(r),hash:kF(s)}}function AF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VC(t,e){let n=NF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ml(t):(s=Zc({},t),at(!s.pathname||!s.pathname.includes("?"),kp("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),kp("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),kp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=CF(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const li=t=>t.join("/").replace(/\/\/+/g,"/"),RF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UC=["post","put","patch","delete"];new Set(UC);const OF=["get",...UC];new Set(OF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}const uw=y.createContext(null),MF=y.createContext(null),Ao=y.createContext(null),Jf=y.createContext(null),gs=y.createContext({outlet:null,matches:[],isDataRoute:!1}),$C=y.createContext(null);function jF(t,e){let{relative:n}=e===void 0?{}:e;bu()||at(!1);let{basename:r,navigator:s}=y.useContext(Ao),{hash:i,pathname:o,search:a}=zC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:li([r,o])),s.createHref({pathname:l,search:a,hash:i})}function bu(){return y.useContext(Jf)!=null}function No(){return bu()||at(!1),y.useContext(Jf).location}function BC(t){y.useContext(Ao).static||y.useLayoutEffect(t)}function pl(){let{isDataRoute:t}=y.useContext(gs);return t?JF():LF()}function LF(){bu()||at(!1);let t=y.useContext(uw),{basename:e,future:n,navigator:r}=y.useContext(Ao),{matches:s}=y.useContext(gs),{pathname:i}=No(),o=JSON.stringify(VC(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return BC(()=>{a.current=!0}),y.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=FC(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:li([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}const VF=y.createContext(null);function FF(t){let e=y.useContext(gs).outlet;return e&&y.createElement(VF.Provider,{value:t},e)}function UF(){let{matches:t}=y.useContext(gs),e=t[t.length-1];return e?e.params:{}}function zC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Ao),{matches:s}=y.useContext(gs),{pathname:i}=No(),o=JSON.stringify(VC(s,r.v7_relativeSplatPath));return y.useMemo(()=>FC(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function $F(t,e){return BF(t,e)}function BF(t,e,n,r){bu()||at(!1);let{navigator:s}=y.useContext(Ao),{matches:i}=y.useContext(gs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=No(),h;if(e){var f;let x=typeof e=="string"?ml(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||at(!1),h=x}else h=c;let m=h.pathname||"/",p=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=fF(t,{pathname:p}),v=WF(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:li([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:li([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?y.createElement(Jf.Provider,{value:{location:eu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Xs.Pop}},v):v}function zF(){let t=XF(),e=DF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const qF=y.createElement(zF,null);class GF extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(gs.Provider,{value:this.props.routeContext},y.createElement($C.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HF(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(uw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(gs.Provider,{value:e},r)}function WF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||at(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:p}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||E){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let p,E=!1,v=null,x=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||qF,l&&(c<0&&m===0?(E=!0,x=null):c===m&&(E=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),I=()=>{let S;return p?S=v:E?S=x:f.route.Component?S=y.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,y.createElement(HF,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(GF,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:I(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):I()},null)}var qC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(qC||{}),zh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zh||{});function KF(t){let e=y.useContext(uw);return e||at(!1),e}function QF(t){let e=y.useContext(MF);return e||at(!1),e}function YF(t){let e=y.useContext(gs);return e||at(!1),e}function GC(t){let e=YF(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function XF(){var t;let e=y.useContext($C),n=QF(zh.UseRouteError),r=GC(zh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JF(){let{router:t}=KF(qC.UseNavigateStable),e=GC(zh.UseNavigateStable),n=y.useRef(!1);return BC(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,eu({fromRouteId:e},i)))},[t,e])}function ZF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function e3(t){return FF(t.context)}function Os(t){at(!1)}function t3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Xs.Pop,navigator:i,static:o=!1,future:a}=t;bu()&&at(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:eu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ml(r));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:E="default"}=r,v=y.useMemo(()=>{let x=cw(h,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:E},navigationType:s}},[l,h,f,m,p,E,s]);return v==null?null:y.createElement(Ao.Provider,{value:c},y.createElement(Jf.Provider,{children:n,value:v}))}function n3(t){let{children:e,location:n}=t;return $F(my(e),n)}new Promise(()=>{});function my(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,my(r.props.children,i));return}r.type!==Os&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=my(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function r3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function s3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function i3(t,e){return t.button===0&&(!e||e==="_self")&&!s3(t)}const o3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a3="6";try{window.__reactRouterVersion=a3}catch{}const l3="startTransition",iE=Jy[l3];function c3(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=uF({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=y.useCallback(f=>{c&&iE?iE(()=>l(f)):l(f)},[l,c]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>ZF(r),[r]),y.createElement(t3,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const u3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HC=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,m=r3(e,o3),{basename:p}=y.useContext(Ao),E,v=!1;if(typeof c=="string"&&d3.test(c)&&(E=c,u3))try{let S=new URL(window.location.href),R=c.startsWith("//")?new URL(S.protocol+c):new URL(c),D=cw(R.pathname,p);R.origin===S.origin&&D!=null?c=D+R.search+R.hash:v=!0}catch{}let x=jF(c,{relative:s}),_=h3(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function I(S){r&&r(S),S.defaultPrevented||_(S)}return y.createElement("a",py({},m,{href:E||x,onClick:v||i?r:I,ref:n,target:l}))});var oE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oE||(oE={}));var aE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aE||(aE={}));function h3(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=pl(),c=No(),h=zC(t,{relative:o});return y.useCallback(f=>{if(i3(f,n)){f.preventDefault();let m=r!==void 0?r:Bh(c)===Bh(h);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}const f3=()=>{};var lE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},m3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},KC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(n[h],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new p3;const m=i<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class p3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g3=function(t){const e=WC(t);return KC.encodeByteArray(e,!0)},qh=function(t){return g3(t).replace(/\./g,"")},QC=function(t){try{return KC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=()=>y3().__FIREBASE_DEFAULTS__,w3=()=>{if(typeof process>"u"||typeof lE>"u")return;const t=lE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QC(t[1]);return e&&JSON.parse(e)},Zf=()=>{try{return f3()||v3()||w3()||x3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},YC=t=>{var e,n;return(n=(e=Zf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_3=t=>{const e=YC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},XC=()=>{var t;return(t=Zf())==null?void 0:t.config},JC=t=>{var e;return(e=Zf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ZC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qh(JSON.stringify(n)),qh(JSON.stringify(o)),""].join(".")}const Ec={};function T3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?t.emulator.push(e):t.prod.push(e);return t}function S3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cE=!1;function eA(t,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||Ec[t]===e||Ec[t]||cE)return;Ec[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=T3().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{cE=!0,o()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=S3(r),p=n("text"),E=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),I=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;a(S),h(x,v);const R=c();l(I,_),S.append(I,E,x,R),document.body.appendChild(S)}i?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function C3(){var e;const t=(e=Zf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function N3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R3(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P3(){return!C3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function k3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D3,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?O3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new cr(s,a,r)}}function O3(t,e){return t.replace(M3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const M3=/\{\$([^}]+)}/g;function j3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(uE(i)&&uE(o)){if(!us(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function L3(t,e){const n=new V3(t,e);return n.subscribe.bind(n)}class V3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Dp),s.error===void 0&&(s.error=Dp),s.complete===void 0&&(s.complete=Dp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=1e3,$3=2,B3=4*60*60*1e3,z3=.5;function dE(t,e=U3,n=$3){const r=e*Math.pow(n,t),s=Math.round(z3*r*(Math.random()-.5)*2);return Math.min(B3,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H3(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G3(t){return t===zi?void 0:t}function H3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const K3={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Q3=xe.INFO,Y3={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},X3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Y3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class em{constructor(e){this.name=e,this._logLevel=Q3,this._logHandler=X3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const J3=(t,e)=>e.some(n=>t instanceof n);let hE,fE;function Z3(){return hE||(hE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e6(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,gy=new WeakMap,iA=new WeakMap,Op=new WeakMap,dw=new WeakMap;function t6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ci(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sA.set(n,t)}).catch(()=>{}),dw.set(e,t),e}function n6(t){if(gy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});gy.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r6(t){yy=t(yy)}function s6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mp(this),e,...n);return iA.set(r,e.sort?e.sort():[e]),ci(r)}:e6().includes(t)?function(...e){return t.apply(Mp(this),e),ci(sA.get(this))}:function(...e){return ci(t.apply(Mp(this),e))}}function i6(t){return typeof t=="function"?s6(t):(t instanceof IDBTransaction&&n6(t),J3(t,Z3())?new Proxy(t,yy):t)}function ci(t){if(t instanceof IDBRequest)return t6(t);if(Op.has(t))return Op.get(t);const e=i6(t);return e!==t&&(Op.set(t,e),dw.set(e,t)),e}const Mp=t=>dw.get(t);function oA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ci(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ci(o.result),l.oldVersion,l.newVersion,ci(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const o6=["get","getKey","getAll","getAllKeys","count"],a6=["put","add","delete","clear"],jp=new Map;function mE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=a6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||o6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return jp.set(e,i),i}r6(t=>({...t,get:(e,n,r)=>mE(e,n)||t.get(e,n,r),has:(e,n)=>!!mE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function c6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vy="@firebase/app",pE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new em("@firebase/app"),u6="@firebase/app-compat",d6="@firebase/analytics-compat",h6="@firebase/analytics",f6="@firebase/app-check-compat",m6="@firebase/app-check",p6="@firebase/auth",g6="@firebase/auth-compat",y6="@firebase/database",v6="@firebase/data-connect",w6="@firebase/database-compat",x6="@firebase/functions",_6="@firebase/functions-compat",E6="@firebase/installations",I6="@firebase/installations-compat",T6="@firebase/messaging",S6="@firebase/messaging-compat",b6="@firebase/performance",C6="@firebase/performance-compat",A6="@firebase/remote-config",N6="@firebase/remote-config-compat",R6="@firebase/storage",P6="@firebase/storage-compat",k6="@firebase/firestore",D6="@firebase/ai",O6="@firebase/firestore-compat",M6="firebase",j6="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="[DEFAULT]",L6={[vy]:"fire-core",[u6]:"fire-core-compat",[h6]:"fire-analytics",[d6]:"fire-analytics-compat",[m6]:"fire-app-check",[f6]:"fire-app-check-compat",[p6]:"fire-auth",[g6]:"fire-auth-compat",[y6]:"fire-rtdb",[v6]:"fire-data-connect",[w6]:"fire-rtdb-compat",[x6]:"fire-fn",[_6]:"fire-fn-compat",[E6]:"fire-iid",[I6]:"fire-iid-compat",[T6]:"fire-fcm",[S6]:"fire-fcm-compat",[b6]:"fire-perf",[C6]:"fire-perf-compat",[A6]:"fire-rc",[N6]:"fire-rc-compat",[R6]:"fire-gcs",[P6]:"fire-gcs-compat",[k6]:"fire-fst",[O6]:"fire-fst-compat",[D6]:"fire-vertex","fire-js":"fire-js",[M6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Map,V6=new Map,xy=new Map;function gE(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){const e=t.name;if(xy.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of Gh.values())gE(n,t);for(const n of V6.values())gE(n,t);return!0}function Po(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new Ro("app","Firebase",F6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=j6;function aA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ui.create("bad-app-name",{appName:String(s)});if(n||(n=XC()),!n)throw ui.create("no-options");const i=Gh.get(s);if(i){if(us(n,i.options)&&us(r,i.config))return i;throw ui.create("duplicate-app",{appName:s})}const o=new W3(s);for(const l of xy.values())o.addComponent(l);const a=new U6(n,r,o);return Gh.set(s,a),a}function hw(t=wy){const e=Gh.get(t);if(!e&&t===wy&&XC())return aA();if(!e)throw ui.create("no-app",{appName:t});return e}function Dn(t,e,n){let r=L6[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(o.join(" "));return}Lr(new or(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="firebase-heartbeat-database",B6=1,tu="firebase-heartbeat-store";let Lp=null;function lA(){return Lp||(Lp=oA($6,B6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),Lp}async function z6(t){try{const n=(await lA()).transaction(tu),r=await n.objectStore(tu).get(cA(t));return await n.done,r}catch(e){if(e instanceof cr)ds.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function yE(t,e){try{const r=(await lA()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,cA(t)),await r.done}catch(n){if(n instanceof cr)ds.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function cA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=1024,G6=30;class H6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new K6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>G6){const o=Q6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vE(),{heartbeatsToSend:r,unsentEntries:s}=W6(this._heartbeatsCache.heartbeats),i=qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ds.warn(n),""}}}function vE(){return new Date().toISOString().substring(0,10)}function W6(t,e=q6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),wE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),wE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class K6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function wE(t){return qh(JSON.stringify({version:2,heartbeats:t})).length}function Q6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){Lr(new or("platform-logger",e=>new l6(e),"PRIVATE")),Lr(new or("heartbeat",e=>new H6(e),"PRIVATE")),Dn(vy,pE,t),Dn(vy,pE,"esm2020"),Dn("fire-js","")}Y6("");function uA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X6=uA,dA=new Ro("auth","Firebase",uA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new em("@firebase/auth");function J6(t,...e){Hh.logLevel<=xe.WARN&&Hh.warn(`Auth (${yl}): ${t}`,...e)}function Jd(t,...e){Hh.logLevel<=xe.ERROR&&Hh.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw mw(t,...e)}function nr(t,...e){return mw(t,...e)}function fw(t,e,n){const r={...X6(),[e]:n};return new Ro("auth","Firebase",r).create(e,{appName:t.name})}function oo(t){return fw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Z6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vr(t,"argument-error"),fw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dA.create(t,...e)}function ae(t,e,...n){if(!t)throw mw(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jd(e),new Error(e)}function hs(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function e5(){return xE()==="http:"||xE()==="https:"}function xE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e5()||tA()||"connection"in navigator)?navigator.onLine:!0}function n5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=b3()||N3()}get(){return t5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],i5=new Au(3e4,6e4);function gw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vl(t,e,n,r,s={}){return fA(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Cu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return A3()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&gl(t.emulatorConfig.host)&&(c.credentials="include"),hA.fetch()(await mA(t,t.config.apiHost,n,a),c)})}async function fA(t,e,n){t._canInitEmulator=!1;const r={...r5,...e};try{const s=new a5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw bd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fw(t,h,c);Vr(t,h)}}catch(s){if(s instanceof cr)throw s;Vr(t,"network-request-failed",{message:String(s)})}}async function o5(t,e,n,r,s={}){const i=await vl(t,e,n,r,s);return"mfaPendingCredential"in i&&Vr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function mA(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?pw(t.config,s):`${t.config.apiScheme}://${s}`;return s5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class a5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),i5.get())})}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=nr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(t,e){return vl(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return vl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c5(t,e=!1){const n=bt(t),r=await n.getIdToken(e),s=yw(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ic(Vp(s.auth_time)),issuedAtTime:Ic(Vp(s.iat)),expirationTime:Ic(Vp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Vp(t){return Number(t)*1e3}function yw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jd("JWT malformed, contained fewer than 3 sections"),null;try{const s=QC(n);return s?JSON.parse(s):(Jd("Failed to decode base64 JWT payload"),null)}catch(s){return Jd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _E(t){const e=yw(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&u5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function u5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await nu(t,Wh(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?pA(s.providerUserInfo):[],o=f5(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Ey(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function h5(t){const e=bt(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function pA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){const n=await fA(t,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await mA(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&gl(t.emulatorConfig.host)&&(l.credentials="include"),hA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p5(t,e){return vl(t,"POST","/v2/accounts:revokeToken",gw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=_E(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await m5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new _a;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _a,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new d5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c5(this,e)}reload(){return h5(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await nu(this,l5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:E,stsTokenManager:v}=n;ae(f&&v,e,"internal-error");const x=_a.fromJSON(this.name,v);ae(typeof f=="string",e,"internal-error"),ks(r,e.name),ks(s,e.name),ae(typeof m=="boolean",e,"internal-error"),ae(typeof p=="boolean",e,"internal-error"),ks(i,e.name),ks(o,e.name),ks(a,e.name),ks(l,e.name),ks(c,e.name),ks(h,e.name);const _=new Jn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:h});return E&&Array.isArray(E)&&(_.providerData=E.map(I=>({...I}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new _a;s.updateFromServerResponse(n);const i=new Jn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Kh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?pA(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new _a;a.updateFromIdToken(r);const l=new Jn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ey(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function es(t){hs(t instanceof Function,"Expected a class definition");let e=EE.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gA.type="NONE";const IE=gA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Zd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Zd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(es(IE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||es(IE);const o=Zd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const m=await Wh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Jn._fromGetAccountInfoResponse(e,m,h)}else f=Jn._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ea(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ea(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EA(e))return"Blackberry";if(IA(e))return"Webos";if(vA(e))return"Safari";if((e.includes("chrome/")||wA(e))&&!e.includes("edge/"))return"Chrome";if(_A(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yA(t=Vt()){return/firefox\//i.test(t)}function vA(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wA(t=Vt()){return/crios\//i.test(t)}function xA(t=Vt()){return/iemobile/i.test(t)}function _A(t=Vt()){return/android/i.test(t)}function EA(t=Vt()){return/blackberry/i.test(t)}function IA(t=Vt()){return/webos/i.test(t)}function vw(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g5(t=Vt()){var e;return vw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function y5(){return R3()&&document.documentMode===10}function TA(t=Vt()){return vw(t)||_A(t)||IA(t)||EA(t)||/windows phone/i.test(t)||xA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e=[]){let n;switch(t){case"Browser":n=TE(Vt());break;case"Worker":n=`${TE(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e={}){return vl(t,"GET","/v2/passwordPolicy",gw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=6;class _5{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??x5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new v5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(oo(this));const n=e?bt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w5(this),n=new _5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await p5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&J6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tm(t){return bt(t)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=L3(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ww={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I5(t){ww=t}function T5(t){return ww.loadJS(t)}function S5(){return ww.gapiScript}function b5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t,e){const n=Po(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(us(i,e??{}))return s;Vr(s,"already-initialized")}return n.initialize({options:e})}function A5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function N5(t,e,n){const r=tm(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=bA(e),{host:o,port:a}=R5(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(us(c,r.config.emulator)&&us(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,gl(o)?(ZC(`${i}//${o}${l}`),eA("Auth",!0)):P5()}function bA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R5(t){const e=bA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:bE(o)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function P5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e){return o5(t,"POST","/v1/accounts:signInWithIdp",gw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="http://localhost";class yo extends CA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new yo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ia(e,n)}buildRequest(){const e={requestUri:k5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends xw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Nu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Nu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Nu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Jn._fromIdTokenResponse(e,r,s),o=CE(r);return new Ha({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=CE(r);return new Ha({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends cr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Qh(e,n,r,s)}}function AA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,i,e,r):i})}async function D5(t,e,n=!1){const r=await nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(t,e,n=!1){const{auth:r}=t;if(Xn(r.app))return Promise.reject(oo(r));const s="reauthenticate";try{const i=await nu(t,AA(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=yw(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Ha._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,e,n=!1){if(Xn(t.app))return Promise.reject(oo(t));const r="signIn",s=await AA(t,r,e),i=await Ha._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function j5(t,e,n,r){return bt(t).onIdTokenChanged(e,n,r)}function L5(t,e,n){return bt(t).beforeAuthStateChanged(e,n)}function V5(t,e,n,r){return bt(t).onAuthStateChanged(e,n,r)}function F5(t){return bt(t).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=1e3,$5=10;class RA extends NA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);y5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RA.type="LOCAL";const B5=RA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA extends NA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}PA.type="SESSION";const kA=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await z5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=_w("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function G5(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function H5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function K5(){return DA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firebaseLocalStorageDb",Q5=1,Xh="firebaseLocalStorage",MA="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rm(t,e){return t.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function Y5(){const t=indexedDB.deleteDatabase(OA);return new Ru(t).toPromise()}function Iy(){const t=indexedDB.open(OA,Q5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xh,{keyPath:MA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),await Y5(),e(await Iy()))})})}async function AE(t,e,n){const r=rm(t,!0).put({[MA]:e,value:n});return new Ru(r).toPromise()}async function X5(t,e){const n=rm(t,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function NE(t,e){const n=rm(t,!0).delete(e);return new Ru(n).toPromise()}const J5=800,Z5=3;class jA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nm._getInstance(K5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await H5(),!this.activeServiceWorker)return;this.sender=new q5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await AE(e,Yh,"1"),await NE(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=rm(s,!1).getAll();return new Ru(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jA.type="LOCAL";const eU=jA;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e){return e?es(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends CA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tU(t){return M5(t.auth,new Ew(t),t.bypassAuthState)}function nU(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),O5(n,new Ew(t),t.bypassAuthState)}async function rU(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),D5(n,new Ew(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tU;case"linkViaPopup":case"linkViaRedirect":return rU;case"reauthViaPopup":case"reauthViaRedirect":return nU;default:Vr(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=new Au(2e3,1e4);async function iU(t,e,n){if(Xn(t.app))return Promise.reject(nr(t,"operation-not-supported-in-this-environment"));const r=tm(t);Z6(t,e,xw);const s=LA(r,n);return new Ki(r,"signInViaPopup",e,s).executeNotNull()}class Ki extends VA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=_w();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sU.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="pendingRedirect",eh=new Map;class aU extends VA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await lU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lU(t,e){const n=dU(e),r=uU(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cU(t,e){eh.set(t._key(),e)}function uU(t){return es(t._redirectPersistence)}function dU(t){return Zd(oU,t.config.apiKey,t.name)}async function hU(t,e,n=!1){if(Xn(t.app))return Promise.reject(oo(t));const r=tm(t),s=LA(r,e),o=await new aU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=10*60*1e3;class mU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!FA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(nr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fU&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e={}){return vl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vU=/^https?/;async function wU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gU(t);for(const n of e)try{if(xU(n))return}catch{}Vr(t,"unauthorized-domain")}function xU(t){const e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vU.test(n))return!1;if(yU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new Au(3e4,6e4);function PE(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EU(t){return new Promise((e,n)=>{var s,i,o;function r(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(nr(t,"network-request-failed"))},timeout:_U.get()})}if((i=(s=Rr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Rr().gapi)!=null&&o.load)r();else{const a=b5("iframefcb");return Rr()[a]=()=>{gapi.load?r():n(nr(t,"network-request-failed"))},T5(`${S5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw th=null,e})}let th=null;function IU(t){return th=th||EU(t),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new Au(5e3,15e3),SU="__/auth/iframe",bU="emulator/auth/iframe",CU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NU(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pw(e,bU):`https://${t.config.authDomain}/${SU}`,r={apiKey:e.apiKey,appName:t.name,v:yl},s=AU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cu(r).slice(1)}`}async function RU(t){const e=await IU(t),n=Rr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:NU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=nr(t,"network-request-failed"),a=Rr().setTimeout(()=>{i(o)},TU.get());function l(){Rr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kU=500,DU=600,OU="_blank",MU="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jU(t,e,n,r=kU,s=DU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...PU,width:r.toString(),height:s.toString(),top:i,left:o},c=Vt().toLowerCase();n&&(a=wA(c)?OU:n),yA(c)&&(e=e||MU,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[p,E])=>`${m}${p}=${E},`,"");if(g5(c)&&a!=="_self")return LU(e||"",a),new kE(null);const f=window.open(e||"",a,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new kE(f)}function LU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="__/auth/handler",FU="emulator/auth/handler",UU=encodeURIComponent("fac");async function DE(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:s};if(e instanceof xw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",j3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Nu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${UU}=${encodeURIComponent(l)}`:"";return`${$U(t)}?${Cu(a).slice(1)}${c}`}function $U({config:t}){return t.emulator?pw(t,FU):`https://${t.authDomain}/${VU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class BU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kA,this._completeRedirectFn=hU,this._overrideRedirectResult=cU}async _openPopup(e,n,r,s){var o;hs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await DE(e,n,r,_y(),s);return jU(e,i,_w())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await DE(e,n,r,_y(),s);return G5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RU(e),r=new mU(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Fp];i!==void 0&&n(!!i),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TA()||vA()||vw()}}const zU=BU;var OE="@firebase/auth",ME="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HU(t){Lr(new or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(t)},c=new E5(r,s,i,l);return A5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lr(new or("auth-internal",e=>{const n=tm(e.getProvider("auth").getImmediate());return(r=>new qU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(OE,ME,GU(t)),Dn(OE,ME,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=5*60,KU=JC("authIdTokenMaxAge")||WU;let jE=null;const QU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KU)return;const s=n==null?void 0:n.token;jE!==s&&(jE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function YU(t=hw()){const e=Po(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C5(t,{popupRedirectResolver:zU,persistence:[eU,B5,kA]}),r=JC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=QU(i.toString());L5(n,o,()=>o(n.currentUser)),j5(n,a=>o(a))}}const s=YC("auth");return s&&N5(n,`http://${s}`),n}function XU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}I5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=nr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",XU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HU("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function JU(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,[])).next())})}function ZU(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ha=function(){return ha=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ha.apply(this,arguments)},UA=function(t){return{loading:t==null,value:t}},e$=function(){return function(t,e){switch(e.type){case"error":return ha(ha({},t),{error:e.error,loading:!1,value:void 0});case"reset":return UA(e.defaultValue);case"value":return ha(ha({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},t$=function(t){var e=t?t():void 0,n=y.useReducer(e$(),UA(e)),r=n[0],s=n[1],i=y.useCallback(function(){var l=t?t():void 0;s({type:"reset",defaultValue:l})},[t]),o=y.useCallback(function(l){s({type:"error",error:l})},[]),a=y.useCallback(function(l){s({type:"value",value:l})},[]);return y.useMemo(function(){return{error:r.error,loading:r.loading,reset:i,setError:o,setValue:a,value:r.value}},[r.error,r.loading,i,o,a,r.value])},n$=function(t,e){var n=t$(function(){return t.currentUser}),r=n.error,s=n.loading,i=n.setError,o=n.setValue,a=n.value;return y.useEffect(function(){var l=V5(t,function(c){return JU(void 0,void 0,void 0,function(){var h;return ZU(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return f.sent(),[3,4];case 3:return h=f.sent(),i(h),[3,4];case 4:return o(c),[2]}})})},i);return function(){l()}},[t]),[a,s,r]},r$="firebase",s$="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(r$,s$,"app");const $A="@firebase/installations",Iw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=1e4,zA=`w:${Iw}`,qA="FIS_v2",i$="https://firebaseinstallations.googleapis.com/v1",o$=60*60*1e3,a$="installations",l$="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new Ro(a$,l$,c$);function GA(t){return t instanceof cr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA({projectId:t}){return`${i$}/projects/${t}/installations`}function WA(t){return{token:t.token,requestStatus:2,expiresIn:d$(t.expiresIn),creationTime:Date.now()}}async function KA(t,e){const r=(await e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function u$(t,{refreshToken:e}){const n=QA(t);return n.append("Authorization",h$(e)),n}async function YA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function d$(t){return Number(t.replace("s","000"))}function h$(t){return`${qA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f$({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=HA(t),s=QA(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:qA,appId:t.appId,sdkVersion:zA},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await YA(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:WA(c.authToken)}}else throw await KA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=/^[cdef][\w-]{21}$/,Ty="";function g$(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=y$(t);return p$.test(n)?n:Ty}catch{return Ty}}function y$(t){return m$(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new Map;function ZA(t,e){const n=sm(t);eN(n,e),v$(n,e)}function eN(t,e){const n=JA.get(t);if(n)for(const r of n)r(e)}function v$(t,e){const n=w$();n&&n.postMessage({key:t,fid:e}),x$()}let Qi=null;function w$(){return!Qi&&"BroadcastChannel"in self&&(Qi=new BroadcastChannel("[Firebase] FID Change"),Qi.onmessage=t=>{eN(t.data.key,t.data.fid)}),Qi}function x$(){JA.size===0&&Qi&&(Qi.close(),Qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="firebase-installations-database",E$=1,wo="firebase-installations-store";let Up=null;function Tw(){return Up||(Up=oA(_$,E$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wo)}}})),Up}async function Jh(t,e){const n=sm(t),s=(await Tw()).transaction(wo,"readwrite"),i=s.objectStore(wo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&ZA(t,e.fid),e}async function tN(t){const e=sm(t),r=(await Tw()).transaction(wo,"readwrite");await r.objectStore(wo).delete(e),await r.done}async function im(t,e){const n=sm(t),s=(await Tw()).transaction(wo,"readwrite"),i=s.objectStore(wo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&ZA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(t){let e;const n=await im(t.appConfig,r=>{const s=I$(r),i=T$(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Ty?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function I$(t){const e=t||{fid:g$(),registrationStatus:0};return nN(e)}function T$(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=S$(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:b$(t)}:{installationEntry:e}}async function S$(t,e){try{const n=await f$(t,e);return Jh(t.appConfig,n)}catch(n){throw GA(n)&&n.customData.serverCode===409?await tN(t.appConfig):await Jh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function b$(t){let e=await LE(t.appConfig);for(;e.registrationStatus===1;)await XA(100),e=await LE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Sw(t);return r||n}return e}function LE(t){return im(t,e=>{if(!e)throw vo.create("installation-not-found");return nN(e)})}function nN(t){return C$(t)?{fid:t.fid,registrationStatus:0}:t}function C$(t){return t.registrationStatus===1&&t.registrationTime+BA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$({appConfig:t,heartbeatServiceProvider:e},n){const r=N$(t,n),s=u$(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:zA,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await YA(()=>fetch(r,a));if(l.ok){const c=await l.json();return WA(c)}else throw await KA("Generate Auth Token",l)}function N$(t,{fid:e}){return`${HA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(t,e=!1){let n;const r=await im(t.appConfig,i=>{if(!rN(i))throw vo.create("not-registered");const o=i.authToken;if(!e&&k$(o))return i;if(o.requestStatus===1)return n=R$(t,e),i;{if(!navigator.onLine)throw vo.create("app-offline");const a=O$(i);return n=P$(t,a),a}});return n?await n:r.authToken}async function R$(t,e){let n=await VE(t.appConfig);for(;n.authToken.requestStatus===1;)await XA(100),n=await VE(t.appConfig);const r=n.authToken;return r.requestStatus===0?bw(t,e):r}function VE(t){return im(t,e=>{if(!rN(e))throw vo.create("not-registered");const n=e.authToken;return M$(n)?{...e,authToken:{requestStatus:0}}:e})}async function P$(t,e){try{const n=await A$(t,e),r={...e,authToken:n};return await Jh(t.appConfig,r),n}catch(n){if(GA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await tN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Jh(t.appConfig,r)}throw n}}function rN(t){return t!==void 0&&t.registrationStatus===2}function k$(t){return t.requestStatus===2&&!D$(t)}function D$(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+o$}function O$(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function M$(t){return t.requestStatus===1&&t.requestTime+BA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j$(t){const e=t,{installationEntry:n,registrationPromise:r}=await Sw(e);return r?r.catch(console.error):bw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L$(t,e=!1){const n=t;return await V$(n),(await bw(n,e)).token}async function V$(t){const{registrationPromise:e}=await Sw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){if(!t||!t.options)throw $p("App Configuration");if(!t.name)throw $p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $p(t){return vo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="installations",U$="installations-internal",$$=t=>{const e=t.getProvider("app").getImmediate(),n=F$(e),r=Po(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},B$=t=>{const e=t.getProvider("app").getImmediate(),n=Po(e,sN).getImmediate();return{getId:()=>j$(n),getToken:s=>L$(n,s)}};function z$(){Lr(new or(sN,$$,"PUBLIC")),Lr(new or(U$,B$,"PRIVATE"))}z$();Dn($A,Iw);Dn($A,Iw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="analytics",q$="firebase_id",G$="origin",H$=60*1e3,W$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new em("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K$={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new Ro("analytics","Analytics",K$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t){if(!t.startsWith(Cw)){const e=yn.create("invalid-gtag-resource",{gtagURL:t});return nn.warn(e.message),""}return t}function iN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Y$(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function X$(t,e){const n=Y$("firebase-js-sdk-policy",{createScriptURL:Q$}),r=document.createElement("script"),s=`${Cw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function J$(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Z$(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await iN(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){nn.error(a)}t("config",s,i)}async function e9(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await iN(n);for(const l of o){const c=a.find(f=>f.measurementId===l),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){nn.error(i)}}function t9(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await e9(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Z$(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){nn.error(a)}}return s}function n9(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=t9(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function r9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Cw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=30,i9=1e3;class o9{constructor(e={},n=i9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oN=new o9;function a9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function l9(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:a9(n)},s=W$.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function c9(t,e=oN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw yn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw yn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new h9;return setTimeout(async()=>{a.abort()},H$),aN({appId:r,apiKey:s,measurementId:i},o,a,e)}async function aN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=oN){var a;const{appId:i,measurementId:o}=t;try{await u9(r,e)}catch(l){if(o)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await l9(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!d9(c)){if(s.deleteThrottleMetadata(i),o)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?dE(n,s.intervalMillis,s9):dE(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),nn.debug(`Calling attemptFetch again in ${h} millis`),aN(t,f,r,s)}}function u9(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function d9(t){if(!(t instanceof cr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class h9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function f9(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(){if(nA())try{await rA()}catch(t){return nn.warn(yn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return nn.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function p9(t,e,n,r,s,i,o){const a=c9(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>nn.error(m)),e.push(a);const l=m9().then(m=>{if(m)return r.getId()}),[c,h]=await Promise.all([a,l]);r9(i)||X$(i,c.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[G$]="firebase",f.update=!0,h!=null&&(f[q$]=h),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.app=e}_delete(){return delete Tc[this.app.options.appId],Promise.resolve()}}let Tc={},FE=[];const UE={};let Bp="dataLayer",y9="gtag",$E,lN,BE=!1;function v9(){const t=[];if(tA()&&t.push("This is a browser extension environment."),k3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=yn.create("invalid-analytics-context",{errorInfo:e});nn.warn(n.message)}}function w9(t,e,n){v9();const r=t.options.appId;if(!r)throw yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(Tc[r]!=null)throw yn.create("already-exists",{id:r});if(!BE){J$(Bp);const{wrappedGtag:i,gtagCore:o}=n9(Tc,FE,UE,Bp,y9);lN=i,$E=o,BE=!0}return Tc[r]=p9(t,FE,UE,e,$E,Bp,n),new g9(t)}function x9(t=hw()){t=bt(t);const e=Po(t,Zh);return e.isInitialized()?e.getImmediate():_9(t)}function _9(t,e={}){const n=Po(t,Zh);if(n.isInitialized()){const s=n.getImmediate();if(us(e,n.getOptions()))return s;throw yn.create("already-initialized")}return n.initialize({options:e})}function E9(t,e,n,r){t=bt(t),f9(lN,Tc[t.app.options.appId],e,n,r).catch(s=>nn.error(s))}const zE="@firebase/analytics",qE="0.10.18";function I9(){Lr(new or(Zh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return w9(r,s,n)},"PUBLIC")),Lr(new or("analytics-internal",t,"PRIVATE")),Dn(zE,qE),Dn(zE,qE,"esm2020");function t(e){try{const n=e.getProvider(Zh).getImmediate();return{logEvent:(r,s,i)=>E9(n,r,s,i)}}catch(n){throw yn.create("interop-component-reg-failed",{reason:n})}}}I9();var GE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var di,cN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function C(){}C.prototype=T.prototype,b.F=T.prototype,b.prototype=new C,b.prototype.constructor=b,b.D=function(A,k,O){for(var P=Array(arguments.length-2),z=2;z<arguments.length;z++)P[z-2]=arguments[z];return T.prototype[k].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,T,C){C||(C=0);const A=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)A[k]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(k=0;k<16;++k)A[k]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=b.g[0],C=b.g[1],k=b.g[2];let O=b.g[3],P;P=T+(O^C&(k^O))+A[0]+3614090360&4294967295,T=C+(P<<7&4294967295|P>>>25),P=O+(k^T&(C^k))+A[1]+3905402710&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(C^O&(T^C))+A[2]+606105819&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(T^k&(O^T))+A[3]+3250441966&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(O^C&(k^O))+A[4]+4118548399&4294967295,T=C+(P<<7&4294967295|P>>>25),P=O+(k^T&(C^k))+A[5]+1200080426&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(C^O&(T^C))+A[6]+2821735955&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(T^k&(O^T))+A[7]+4249261313&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(O^C&(k^O))+A[8]+1770035416&4294967295,T=C+(P<<7&4294967295|P>>>25),P=O+(k^T&(C^k))+A[9]+2336552879&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(C^O&(T^C))+A[10]+4294925233&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(T^k&(O^T))+A[11]+2304563134&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(O^C&(k^O))+A[12]+1804603682&4294967295,T=C+(P<<7&4294967295|P>>>25),P=O+(k^T&(C^k))+A[13]+4254626195&4294967295,O=T+(P<<12&4294967295|P>>>20),P=k+(C^O&(T^C))+A[14]+2792965006&4294967295,k=O+(P<<17&4294967295|P>>>15),P=C+(T^k&(O^T))+A[15]+1236535329&4294967295,C=k+(P<<22&4294967295|P>>>10),P=T+(k^O&(C^k))+A[1]+4129170786&4294967295,T=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(T^C))+A[6]+3225465664&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(O^T))+A[11]+643717713&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^T&(k^O))+A[0]+3921069994&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(k^O&(C^k))+A[5]+3593408605&4294967295,T=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(T^C))+A[10]+38016083&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(O^T))+A[15]+3634488961&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^T&(k^O))+A[4]+3889429448&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(k^O&(C^k))+A[9]+568446438&4294967295,T=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(T^C))+A[14]+3275163606&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(O^T))+A[3]+4107603335&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^T&(k^O))+A[8]+1163531501&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(k^O&(C^k))+A[13]+2850285829&4294967295,T=C+(P<<5&4294967295|P>>>27),P=O+(C^k&(T^C))+A[2]+4243563512&4294967295,O=T+(P<<9&4294967295|P>>>23),P=k+(T^C&(O^T))+A[7]+1735328473&4294967295,k=O+(P<<14&4294967295|P>>>18),P=C+(O^T&(k^O))+A[12]+2368359562&4294967295,C=k+(P<<20&4294967295|P>>>12),P=T+(C^k^O)+A[5]+4294588738&4294967295,T=C+(P<<4&4294967295|P>>>28),P=O+(T^C^k)+A[8]+2272392833&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^C)+A[11]+1839030562&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^T)+A[14]+4259657740&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(C^k^O)+A[1]+2763975236&4294967295,T=C+(P<<4&4294967295|P>>>28),P=O+(T^C^k)+A[4]+1272893353&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^C)+A[7]+4139469664&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^T)+A[10]+3200236656&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(C^k^O)+A[13]+681279174&4294967295,T=C+(P<<4&4294967295|P>>>28),P=O+(T^C^k)+A[0]+3936430074&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^C)+A[3]+3572445317&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^T)+A[6]+76029189&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(C^k^O)+A[9]+3654602809&4294967295,T=C+(P<<4&4294967295|P>>>28),P=O+(T^C^k)+A[12]+3873151461&4294967295,O=T+(P<<11&4294967295|P>>>21),P=k+(O^T^C)+A[15]+530742520&4294967295,k=O+(P<<16&4294967295|P>>>16),P=C+(k^O^T)+A[2]+3299628645&4294967295,C=k+(P<<23&4294967295|P>>>9),P=T+(k^(C|~O))+A[0]+4096336452&4294967295,T=C+(P<<6&4294967295|P>>>26),P=O+(C^(T|~k))+A[7]+1126891415&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~C))+A[14]+2878612391&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~T))+A[5]+4237533241&4294967295,C=k+(P<<21&4294967295|P>>>11),P=T+(k^(C|~O))+A[12]+1700485571&4294967295,T=C+(P<<6&4294967295|P>>>26),P=O+(C^(T|~k))+A[3]+2399980690&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~C))+A[10]+4293915773&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~T))+A[1]+2240044497&4294967295,C=k+(P<<21&4294967295|P>>>11),P=T+(k^(C|~O))+A[8]+1873313359&4294967295,T=C+(P<<6&4294967295|P>>>26),P=O+(C^(T|~k))+A[15]+4264355552&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~C))+A[6]+2734768916&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~T))+A[13]+1309151649&4294967295,C=k+(P<<21&4294967295|P>>>11),P=T+(k^(C|~O))+A[4]+4149444226&4294967295,T=C+(P<<6&4294967295|P>>>26),P=O+(C^(T|~k))+A[11]+3174756917&4294967295,O=T+(P<<10&4294967295|P>>>22),P=k+(T^(O|~C))+A[2]+718787259&4294967295,k=O+(P<<15&4294967295|P>>>17),P=C+(O^(k|~T))+A[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+k&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.v=function(b,T){T===void 0&&(T=b.length);const C=T-this.blockSize,A=this.C;let k=this.h,O=0;for(;O<T;){if(k==0)for(;O<=C;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<T;)if(A[k++]=b.charCodeAt(O++),k==this.blockSize){s(this,A),k=0;break}}else for(;O<T;)if(A[k++]=b[O++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;T=this.o*8;for(var C=b.length-8;C<b.length;++C)b[C]=T&255,T/=256;for(this.v(b),b=Array(16),T=0,C=0;C<4;++C)for(let A=0;A<32;A+=8)b[T++]=this.g[C]>>>A&255;return b};function i(b,T){var C=a;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=T(b)}function o(b,T){this.h=T;const C=[];let A=!0;for(let k=b.length-1;k>=0;k--){const O=b[k]|0;A&&O==T||(C[k]=O,A=!1)}this.g=C}var a={};function l(b){return-128<=b&&b<128?i(b,function(T){return new o([T|0],T<0?-1:0)}):new o([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return x(c(-b));const T=[];let C=1;for(let A=0;b>=C;A++)T[A]=b/C|0,C*=4294967296;return new o(T,0)}function h(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return x(h(b.substring(1),T));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(T,8));let A=f;for(let O=0;O<b.length;O+=8){var k=Math.min(8,b.length-O);const P=parseInt(b.substring(O,O+k),T);k<8?(k=c(Math.pow(T,k)),A=A.j(k).add(c(P))):(A=A.j(C),A=A.add(c(P)))}return A}var f=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let b=0,T=1;for(let C=0;C<this.g.length;C++){const A=this.i(C);b+=(A>=0?A:4294967296+A)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(v(this))return"-"+x(this).toString(b);const T=c(Math.pow(b,6));var C=this;let A="";for(;;){const k=R(C,T).g;C=_(C,k.j(T));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(b);if(C=k,E(C))return O+A;for(;O.length<6;)O="0"+O;A=O+A}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(let T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=_(this,b),v(b)?-1:E(b)?0:1};function x(b){const T=b.g.length,C=[];for(let A=0;A<T;A++)C[A]=~b.g[A];return new o(C,~b.h).add(m)}t.abs=function(){return v(this)?x(this):this},t.add=function(b){const T=Math.max(this.g.length,b.g.length),C=[];let A=0;for(let k=0;k<=T;k++){let O=A+(this.i(k)&65535)+(b.i(k)&65535),P=(O>>>16)+(this.i(k)>>>16)+(b.i(k)>>>16);A=P>>>16,O&=65535,P&=65535,C[k]=P<<16|O}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(b,T){return b.add(x(T))}t.j=function(b){if(E(this)||E(b))return f;if(v(this))return v(b)?x(this).j(x(b)):x(x(this).j(b));if(v(b))return x(this.j(x(b)));if(this.l(p)<0&&b.l(p)<0)return c(this.m()*b.m());const T=this.g.length+b.g.length,C=[];for(var A=0;A<2*T;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(let k=0;k<b.g.length;k++){const O=this.i(A)>>>16,P=this.i(A)&65535,z=b.i(k)>>>16,re=b.i(k)&65535;C[2*A+2*k]+=P*re,I(C,2*A+2*k),C[2*A+2*k+1]+=O*re,I(C,2*A+2*k+1),C[2*A+2*k+1]+=P*z,I(C,2*A+2*k+1),C[2*A+2*k+2]+=O*z,I(C,2*A+2*k+2)}for(b=0;b<T;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=T;b<2*T;b++)C[b]=0;return new o(C,0)};function I(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function S(b,T){this.g=b,this.h=T}function R(b,T){if(E(T))throw Error("division by zero");if(E(b))return new S(f,f);if(v(b))return T=R(x(b),T),new S(x(T.g),x(T.h));if(v(T))return T=R(b,x(T)),new S(x(T.g),T.h);if(b.g.length>30){if(v(b)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var C=m,A=T;A.l(b)<=0;)C=D(C),A=D(A);var k=M(C,1),O=M(A,1);for(A=M(A,2),C=M(C,2);!E(A);){var P=O.add(A);P.l(b)<=0&&(k=k.add(C),O=P),A=M(A,1),C=M(C,1)}return T=_(b,k.j(T)),new S(k,T)}for(k=f;b.l(T)>=0;){for(C=Math.max(1,Math.floor(b.m()/T.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),O=c(C),P=O.j(T);v(P)||P.l(b)>0;)C-=A,O=c(C),P=O.j(T);E(O)&&(O=m),k=k.add(O),b=_(b,P)}return new S(k,b)}t.B=function(b){return R(this,b).h},t.and=function(b){const T=Math.max(this.g.length,b.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)&b.i(A);return new o(C,this.h&b.h)},t.or=function(b){const T=Math.max(this.g.length,b.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)|b.i(A);return new o(C,this.h|b.h)},t.xor=function(b){const T=Math.max(this.g.length,b.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)^b.i(A);return new o(C,this.h^b.h)};function D(b){const T=b.g.length+1,C=[];for(let A=0;A<T;A++)C[A]=b.i(A)<<1|b.i(A-1)>>>31;return new o(C,b.h)}function M(b,T){const C=T>>5;T%=32;const A=b.g.length-C,k=[];for(let O=0;O<A;O++)k[O]=T>0?b.i(O+C)>>>T|b.i(O+C+1)<<32-T:b.i(O+C);return new o(k,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,di=o}).apply(typeof GE<"u"?GE:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uN,sc,dN,nh,Sy,hN,fN,mN;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var g=0;g<d.length;++g){var w=d[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var w=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var j=d[N];if(!(j in w))break e;w=w[j]}d=d[d.length-1],N=w[d],g=g(N),g!=N&&g!=null&&e(w,d,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(g){var w=[],N;for(N in g)Object.prototype.hasOwnProperty.call(g,N)&&w.push([N,g[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function l(d,g,w){return d.call.apply(d.bind,arguments)}function c(d,g,w){return c=l,c.apply(null,arguments)}function h(d,g){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function f(d,g){function w(){}w.prototype=g.prototype,d.Z=g.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(N,j,V){for(var K=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)K[ge-2]=arguments[ge];return g.prototype[j].apply(N,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const g=d.length;if(g>0){const w=Array(g);for(let N=0;N<g;N++)w[N]=d[N];return w}return[]}function E(d,g){for(let N=1;N<arguments.length;N++){const j=arguments[N];var w=typeof j;if(w=w!="object"?w:j?Array.isArray(j)?"array":w:"null",w=="array"||w=="object"&&typeof j.length=="number"){w=d.length||0;const V=j.length||0;d.length=w+V;for(let K=0;K<V;K++)d[w+K]=j[K]}else d.push(j)}}class v{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(d){o.setTimeout(()=>{throw d},0)}function _(){var d=b;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class I{constructor(){this.h=this.g=null}add(g,w){const N=S.get();N.set(g,w),this.h?this.h.next=N:this.g=N,this.h=N}}var S=new v(()=>new R,d=>d.reset());class R{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,b=new I,T=()=>{const d=Promise.resolve(void 0);D=()=>{d.then(C)}};function C(){for(var d;d=_();){try{d.h.call(d.g)}catch(w){x(w)}var g=S;g.j(d),g.h<100&&(g.h++,d.next=g.g,g.g=d)}M=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};o.addEventListener("test",w,g),o.removeEventListener("test",w,g)}catch{}return d}();function P(d){return/^[\s\xa0]*$/.test(d)}function z(d,g){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,g)}f(z,k),z.prototype.init=function(d,g){const w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget,g||(w=="mouseover"?g=d.fromElement:w=="mouseout"&&(g=d.toElement)),this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(d,g,w,N,j){this.listener=d,this.proxy=null,this.src=g,this.type=w,this.capture=!!N,this.ha=j,this.key=++H,this.da=this.fa=!1}function F(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function L(d,g,w){for(const N in d)g.call(w,d[N],N,d)}function W(d,g){for(const w in d)g.call(void 0,d[w],w,d)}function ne(d){const g={};for(const w in d)g[w]=d[w];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(d,g){let w,N;for(let j=1;j<arguments.length;j++){N=arguments[j];for(w in N)d[w]=N[w];for(let V=0;V<Z.length;V++)w=Z[V],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,g,w,N,j){const V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);const K=Oe(d,g,N,j);return K>-1?(g=d[K],w||(g.fa=!1)):(g=new te(g,this.src,V,!!N,j),g.fa=w,d.push(g)),g};function ke(d,g){const w=g.type;if(w in d.g){var N=d.g[w],j=Array.prototype.indexOf.call(N,g,void 0),V;(V=j>=0)&&Array.prototype.splice.call(N,j,1),V&&(F(g),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Oe(d,g,w,N){for(let j=0;j<d.length;++j){const V=d[j];if(!V.da&&V.listener==g&&V.capture==!!w&&V.ha==N)return j}return-1}var me="closure_lm_"+(Math.random()*1e6|0),cn={};function Ze(d,g,w,N,j){if(Array.isArray(g)){for(let V=0;V<g.length;V++)Ze(d,g[V],w,N,j);return null}return w=_s(w),d&&d[re]?d.J(g,w,a(N)?!!N.capture:!!N,j):In(d,g,w,!1,N,j)}function In(d,g,w,N,j,V){if(!g)throw Error("Invalid event type");const K=a(j)?!!j.capture:!!j;let ge=xs(d);if(ge||(d[me]=ge=new ce(d)),w=ge.add(g,w,N,K,V),w.proxy)return w;if(N=dr(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)O||(j=K),j===void 0&&(j=!1),d.addEventListener(g.toString(),N,j);else if(d.attachEvent)d.attachEvent(Di(g.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function dr(){function d(w){return g.call(d.src,d.listener,w)}const g=bl;return d}function $r(d,g,w,N,j){if(Array.isArray(g))for(var V=0;V<g.length;V++)$r(d,g[V],w,N,j);else N=a(N)?!!N.capture:!!N,w=_s(w),d&&d[re]?(d=d.i,V=String(g).toString(),V in d.g&&(g=d.g[V],w=Oe(g,w,N,j),w>-1&&(F(g[w]),Array.prototype.splice.call(g,w,1),g.length==0&&(delete d.g[V],d.h--)))):d&&(d=xs(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Oe(g,w,N,j)),(w=d>-1?g[d]:null)&&Tn(w))}function Tn(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[re])ke(g.i,d);else{var w=d.type,N=d.proxy;g.removeEventListener?g.removeEventListener(w,N,d.capture):g.detachEvent?g.detachEvent(Di(w),N):g.addListener&&g.removeListener&&g.removeListener(N),(w=xs(g))?(ke(w,d),w.h==0&&(w.src=null,g[me]=null)):F(d)}}}function Di(d){return d in cn?cn[d]:cn[d]="on"+d}function bl(d,g){if(d.da)d=!0;else{g=new z(g,this);const w=d.listener,N=d.ha||d.src;d.fa&&Tn(d),d=w.call(N,g)}return d}function xs(d){return d=d[me],d instanceof ce?d:null}var Oi="__closure_events_fn_"+(Math.random()*1e9>>>0);function _s(d){return typeof d=="function"?d:(d[Oi]||(d[Oi]=function(g){return d.handleEvent(g)}),d[Oi])}function qe(){A.call(this),this.i=new ce(this),this.M=this,this.G=null}f(qe,A),qe.prototype[re]=!0,qe.prototype.removeEventListener=function(d,g,w,N){$r(this,d,g,w,N)};function ft(d,g){var w,N=d.G;if(N)for(w=[];N;N=N.G)w.push(N);if(d=d.M,N=g.type||g,typeof g=="string")g=new k(g,d);else if(g instanceof k)g.target=g.target||d;else{var j=g;g=new k(N,d),de(g,j)}j=!0;let V,K;if(w)for(K=w.length-1;K>=0;K--)V=g.g=w[K],j=hr(V,N,!0,g)&&j;if(V=g.g=d,j=hr(V,N,!0,g)&&j,j=hr(V,N,!1,g)&&j,w)for(K=0;K<w.length;K++)V=g.g=w[K],j=hr(V,N,!1,g)&&j}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var d=this.i;for(const g in d.g){const w=d.g[g];for(let N=0;N<w.length;N++)F(w[N]);delete d.g[g],d.h--}}this.G=null},qe.prototype.J=function(d,g,w,N){return this.i.add(String(d),g,!1,w,N)},qe.prototype.K=function(d,g,w,N){return this.i.add(String(d),g,!0,w,N)};function hr(d,g,w,N){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();let j=!0;for(let V=0;V<g.length;++V){const K=g[V];if(K&&!K.da&&K.capture==w){const ge=K.listener,ct=K.ha||K.src;K.fa&&ke(d.i,K),j=ge.call(ct,N)!==!1&&j}}return j&&!N.defaultPrevented}function qu(d,g){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=c(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(d,g||0)}function fr(d){d.g=qu(()=>{d.g=null,d.i&&(d.i=!1,fr(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class jm extends A{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(d){A.call(this),this.h=d,this.g={}}f(Mi,A);var Ft=[];function Br(d){L(d.g,function(g,w){this.g.hasOwnProperty(w)&&Tn(g)},d),d.g={}}Mi.prototype.N=function(){Mi.Z.N.call(this),Br(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cl=o.JSON.stringify,Lm=o.JSON.parse,Fo=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function Gu(){}function Al(){}var zr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mr(){k.call(this,"d")}f(mr,k);function Uo(){k.call(this,"c")}f(Uo,k);var Wt={},Hu=null;function $o(){return Hu=Hu||new qe}Wt.Ia="serverreachability";function Nl(d){k.call(this,Wt.Ia,d)}f(Nl,k);function Es(d){const g=$o();ft(g,new Nl(g))}Wt.STAT_EVENT="statevent";function Wu(d,g){k.call(this,Wt.STAT_EVENT,d),this.stat=g}f(Wu,k);function lt(d){const g=$o();ft(g,new Wu(g,d))}Wt.Ja="timingevent";function Un(d,g){k.call(this,Wt.Ja,d),this.size=g}f(Un,k);function ji(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},g)}function ie(){this.g=!0}ie.prototype.ua=function(){this.g=!1};function be(d,g,w,N,j,V){d.info(function(){if(d.g)if(V){var K="",ge=V.split("&");for(let De=0;De<ge.length;De++){var ct=ge[De].split("=");if(ct.length>1){const pt=ct[0];ct=ct[1];const yr=pt.split("_");K=yr.length>=2&&yr[1]=="type"?K+(pt+"="+ct+"&"):K+(pt+"=redacted&")}}}else K=null;else K=V;return"XMLHTTP REQ ("+N+") [attempt "+j+"]: "+g+`
`+w+`
`+K})}function Me(d,g,w,N,j,V,K){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+j+"]: "+g+`
`+w+`
`+V+" "+K})}function mt(d,g,w,N){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+pr(d,w)+(N?" "+N:"")})}function un(d,g){d.info(function(){return"TIMEOUT: "+g})}ie.prototype.info=function(){};function pr(d,g){if(!d.g)return g;if(!g)return null;try{const V=JSON.parse(g);if(V){for(d=0;d<V.length;d++)if(Array.isArray(V[d])){var w=V[d];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var j=N[0];if(j!="noop"&&j!="stop"&&j!="close")for(let K=1;K<N.length;K++)N[K]=""}}}}return Cl(V)}catch{return g}}var Sn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$n;function Vm(){}f(Vm,Gu),Vm.prototype.g=function(){return new XMLHttpRequest},$n=new Vm;function Rl(d){return encodeURIComponent(String(d))}function Lk(d){var g=1;d=d.split(":");const w=[];for(;g>0&&d.length;)w.push(d.shift()),g--;return d.length&&w.push(d.join(":")),w}function Is(d,g,w,N){this.j=d,this.i=g,this.l=w,this.S=N||1,this.V=new Mi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new k0}function k0(){this.i=null,this.g="",this.h=!1}var D0={},Fm={};function Um(d,g,w){d.M=1,d.A=Qu(gr(g)),d.u=w,d.R=!0,O0(d,null)}function O0(d,g){d.F=Date.now(),Ku(d),d.B=gr(d.A);var w=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),W0(w.i,"t",N),d.C=0,w=d.j.L,d.h=new k0,d.g=dx(d.j,w?g:null,!d.u),d.P>0&&(d.O=new jm(c(d.Y,d,d.g),d.P)),g=d.V,w=d.g,N=d.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ft[0]=j.toString()),j=Ft);for(let V=0;V<j.length;V++){const K=Ze(w,j[V],N||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=d.J?ne(d.J):{},d.u?(d.v||(d.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,g)):(d.v="GET",d.g.ea(d.B,d.v,null,g)),Es(),be(d.i,d.v,d.B,d.l,d.S,d.u)}Is.prototype.ba=function(d){d=d.target;const g=this.O;g&&bs(d)==3?g.j():this.Y(d)},Is.prototype.Y=function(d){try{if(d==this.g)e:{const ge=bs(this.g),ct=this.g.ya(),De=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||ex(this.g)))){this.K||ge!=4||ct==7||(ct==8||De<=0?Es(3):Es(2)),$m(this);var g=this.g.ca();this.X=g;var w=Vk(this);if(this.o=g==200,Me(this.i,this.v,this.B,this.l,this.S,ge,g),this.o){if(this.U&&!this.L){t:{if(this.g){var N,j=this.g;if((N=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var V=N;break t}}V=null}if(d=V)mt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bm(this,d);else{this.o=!1,this.m=3,lt(12),Li(this),Pl(this);break e}}if(this.R){d=!0;let pt;for(;!this.K&&this.C<w.length;)if(pt=Fk(this,w),pt==Fm){ge==4&&(this.m=4,lt(14),d=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==D0){this.m=4,lt(15),mt(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else mt(this.i,this.l,pt,null),Bm(this,pt);if(M0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||w.length!=0||this.h.h||(this.m=1,lt(16),d=!1),this.o=this.o&&d,!d)mt(this.i,this.l,w,"[Invalid Chunked Response]"),Li(this),Pl(this);else if(w.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Ym(K),K.P=!0,lt(11))}}else mt(this.i,this.l,w,null),Bm(this,w);ge==4&&Li(this),this.o&&!this.K&&(ge==4?ax(this.j,this):(this.o=!1,Ku(this)))}else Zk(this.g),g==400&&w.indexOf("Unknown SID")>0?(this.m=3,lt(12)):(this.m=0,lt(13)),Li(this),Pl(this)}}}catch{}finally{}};function Vk(d){if(!M0(d))return d.g.la();const g=ex(d.g);if(g==="")return"";let w="";const N=g.length,j=bs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Li(d),Pl(d),"";d.h.i=new o.TextDecoder}for(let V=0;V<N;V++)d.h.h=!0,w+=d.h.i.decode(g[V],{stream:!(j&&V==N-1)});return g.length=0,d.h.g+=w,d.C=0,d.h.g}function M0(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Fk(d,g){var w=d.C,N=g.indexOf(`
`,w);return N==-1?Fm:(w=Number(g.substring(w,N)),isNaN(w)?D0:(N+=1,N+w>g.length?Fm:(g=g.slice(N,N+w),d.C=N+w,g)))}Is.prototype.cancel=function(){this.K=!0,Li(this)};function Ku(d){d.T=Date.now()+d.H,j0(d,d.H)}function j0(d,g){if(d.D!=null)throw Error("WatchDog timer not null");d.D=ji(c(d.aa,d),g)}function $m(d){d.D&&(o.clearTimeout(d.D),d.D=null)}Is.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(un(this.i,this.B),this.M!=2&&(Es(),lt(17)),Li(this),this.m=2,Pl(this)):j0(this,this.T-d)};function Pl(d){d.j.I==0||d.K||ax(d.j,d)}function Li(d){$m(d);var g=d.O;g&&typeof g.dispose=="function"&&g.dispose(),d.O=null,Br(d.V),d.g&&(g=d.g,d.g=null,g.abort(),g.dispose())}function Bm(d,g){try{var w=d.j;if(w.I!=0&&(w.g==d||zm(w.h,d))){if(!d.L&&zm(w.h,d)&&w.I==3){try{var N=w.Ba.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var j=N;if(j[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)ed(w),Ju(w);else break e;Qm(w),lt(18)}}else w.xa=j[1],0<w.xa-w.K&&j[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ji(c(w.Va,w),6e3));F0(w.h)<=1&&w.ta&&(w.ta=void 0)}else Fi(w,11)}else if((d.L||w.g==d)&&ed(w),!P(g))for(j=w.Ba.g.parse(g),g=0;g<j.length;g++){let De=j[g];const pt=De[0];if(!(pt<=w.K))if(w.K=pt,De=De[1],w.I==2)if(De[0]=="c"){w.M=De[1],w.ba=De[2];const yr=De[3];yr!=null&&(w.ka=yr,w.j.info("VER="+w.ka));const Ui=De[4];Ui!=null&&(w.za=Ui,w.j.info("SVER="+w.za));const Cs=De[5];Cs!=null&&typeof Cs=="number"&&Cs>0&&(N=1.5*Cs,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const As=d.g;if(As){const nd=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nd){var V=N.h;V.g||nd.indexOf("spdy")==-1&&nd.indexOf("quic")==-1&&nd.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(qm(V,V.h),V.h=null))}if(N.G){const Xm=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;Xm&&(N.wa=Xm,Ve(N.J,N.G,Xm))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var K=d;if(N.na=ux(N,N.L?N.ba:null,N.W),K.L){U0(N.h,K);var ge=K,ct=N.O;ct&&(ge.H=ct),ge.D&&($m(ge),Ku(ge)),N.g=K}else ix(N);w.i.length>0&&Zu(w)}else De[0]!="stop"&&De[0]!="close"||Fi(w,7);else w.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Fi(w,7):Km(w):De[0]!="noop"&&w.l&&w.l.qa(De),w.A=0)}}Es(4)}catch{}}var Uk=class{constructor(d,g){this.g=d,this.map=g}};function L0(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function V0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function F0(d){return d.h?1:d.g?d.g.size:0}function zm(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function qm(d,g){d.g?d.g.add(g):d.h=g}function U0(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}L0.prototype.cancel=function(){if(this.i=$0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function $0(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const w of d.g.values())g=g.concat(w.G);return g}return p(d.i)}var B0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $k(d,g){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const N=d[w].indexOf("=");let j,V=null;N>=0?(j=d[w].substring(0,N),V=d[w].substring(N+1)):j=d[w],g(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ts(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;d instanceof Ts?(this.l=d.l,kl(this,d.j),this.o=d.o,this.g=d.g,Dl(this,d.u),this.h=d.h,Gm(this,K0(d.i)),this.m=d.m):d&&(g=String(d).match(B0))?(this.l=!1,kl(this,g[1]||"",!0),this.o=Ol(g[2]||""),this.g=Ol(g[3]||"",!0),Dl(this,g[4]),this.h=Ol(g[5]||"",!0),Gm(this,g[6]||"",!0),this.m=Ol(g[7]||"")):(this.l=!1,this.i=new jl(null,this.l))}Ts.prototype.toString=function(){const d=[];var g=this.j;g&&d.push(Ml(g,z0,!0),":");var w=this.g;return(w||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Ml(g,z0,!0),"@"),d.push(Rl(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(Ml(w,w.charAt(0)=="/"?qk:zk,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",Ml(w,Hk)),d.join("")},Ts.prototype.resolve=function(d){const g=gr(this);let w=!!d.j;w?kl(g,d.j):w=!!d.o,w?g.o=d.o:w=!!d.g,w?g.g=d.g:w=d.u!=null;var N=d.h;if(w)Dl(g,d.u);else if(w=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var j=g.h.lastIndexOf("/");j!=-1&&(N=g.h.slice(0,j+1)+N)}if(j=N,j==".."||j==".")N="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){N=j.lastIndexOf("/",0)==0,j=j.split("/");const V=[];for(let K=0;K<j.length;){const ge=j[K++];ge=="."?N&&K==j.length&&V.push(""):ge==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),N&&K==j.length&&V.push("")):(V.push(ge),N=!0)}N=V.join("/")}else N=j}return w?g.h=N:w=d.i.toString()!=="",w?Gm(g,K0(d.i)):w=!!d.m,w&&(g.m=d.m),g};function gr(d){return new Ts(d)}function kl(d,g,w){d.j=w?Ol(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Dl(d,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);d.u=g}else d.u=null}function Gm(d,g,w){g instanceof jl?(d.i=g,Wk(d.i,d.l)):(w||(g=Ml(g,Gk)),d.i=new jl(g,d.l))}function Ve(d,g,w){d.i.set(g,w)}function Qu(d){return Ve(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ol(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ml(d,g,w){return typeof d=="string"?(d=encodeURI(d).replace(g,Bk),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Bk(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var z0=/[#\/\?@]/g,zk=/[#\?:]/g,qk=/[#\?]/g,Gk=/[#\?@]/g,Hk=/#/g;function jl(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Vi(d){d.g||(d.g=new Map,d.h=0,d.i&&$k(d.i,function(g,w){d.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=jl.prototype,t.add=function(d,g){Vi(this),this.i=null,d=Bo(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(g),this.h+=1,this};function q0(d,g){Vi(d),g=Bo(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function G0(d,g){return Vi(d),g=Bo(d,g),d.g.has(g)}t.forEach=function(d,g){Vi(this),this.g.forEach(function(w,N){w.forEach(function(j){d.call(g,j,N,this)},this)},this)};function H0(d,g){Vi(d);let w=[];if(typeof g=="string")G0(d,g)&&(w=w.concat(d.g.get(Bo(d,g))));else for(d=Array.from(d.g.values()),g=0;g<d.length;g++)w=w.concat(d[g]);return w}t.set=function(d,g){return Vi(this),this.i=null,d=Bo(this,d),G0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=H0(this,d),d.length>0?String(d[0]):g):g};function W0(d,g,w){q0(d,g),w.length>0&&(d.i=null,d.g.set(Bo(d,g),p(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(let N=0;N<g.length;N++){var w=g[N];const j=Rl(w);w=H0(this,w);for(let V=0;V<w.length;V++){let K=j;w[V]!==""&&(K+="="+Rl(w[V])),d.push(K)}}return this.i=d.join("&")};function K0(d){const g=new jl;return g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),g}function Bo(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function Wk(d,g){g&&!d.j&&(Vi(d),d.i=null,d.g.forEach(function(w,N){const j=N.toLowerCase();N!=j&&(q0(this,N),W0(this,j,w))},d)),d.j=g}function Kk(d,g){const w=new ie;if(o.Image){const N=new Image;N.onload=h(Ss,w,"TestLoadImage: loaded",!0,g,N),N.onerror=h(Ss,w,"TestLoadImage: error",!1,g,N),N.onabort=h(Ss,w,"TestLoadImage: abort",!1,g,N),N.ontimeout=h(Ss,w,"TestLoadImage: timeout",!1,g,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else g(!1)}function Qk(d,g){const w=new ie,N=new AbortController,j=setTimeout(()=>{N.abort(),Ss(w,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:N.signal}).then(V=>{clearTimeout(j),V.ok?Ss(w,"TestPingServer: ok",!0,g):Ss(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Ss(w,"TestPingServer: error",!1,g)})}function Ss(d,g,w,N,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),N(w)}catch{}}function Yk(){this.g=new Fo}function Hm(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Hm,Gu),Hm.prototype.g=function(){return new Yu(this.i,this.h)};function Yu(d,g){qe.call(this),this.H=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Yu,qe),t=Yu.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=g,this.readyState=1,Vl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(g.body=d),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Q0(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Q0(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Ll(this):Vl(this),this.readyState==3&&Q0(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Ll(this))},t.Na=function(d){this.g&&(this.response=d,Ll(this))},t.ga=function(){this.g&&Ll(this)};function Ll(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Vl(d)}t.setRequestHeader=function(d,g){this.A.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=g.next();return d.join(`\r
`)};function Vl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Y0(d){let g="";return L(d,function(w,N){g+=N,g+=":",g+=w,g+=`\r
`}),g}function Wm(d,g,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Y0(w),typeof d=="string"?w!=null&&Rl(w):Ve(d,g,w))}function Ye(d){qe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ye,qe);var Xk=/^https?$/i,Jk=["POST","PUT"];t=Ye.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,g,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$n.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(V){X0(this,V);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var j in N)w.set(j,N[j]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())w.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(V=>V.toLowerCase()=="content-type"),j=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call(Jk,g,void 0)>=0)||N||j||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,K]of w)this.g.setRequestHeader(V,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(V){X0(this,V)}};function X0(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.o=5,J0(d),Xu(d)}function J0(d){d.A||(d.A=!0,ft(d,"complete"),ft(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ft(this,"complete"),ft(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Z0(this):this.Xa())},t.Xa=function(){Z0(this)};function Z0(d){if(d.h&&typeof i<"u"){if(d.v&&bs(d)==4)setTimeout(d.Ca.bind(d),0);else if(ft(d,"readystatechange"),bs(d)==4){d.h=!1;try{const V=d.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var N;if(N=V===0){let K=String(d.D).match(B0)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),N=!Xk.test(K?K.toLowerCase():"")}w=N}if(w)ft(d,"complete"),ft(d,"success");else{d.o=6;try{var j=bs(d)>2?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.ca()+"]",J0(d)}}finally{Xu(d)}}}}function Xu(d,g){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,g||ft(d,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function bs(d){return d.g?d.g.readyState:0}t.ca=function(){try{return bs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Lm(g)}};function ex(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zk(d){const g={};d=(d.g&&bs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var w=Lk(d[N]);const j=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const V=g[j]||[];g[j]=V,V.push(w)}W(g,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(d,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||g}function tx(d){this.za=0,this.i=[],this.j=new ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fl("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fl("baseRetryDelayMs",5e3,d),this.Za=Fl("retryDelaySeedMs",1e4,d),this.Ta=Fl("forwardChannelMaxRetries",2,d),this.va=Fl("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new L0(d&&d.concurrentRequestLimit),this.Ba=new Yk,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=tx.prototype,t.ka=8,t.I=1,t.connect=function(d,g,w,N){lt(0),this.W=d,this.H=g||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=ux(this,null,this.W),Zu(this)};function Km(d){if(nx(d),d.I==3){var g=d.V++,w=gr(d.J);if(Ve(w,"SID",d.M),Ve(w,"RID",g),Ve(w,"TYPE","terminate"),Ul(d,w),g=new Is(d,d.j,g),g.M=2,g.A=Qu(gr(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=g.A,w=!0),w||(g.g=dx(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ku(g)}cx(d)}function Ju(d){d.g&&(Ym(d),d.g.cancel(),d.g=null)}function nx(d){Ju(d),d.v&&(o.clearTimeout(d.v),d.v=null),ed(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function Zu(d){if(!V0(d.h)&&!d.m){d.m=!0;var g=d.Ea;D||T(),M||(D(),M=!0),b.add(g,d),d.D=0}}function eD(d,g){return F0(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=g.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=ji(c(d.Ea,d,g),lx(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const j=new Is(this,this.j,d);let V=this.o;if(this.U&&(V?(V=ne(V),de(V,this.U)):V=this.U),this.u!==null||this.R||(j.J=V,V=null),this.S)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,g>4096){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=sx(this,j,g),w=gr(this.J),Ve(w,"RID",d),Ve(w,"CVER",22),this.G&&Ve(w,"X-HTTP-Session-Id",this.G),Ul(this,w),V&&(this.R?g="headers="+Rl(Y0(V))+"&"+g:this.u&&Wm(w,this.u,V)),qm(this.h,j),this.Ra&&Ve(w,"TYPE","init"),this.S?(Ve(w,"$req",g),Ve(w,"SID","null"),j.U=!0,Um(j,w,null)):Um(j,w,g),this.I=2}}else this.I==3&&(d?rx(this,d):this.i.length==0||V0(this.h)||rx(this))};function rx(d,g){var w;g?w=g.l:w=d.V++;const N=gr(d.J);Ve(N,"SID",d.M),Ve(N,"RID",w),Ve(N,"AID",d.K),Ul(d,N),d.u&&d.o&&Wm(N,d.u,d.o),w=new Is(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),g&&(d.i=g.G.concat(d.i)),g=sx(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),qm(d.h,w),Um(w,N,g)}function Ul(d,g){d.H&&L(d.H,function(w,N){Ve(g,N,w)}),d.l&&L({},function(w,N){Ve(g,N,w)})}function sx(d,g,w){w=Math.min(d.i.length,w);const N=d.l?c(d.l.Ka,d.l,d):null;e:{var j=d.i;let ge=-1;for(;;){const ct=["count="+w];ge==-1?w>0?(ge=j[0].g,ct.push("ofs="+ge)):ge=0:ct.push("ofs="+ge);let De=!0;for(let pt=0;pt<w;pt++){var V=j[pt].g;const yr=j[pt].map;if(V-=ge,V<0)ge=Math.max(0,j[pt].g-100),De=!1;else try{V="req"+V+"_"||"";try{var K=yr instanceof Map?yr:Object.entries(yr);for(const[Ui,Cs]of K){let As=Cs;a(Cs)&&(As=Cl(Cs)),ct.push(V+Ui+"="+encodeURIComponent(As))}}catch(Ui){throw ct.push(V+"type="+encodeURIComponent("_badmap")),Ui}}catch{N&&N(yr)}}if(De){K=ct.join("&");break e}}K=void 0}return d=d.i.splice(0,w),g.G=d,K}function ix(d){if(!d.g&&!d.v){d.Y=1;var g=d.Da;D||T(),M||(D(),M=!0),b.add(g,d),d.A=0}}function Qm(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=ji(c(d.Da,d),lx(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,ox(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=ji(c(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,lt(10),Ju(this),ox(this))};function Ym(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function ox(d){d.g=new Is(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var g=gr(d.na);Ve(g,"RID","rpc"),Ve(g,"SID",d.M),Ve(g,"AID",d.K),Ve(g,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ve(g,"TO",d.ia),Ve(g,"TYPE","xmlhttp"),Ul(d,g),d.u&&d.o&&Wm(g,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=Qu(gr(g)),w.u=null,w.R=!0,O0(w,d)}t.Va=function(){this.C!=null&&(this.C=null,Ju(this),Qm(this),lt(19))};function ed(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function ax(d,g){var w=null;if(d.g==g){ed(d),Ym(d),d.g=null;var N=2}else if(zm(d.h,g))w=g.G,U0(d.h,g),N=1;else return;if(d.I!=0){if(g.o)if(N==1){w=g.u?g.u.length:0,g=Date.now()-g.F;var j=d.D;N=$o(),ft(N,new Un(N,w)),Zu(d)}else ix(d);else if(j=g.m,j==3||j==0&&g.X>0||!(N==1&&eD(d,g)||N==2&&Qm(d)))switch(w&&w.length>0&&(g=d.h,g.i=g.i.concat(w)),j){case 1:Fi(d,5);break;case 4:Fi(d,10);break;case 3:Fi(d,6);break;default:Fi(d,2)}}}function lx(d,g){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*g}function Fi(d,g){if(d.j.info("Error code "+g),g==2){var w=c(d.bb,d),N=d.Ua;const j=!N;N=new Ts(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||kl(N,"https"),Qu(N),j?Kk(N.toString(),w):Qk(N.toString(),w)}else lt(2);d.I=0,d.l&&d.l.pa(g),cx(d),nx(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function cx(d){if(d.I=0,d.ja=[],d.l){const g=$0(d.h);(g.length!=0||d.i.length!=0)&&(E(d.ja,g),E(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function ux(d,g,w){var N=w instanceof Ts?gr(w):new Ts(w);if(N.g!="")g&&(N.g=g+"."+N.g),Dl(N,N.u);else{var j=o.location;N=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;const V=new Ts(null);N&&kl(V,N),g&&(V.g=g),j&&Dl(V,j),w&&(V.h=w),N=V}return w=d.G,g=d.wa,w&&g&&Ve(N,w,g),Ve(N,"VER",d.ka),Ul(d,N),N}function dx(d,g,w){if(g&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Aa&&!d.ma?new Ye(new Hm({ab:w})):new Ye(d.ma),g.Fa(d.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hx(){}t=hx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function td(){}td.prototype.g=function(d,g){return new dn(d,g)};function dn(d,g){qe.call(this),this.g=new tx(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(d?d["X-WebChannel-Client-Profile"]=g.sa:d={"X-WebChannel-Client-Profile":g.sa}),this.g.U=d,(d=g&&g.Qb)&&!P(d)&&(this.g.u=d),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.G=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new zo(this)}f(dn,qe),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Km(this.g)},dn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=Cl(d),d=w);g.i.push(new Uk(g.Ya++,d)),g.I==3&&Zu(g)},dn.prototype.N=function(){this.g.l=null,delete this.j,Km(this.g),delete this.g,dn.Z.N.call(this)};function fx(d){mr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const w in g){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}f(fx,mr);function mx(){Uo.call(this),this.status=1}f(mx,Uo);function zo(d){this.g=d}f(zo,hx),zo.prototype.ra=function(){ft(this.g,"a")},zo.prototype.qa=function(d){ft(this.g,new fx(d))},zo.prototype.pa=function(d){ft(this.g,new mx)},zo.prototype.oa=function(){ft(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,mN=function(){return new td},fN=function(){return $o()},hN=Wt,Sy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sn.NO_ERROR=0,Sn.TIMEOUT=8,Sn.HTTP_ERROR=6,nh=Sn,Kt.COMPLETE="complete",dN=Kt,Al.EventType=zr,zr.OPEN="a",zr.CLOSE="b",zr.ERROR="c",zr.MESSAGE="d",qe.prototype.listen=qe.prototype.J,sc=Al,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,uN=Ye}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const HE="@firebase/firestore",WE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new em("@firebase/firestore");function Yo(){return xo.logLevel}function Y(t,...e){if(xo.logLevel<=xe.DEBUG){const n=e.map(Aw);xo.debug(`Firestore (${wl}): ${t}`,...n)}}function fs(t,...e){if(xo.logLevel<=xe.ERROR){const n=e.map(Aw);xo.error(`Firestore (${wl}): ${t}`,...n)}}function Wa(t,...e){if(xo.logLevel<=xe.WARN){const n=e.map(Aw);xo.warn(`Firestore (${wl}): ${t}`,...n)}}function Aw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pN(t,r,n)}function pN(t,e,n){let r=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||pN(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class S9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b9{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new gN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class C9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new KE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=R9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function by(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return zp(s)===zp(i)?_e(s,i):zp(s)?1:-1}return _e(t.length,e.length)}const P9=55296,k9=57343;function zp(t){const e=t.charCodeAt(0);return e>=P9&&e<=k9}function Ka(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="__name__";class xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=xr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=xr.isNumericId(e),s=xr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xr.extractNumericId(e).compare(xr.extractNumericId(n)):by(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return di.fromString(e.substring(4,e.length-2))}}class je extends xr{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new je(n)}static emptyPath(){return new je([])}}const D9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends xr{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return D9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QE}static keyField(){return new Et([QE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(je.fromString(e))}static fromName(e){return new se(je.fromString(e).popFirst(5))}static empty(){return new se(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e,n){if(!n)throw new Q($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O9(t,e,n,r){if(e===!0&&r===!0)throw new Q($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YE(t){if(!se.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XE(t){if(se.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=om(t);throw new Q($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pu(t,e){if(!vN(t))throw new Q($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=-62135596800,ZE=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ZE);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JE)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZE}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-JE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:ot("string",Ce._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Ce(0,0))}static max(){return new ue(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function M9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new _i(s,se.empty(),e)}function j9(t){return new _i(t.readTime,t.key,ru)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(ue.min(),se.empty(),ru)}static max(){return new _i(ue.max(),se.empty(),ru)}}function L9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==V9)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function U9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=-1;function lm(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function $9(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="";function B9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=e1(e)),e=z9(t.get(n),e);return e1(e)}function z9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case wN:n+="";break;default:n+=i}}return n}function e1(t){return t+wN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n1(this.data.getIterator())}getIteratorFrom(e){return new n1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class n1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new ht(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _N("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const q9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=q9.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="server_timestamp",IN="__type__",TN="__previous_value__",SN="__local_write_time__";function Pw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IN])==null?void 0:r.stringValue)===EN}function cm(t){const e=t.mapValue.fields[TN];return Pw(e)?cm(e):e}function su(t){const e=Ei(t.mapValue.fields[SN].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const tf="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="__type__",CN="__max__",Nd={mapValue:{fields:{__type__:{stringValue:CN}}}},AN="__vector__",nf="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pw(t)?4:W9(t)?9007199254740991:H9(t)?10:11:oe(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ei(s.timestampValue),a=Ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ii(s.bytesValue).isEqual(Ii(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return et(s.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(s.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return et(s.integerValue)===et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=et(s.doubleValue),a=et(i.doubleValue);return o===a?ef(o)===ef(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(t1(o)!==t1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function ou(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Qa(t,e){if(t===e)return 0;const n=Ti(t),r=Ti(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=et(i.integerValue||i.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return r1(t.timestampValue,e.timestampValue);case 4:return r1(su(t),su(e));case 5:return by(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ii(i),l=Ii(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=_e(a[c],l[c]);if(h!==0)return h}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(et(i.latitude),et(o.latitude));return a!==0?a:_e(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,E,v;const a=i.fields||{},l=o.fields||{},c=(m=a[nf])==null?void 0:m.arrayValue,h=(p=l[nf])==null?void 0:p.arrayValue,f=_e(((E=c==null?void 0:c.values)==null?void 0:E.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:s1(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Nd.mapValue&&o===Nd.mapValue)return 0;if(i===Nd.mapValue)return 1;if(o===Nd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=by(l[f],h[f]);if(m!==0)return m;const p=Qa(a[l[f]],c[h[f]]);if(p!==0)return p}return _e(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function r1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Ei(t),r=Ei(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function s1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qa(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function Ya(t){return Cy(t)}function Cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Cy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Cy(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function rh(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cm(t);return e?16+rh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+rh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ko(r.fields,(i,o)=>{s+=i.length+rh(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function i1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ay(t){return!!t&&"integerValue"in t}function kw(t){return!!t&&"arrayValue"in t}function o1(t){return!!t&&"nullValue"in t}function a1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sh(t){return!!t&&"mapValue"in t}function H9(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bN])==null?void 0:r.stringValue)===AN}function Sc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return{...t}}function W9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Sc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];sh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ko(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nn(Sc(this.value))}}function NN(t){const e=[];return ko(t.fields,(n,r)=>{const s=new Et([n]);if(sh(r)){const i=NN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ue.min(),ue.min(),ue.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,ue.min(),ue.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ue.min(),ue.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.position=e,this.inclusive=n}}function l1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Qa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function c1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function K9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{}class it extends RN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y9(e,n,r):n==="array-contains"?new Z9(e,r):n==="in"?new eB(e,r):n==="not-in"?new tB(e,r):n==="array-contains-any"?new nB(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X9(e,r):new J9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qa(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends RN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ar(e,n)}matches(e){return PN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PN(t){return t.op==="and"}function kN(t){return Q9(t)&&PN(t)}function Q9(t){for(const e of t.filters)if(e instanceof ar)return!1;return!0}function Ny(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(kN(t))return t.filters.map(e=>Ny(e)).join(",");{const e=t.filters.map(n=>Ny(n)).join(",");return`${t.op}(${e})`}}function DN(t,e){return t instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof ar?function(r,s){return s instanceof ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&DN(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function ON(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof ar?function(n){return n.op.toString()+" {"+n.getFilters().map(ON).join(" ,")+"}"}(t):"Filter"}class Y9 extends it{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class X9 extends it{constructor(e,n){super(e,"in",n),this.keys=MN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J9 extends it{constructor(e,n){super(e,"not-in",n),this.keys=MN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class Z9 extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kw(n)&&ou(n.arrayValue,this.value)}}class eB extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class tB extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class nB extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function u1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new rB(t,e,n,r,s,i,o)}function Dw(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ny(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.Te=n}return e.Te}function Ow(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c1(t.startAt,e.startAt)&&c1(t.endAt,e.endAt)}function Ry(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sB(t,e,n,r,s,i,o,a){return new El(t,e,n,r,s,i,o,a)}function um(t){return new El(t)}function d1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jN(t){return t.collectionGroup!==null}function bc(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ht(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new au(i,r))}),n.has(Et.keyField().canonicalString())||e.Ie.push(new au(Et.keyField(),r))}return e.Ie}function Pr(t){const e=he(t);return e.Ee||(e.Ee=iB(e,bc(t))),e.Ee}function iB(t,e){if(t.limitType==="F")return u1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new au(s.field,i)});const n=t.endAt?new rf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rf(t.startAt.position,t.startAt.inclusive):null;return u1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Py(t,e){const n=t.filters.concat([e]);return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ky(t,e,n){return new El(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dm(t,e){return Ow(Pr(t),Pr(e))&&t.limitType===e.limitType}function LN(t){return`${Dw(Pr(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ON(s)).join(", ")}]`),lm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ya(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ya(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function hm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=l1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,bc(r),s)||r.endAt&&!function(o,a,l){const c=l1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,bc(r),s))}(t,e)}function oB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VN(t){return(e,n)=>{let r=!1;for(const s of bc(t)){const i=aB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function aB(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Qa(l,c):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new Qe(se.comparator);function ms(){return lB}const FN=new Qe(se.comparator);function ic(...t){let e=FN;for(const n of t)e=e.insert(n.key,n);return e}function UN(t){let e=FN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yi(){return Cc()}function $N(){return Cc()}function Cc(){return new Do(t=>t.toString(),(t,e)=>t.isEqual(e))}const cB=new Qe(se.comparator),uB=new ht(se.comparator);function Ee(...t){let e=uB;for(const n of t)e=e.add(n);return e}const dB=new ht(_e);function hB(){return dB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function BN(t){return{integerValue:""+t}}function fB(t,e){return $9(e)?BN(e):Mw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(){this._=void 0}}function mB(t,e,n){return t instanceof sf?function(s,i){const o={fields:{[IN]:{stringValue:EN},[SN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Pw(i)&&(i=cm(i)),i&&(o.fields[TN]=i),{mapValue:o}}(n,e):t instanceof Xa?qN(t,e):t instanceof lu?GN(t,e):function(s,i){const o=zN(s,i),a=h1(o)+h1(s.Ae);return Ay(o)&&Ay(s.Ae)?BN(a):Mw(s.serializer,a)}(t,e)}function pB(t,e,n){return t instanceof Xa?qN(t,e):t instanceof lu?GN(t,e):n}function zN(t,e){return t instanceof of?function(r){return Ay(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class sf extends fm{}class Xa extends fm{constructor(e){super(),this.elements=e}}function qN(t,e){const n=HN(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class lu extends fm{constructor(e){super(),this.elements=e}}function GN(t,e){let n=HN(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class of extends fm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h1(t){return et(t.integerValue||t.doubleValue)}function HN(t){return kw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(e,n){this.field=e,this.transform=n}}function yB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Xa&&s instanceof Xa||r instanceof lu&&s instanceof lu?Ka(r.elements,s.elements,Fr):r instanceof of&&s instanceof of?Fr(r.Ae,s.Ae):r instanceof sf&&s instanceof sf}(t.transform,e.transform)}class vB{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mm{}function WN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QN(t.key,kr.none()):new ku(t.key,t.data,kr.none());{const n=t.data,r=Nn.empty();let s=new ht(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Oo(t.key,r,new Zn(s.toArray()),kr.none())}}function wB(t,e,n){t instanceof ku?function(s,i,o){const a=s.value.clone(),l=m1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oo?function(s,i,o){if(!ih(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=m1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(KN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ac(t,e,n,r){return t instanceof ku?function(i,o,a,l){if(!ih(i.precondition,o))return a;const c=i.value.clone(),h=p1(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oo?function(i,o,a,l){if(!ih(i.precondition,o))return a;const c=p1(i.fieldTransforms,l,o),h=o.data;return h.setAll(KN(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return ih(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function xB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=zN(r.transform,s||null);i!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,i))}return n||null}function f1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ka(r,s,(i,o)=>yB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends mm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends mm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function KN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function m1(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,pB(o,a,n[s]))}return r}function p1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,mB(i,o,e))}return r}class QN extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _B extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&wB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$N();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=WN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(n,r)=>f1(n,r))&&Ka(this.baseMutations,e.baseMutations,(n,r)=>f1(n,r))}}class jw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return cB}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new jw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IB=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ie;function SB(t){switch(t){case $.OK:return oe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function YN(t){if(t===void 0)return fs("GRPC error has no .code"),$.UNKNOWN;switch(t){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return oe(39323,{code:t})}}(Ie=rt||(rt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new di([4294967295,4294967295],0);function g1(t){const e=bB().encode(t),n=new cN;return n.update(e),new Uint8Array(n.digest())}function y1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new di([n,r],0),new di([s,i],0)]}class Lw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=di.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(di.fromNumber(r)));return s.compare(CB)===1&&(s=new di([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=g1(e),[r,s]=y1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Lw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=g1(e),[r,s]=y1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pm(ue.min(),s,new Qe(_e),ms(),Ee())}}class Du{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class XN{constructor(e,n){this.targetId=e,this.Ce=n}}class JN{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class v1{constructor(){this.ve=0,this.Fe=w1(),this.Me=Ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new Du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=w1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AB{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.Je=Rd(),this.He=Rd(),this.Ye=new Qe(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ry(i))if(r===0){const o=new se(i.path);this.et(n,o,Mt.newNoDocument(o,ue.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ii(r).toUint8Array()}catch(l){if(l instanceof _N)return Wa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Lw(o,s,i)}catch(l){return Wa(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Ry(a.target)){const l=new se(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Mt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new pm(e,n,this.Ye,this.je,r);return this.je=ms(),this.Je=Rd(),this.He=Rd(),this.Ye=new Qe(_e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new v1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ht(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ht(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rd(){return new Qe(se.comparator)}function w1(){return new Qe(se.comparator)}const NB={asc:"ASCENDING",desc:"DESCENDING"},RB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PB={and:"AND",or:"OR"};class kB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dy(t,e){return t.useProto3Json||lm(e)?e:{value:e}}function af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DB(t,e){return af(t,e.toTimestamp())}function Dr(t){return Ae(!!t,49232),ue.fromTimestamp(function(n){const r=Ei(n);return new Ce(r.seconds,r.nanos)}(t))}function Vw(t,e){return Oy(t,e).canonicalString()}function Oy(t,e){const n=function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eR(t){const e=je.fromString(t);return Ae(iR(e),10190,{key:e.toString()}),e}function My(t,e){return Vw(t.databaseId,e.path)}function qp(t,e){const n=eR(e);if(n.get(1)!==t.databaseId.projectId)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(nR(n))}function tR(t,e){return Vw(t.databaseId,e)}function OB(t){const e=eR(t);return e.length===4?je.emptyPath():nR(e)}function jy(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nR(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function x1(t,e,n){return{name:My(t,e),fields:n.value.mapValue.fields}}function MB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),Ct.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:YN(c.code);return new Q(h,c.message||"")}(o);n=new JN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qp(t,r.document.name),i=Dr(r.document.updateTime),o=r.document.createTime?Dr(r.document.createTime):ue.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new oh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qp(t,r.document),i=r.readTime?Dr(r.readTime):ue.min(),o=Mt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new oh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qp(t,r.document),i=r.removedTargetIds||[];n=new oh([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new TB(s,i),a=r.targetId;n=new XN(a,o)}}return n}function jB(t,e){let n;if(e instanceof ku)n={update:x1(t,e.key,e.value)};else if(e instanceof QN)n={delete:My(t,e.key)};else if(e instanceof Oo)n={update:x1(t,e.key,e.data),updateMask:GB(e.fieldMask)};else{if(!(e instanceof _B))return oe(16599,{Vt:e.type});n={verify:My(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof sf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof of)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:DB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function LB(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Dr(s.updateTime):Dr(i);return o.isEqual(ue.min())&&(o=Dr(i)),new vB(o,s.transformResults||[])}(n,e))):[]}function VB(t,e){return{documents:[tR(t,e.path)]}}function FB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tR(t,s);const i=function(c){if(c.length!==0)return sR(ar.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Jo(m.field),direction:BB(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Dy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function UB(t){let e=OB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=rR(f);return m instanceof ar&&kN(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(E){return new au(Zo(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,lm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new rf(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new rf(p,m)}(n.endAt)),sB(e,s,o,i,a,"F",l,c)}function $B(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zo(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zo(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(Zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ar.create(n.compositeFilter.filters.map(r=>rR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function BB(t){return NB[t]}function zB(t){return RB[t]}function qB(t){return PB[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return Et.fromServerFormat(t.fieldPath)}function sR(t){return t instanceof it?function(n){if(n.op==="=="){if(a1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(o1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(o1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:zB(n.op),value:n.value}}}(t):t instanceof ar?function(n){const r=n.getFilters().map(s=>sR(s));return r.length===1?r[0]:{compositeFilter:{op:qB(n.op),filters:r}}}(t):oe(54877,{filter:t})}function GB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.yt=e}}function WB(t){const e=UB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ky(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.Cn=new QB}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(_i.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class QB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ht(je.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ht(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oR=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(oR,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="LruGarbageCollector",YB=1048576;function I1([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class XB{constructor(e){this.Ir=e,this.buffer=new ht(I1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(E1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?Y(E1,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.Vr(3e5)})}}class ZB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(am.ce);const r=new XB(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(_1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Yo()<=xe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function ez(t,e){return new ZB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(){this.changes=new Do(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ac(r.mutation,s,Zn.empty(),Ce.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=Yi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ic();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ms();const o=Cc(),a=function(){return Cc()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Oo)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ac(h.mutation,c,h.mutation.getFieldMask(),Ce.now())):o.set(c.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new nz(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cc();let s=new Qe((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Zn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=$N();h.forEach(m=>{if(!i.has(m)){const p=WN(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Yi());let a=ru,l=i;return o.next(c=>B.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ee())).next(h=>({batchId:a,changes:UN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=ic();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ic();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const c=function(f,m){return new El(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Mt.newInvalidDocument(h)))});let a=ic();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Ac(h.mutation,c,Zn.empty(),Ce.now()),hm(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Dr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:WB(s.bundledQuery),readTime:Dr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.overlays=new Qe(se.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Yi(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Yi(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Yi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IB(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Qr=new ht(gt.$r),this.Ur=new ht(gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new gt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new je([])),r=new gt(n,e),s=new gt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new je([])),r=new gt(n,e),s=new gt(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new gt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ht(gt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new EB(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new gt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Rw:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),s=new gt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(_e);return n.forEach(s=>{const i=new gt(s,0),o=new gt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new gt(new se(i),0);let a=new ht(_e);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new gt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new gt(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.ri=e,this.docs=function(){return new Qe(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ms();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||L9(j9(h),r)<=0||(s.has(h.key)||hm(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cz(this)}getSize(e){return B.resolve(this.size)}}class cz extends tz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.persistence=e,this.si=new Do(n=>Dw(n),Ow),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Fw,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.ui={},this.overlays={},this.ci=new am(0),this.li=!1,this.li=!0,this.hi=new oz,this.referenceDelegate=e(this),this.Pi=new uz(this),this.indexManager=new KB,this.remoteDocumentCache=function(s){return new lz(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new HB(n),this.Ii=new sz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new az(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new dz(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class dz extends F9{constructor(e){super(),this.currentSequenceNumber=e}}class Uw{constructor(e){this.persistence=e,this.Ri=new Fw,this.Vi=null}static mi(e){return new Uw(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.pi=new Do(r=>B9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ez(this,n)}static mi(e,n){return new lf(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new $w(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return P3()?8:U9(Vt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new hz;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Yo()<=xe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Yo()<=xe.DEBUG&&Y("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Yo()<=xe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):B.resolve())}ys(e,n){if(d1(n))return B.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ky(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,ky(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return d1(n)||s.isEqual(ue.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Yo()<=xe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xo(n)),this.vs(e,o,n,M9(s,ru)).next(a=>a))})}Ds(e,n){let r=new ht(VN(e));return n.forEach((s,i)=>{hm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Yo()<=xe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.ps.getDocumentsMatchingQuery(e,n,_i.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="LocalStore",mz=3e8;class pz{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Qe(_e),this.xs=new Do(i=>Dw(i),Ow),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gz(t,e,n,r){return new pz(t,e,n,r)}async function lR(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function yz(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,m=f.keys();let p=B.resolve();return m.forEach(E=>{p=p.next(()=>h.getEntry(l,E)).next(v=>{const x=c.docVersions.get(E);Ae(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function cR(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function vz(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ct.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),s=s.insert(f,p),function(v,x,_){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=mz?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,p,h)&&a.push(n.Pi.updateTargetData(i,p))});let l=ms(),c=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(wz(i,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ue.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function wz(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ms();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Bw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function xz(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _z(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ly(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!_l(o))throw o;Y(Bw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function T1(t,e,n){const r=he(t);let s=ue.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=he(l),m=f.xs.get(h);return m!==void 0?B.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,h)}(r,o,Pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:Ee())).next(a=>(Ez(r,oB(e),a),{documents:a,Qs:i})))}function Ez(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class S1{constructor(){this.activeTargetIds=hB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iz{constructor(){this.Mo=new S1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="ConnectivityMonitor";class C1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(b1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(b1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function Vy(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="RestConnection",Sz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bz{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===tf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Vy(),a=this.zo(e,n.toUriEncodedString());Y(Gp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),h=gl(c);return this.Jo(e,a,l,r,h).then(f=>(Y(Gp,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Wa(Gp,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=Sz[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class Az extends bz{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Vy();return new Promise((a,l)=>{const c=new uN;c.setWithCredentials(!0),c.listenOnce(dN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nh.NO_ERROR:const f=c.getResponseJson();Y(Pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case nh.TIMEOUT:Y(Pt,`RPC '${e}' ${o} timed out`),l(new Q($.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const m=c.getStatus();if(Y(Pt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const E=p==null?void 0:p.error;if(E&&E.status&&E.message){const v=function(_){const I=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(I)>=0?I:$.UNKNOWN}(E.status);l(new Q(v,E.message))}else l(new Q($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q($.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(Pt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Y(Pt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Vy(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mN(),a=fN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Y(Pt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,p=!1;const E=new Cz({Yo:x=>{p?Y(Pt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(Y(Pt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Y(Pt,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),v=(x,_,I)=>{x.listen(_,S=>{try{I(S)}catch(R){setTimeout(()=>{throw R},0)}})};return v(f,sc.EventType.OPEN,()=>{p||(Y(Pt,`RPC '${e}' stream ${s} transport opened.`),E.o_())}),v(f,sc.EventType.CLOSE,()=>{p||(p=!0,Y(Pt,`RPC '${e}' stream ${s} transport closed`),E.a_(),this.E_(f))}),v(f,sc.EventType.ERROR,x=>{p||(p=!0,Wa(Pt,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),E.a_(new Q($.UNAVAILABLE,"The operation could not be completed")))}),v(f,sc.EventType.MESSAGE,x=>{var _;if(!p){const I=x.data[0];Ae(!!I,16349);const S=I,R=(S==null?void 0:S.error)||((_=S[0])==null?void 0:_.error);if(R){Y(Pt,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let M=function(C){const A=rt[C];if(A!==void 0)return YN(A)}(D),b=R.message;M===void 0&&(M=$.INTERNAL,b="Unknown error status: "+D+" with message "+R.message),p=!0,E.a_(new Q(M,b)),f.close()}else Y(Pt,`RPC '${e}' stream ${s} received:`,I),E.u_(I)}}),v(a,hN.STAT_EVENT,x=>{x.stat===Sy.PROXY?Y(Pt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Sy.NOPROXY&&Y(Pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.__()},0),E}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){return new kB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="PersistentStream";class dR{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(A1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(A1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nz extends dR{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MB(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Dr(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Ry(l)?{documents:VB(i,l)}:{query:FB(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ZN(i,o.resumeToken);const c=Dy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=af(i,o.snapshotVersion.toTimestamp());const c=Dy(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=$B(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.q_(n)}}class Rz extends dR{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LB(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jB(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{}class kz extends Pz{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Oy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Oy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Dz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class Oz{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Mo(this)&&(Y(_o,"Restarting streams for network reachability change."),await async function(l){const c=he(l);c.Ea.add(4),await Ou(c),c.Ra.set("Unknown"),c.Ea.delete(4),await ym(c)}(this))})}),this.Ra=new Dz(r,s)}}async function ym(t){if(Mo(t))for(const e of t.da)await e(!0)}async function Ou(t){for(const e of t.da)await e(!1)}function hR(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hw(n)?Gw(n):Il(n).O_()&&qw(n,e))}function zw(t,e){const n=he(t),r=Il(n);n.Ia.delete(e),r.O_()&&fR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Mo(n)&&n.Ra.set("Unknown"))}function qw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Y_(e)}function fR(t,e){t.Va.Ue(e),Il(t).Z_(e)}function Gw(t){t.Va=new AB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Ra.ua()}function Hw(t){return Mo(t)&&!Il(t).x_()&&t.Ia.size>0}function Mo(t){return he(t).Ea.size===0}function mR(t){t.Va=void 0}async function Mz(t){t.Ra.set("Online")}async function jz(t){t.Ia.forEach((e,n)=>{qw(t,e)})}async function Lz(t,e){mR(t),Hw(t)?(t.Ra.ha(e),Gw(t)):t.Ra.set("Unknown")}async function Vz(t,e,n){if(t.Ra.set("Online"),e instanceof JN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await cf(t,r)}else if(e instanceof oh?t.Va.Ze(e):e instanceof XN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await cR(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),fR(i,l);const f=new Js(h.target,l,c,h.sequenceNumber);qw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(_o,"Failed to raise snapshot:",r),await cf(t,r)}}async function cf(t,e,n){if(!_l(e))throw e;t.Ea.add(1),await Ou(t),t.Ra.set("Offline"),n||(n=()=>cR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(_o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ym(t)})}function pR(t,e){return e().catch(n=>cf(t,n,e))}async function vm(t){const e=he(t),n=Si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rw;for(;Fz(e);)try{const s=await xz(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Uz(e,s)}catch(s){await cf(e,s)}gR(e)&&yR(e)}function Fz(t){return Mo(t)&&t.Ta.length<10}function Uz(t,e){t.Ta.push(e);const n=Si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gR(t){return Mo(t)&&!Si(t).x_()&&t.Ta.length>0}function yR(t){Si(t).start()}async function $z(t){Si(t).ra()}async function Bz(t){const e=Si(t);for(const n of t.Ta)e.ea(n.mutations)}async function zz(t,e,n){const r=t.Ta.shift(),s=jw.from(r,e,n);await pR(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vm(t)}async function qz(t,e){e&&Si(t).X_&&await async function(r,s){if(function(o){return SB(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Si(r).B_(),await pR(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await vm(r)}}(t,e),gR(t)&&yR(t)}async function N1(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Y(_o,"RemoteStore received new credentials");const r=Mo(n);n.Ea.add(3),await Ou(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ym(n)}async function Gz(t,e){const n=he(t);e?(n.Ea.delete(2),await ym(n)):e||(n.Ea.add(2),await Ou(n),n.Ra.set("Unknown"))}function Il(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.sa(),new Nz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Mz.bind(null,t),t_:jz.bind(null,t),r_:Lz.bind(null,t),H_:Vz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Hw(t)?Gw(t):t.Ra.set("Unknown")):(await t.ma.stop(),mR(t))})),t.ma}function Si(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new Rz(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$z.bind(null,t),r_:qz.bind(null,t),ta:Bz.bind(null,t),na:zz.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await vm(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(_o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ww(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kw(t,e){if(fs("AsyncQueue",`${e}: ${t}`),_l(t))return new Q($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{static emptySet(e){return new Ta(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ta)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ta;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.ga=new Qe(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Za{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Za(e,n,Ta.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Wz{constructor(){this.queries=P1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=P1(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q($.ABORTED,"Firestore shutting down"))}}function P1(){return new Do(t=>LN(t),dm)}async function vR(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new Hz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Kw(o,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Qw(n)}async function wR(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Kz(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Qw(n)}function Qz(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Qw(t){t.Ca.forEach(e=>{e.next()})}var Fy,k1;(k1=Fy||(Fy={})).Ma="default",k1.Cache="cache";class xR{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.key=e}}class ER{constructor(e){this.key=e}}class Yz{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=VN(e),this.tu=new Ta(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new R1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),p=hm(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;m&&p?m.data.isEqual(p.data)?E!==v&&(r.track({type:3,doc:p}),x=!0):this.su(m,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),x=!0):m&&!p&&(r.track({type:1,doc:m}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(p,E){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:x})}};return v(p)-v(E)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Za(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ER(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _R(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yw="SyncEngine";class Xz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jz{constructor(e){this.key=e,this.hu=!1}}class Zz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Do(a=>LN(a),dm),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(se.comparator),this.Au=new Map,this.Ru=new Fw,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e8(t,e,n=!0){const r=AR(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await IR(r,e,n,!0),s}async function t8(t,e){const n=AR(t);await IR(n,e,!0,!1)}async function IR(t,e,n,r){const s=await _z(t.localStore,Pr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await n8(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&hR(t.remoteStore,s),a}async function n8(t,e,n,r,s){t.pu=(f,m,p)=>async function(v,x,_,I){let S=x.view.ru(_);S.Cs&&(S=await T1(v.localStore,x.query,!1).then(({documents:b})=>x.view.ru(b,S)));const R=I&&I.targetChanges.get(x.targetId),D=I&&I.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(S,v.isPrimaryClient,R,D);return O1(v,x.targetId,M.au),M.snapshot}(t,f,m,p);const i=await T1(t.localStore,e,!0),o=new Yz(e,i.Qs),a=o.ru(i.documents),l=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);O1(t,n,c.au);const h=new Xz(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function r8(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!dm(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ly(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zw(r.remoteStore,s.targetId),Uy(r,s.targetId)}).catch(xl)):(Uy(r,s.targetId),await Ly(r.localStore,s.targetId,!0))}async function s8(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zw(n.remoteStore,r.targetId))}async function i8(t,e,n){const r=h8(t);try{const s=await function(o,a){const l=he(o),c=Ce.now(),h=a.reduce((p,E)=>p.add(E.key),Ee());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let E=ms(),v=Ee();return l.Ns.getEntries(p,h).next(x=>{E=x,E.forEach((_,I)=>{I.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,E)).next(x=>{f=x;const _=[];for(const I of a){const S=xB(I,f.get(I.key).overlayedDocument);S!=null&&_.push(new Oo(I.key,S,NN(S.value.mapValue),kr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(x=>{m=x;const _=x.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,x.batchId,_)})}).then(()=>({batchId:m.batchId,changes:UN(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Qe(_e)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Mu(r,s.changes),await vm(r.remoteStore)}catch(s){const i=Kw(s,"Failed to persist write");n.reject(i)}}async function TR(t,e){const n=he(t);try{const r=await vz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await Mu(n,r,e)}catch(r){await xl(r)}}function D1(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(c=!0)}),c&&Qw(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o8(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(se.comparator);o=o.insert(i,Mt.newNoDocument(i,ue.min()));const a=Ee().add(i),l=new pm(ue.min(),new Map,new Qe(_e),o,a);await TR(r,l),r.du=r.du.remove(i),r.Au.delete(e),Xw(r)}else await Ly(r.localStore,e,!1).then(()=>Uy(r,e,n)).catch(xl)}async function a8(t,e){const n=he(t),r=e.batch.batchId;try{const s=await yz(n.localStore,e);bR(n,r,null),SR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,s)}catch(s){await xl(s)}}async function l8(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ae(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);bR(r,e,n),SR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,s)}catch(s){await xl(s)}}function SR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function bR(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||CR(t,r)})}function CR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zw(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Xw(t))}function O1(t,e,n){for(const r of n)r instanceof _R?(t.Ru.addReference(r.key,e),c8(t,r)):r instanceof ER?(Y(Yw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||CR(t,r.key)):oe(19791,{wu:r})}function c8(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Yw,"New document in limbo: "+n),t.Eu.add(r),Xw(t))}function Xw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(je.fromString(e)),r=t.fu.next();t.Au.set(r,new Jz(n)),t.du=t.du.insert(n,r),hR(t.remoteStore,new Js(Pr(um(n.path)),r,"TargetPurposeLimboResolution",am.ce))}}async function Mu(t,e,n){const r=he(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=$w.As(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const h=he(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(c,m=>B.forEach(m.Es,p=>h.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>B.forEach(m.ds,p=>h.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!_l(f))throw f;Y(Bw,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=h.Ms.get(m),E=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(E);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function u8(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Y(Yw,"User change. New user:",e.toKey());const r=await lR(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Q($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.Ls)}}function d8(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function AR(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=TR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o8.bind(null,e),e.Pu.H_=Kz.bind(null,e.eventManager),e.Pu.yu=Qz.bind(null,e.eventManager),e}function h8(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=l8.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gz(this.persistence,new fz,e.initialUser,this.serializer)}Cu(e){return new aR(Uw.mi,this.serializer)}Du(e){return new Iz}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class f8 extends uf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new aR(r=>lf.mi(r,n),this.serializer)}}class $y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u8.bind(null,this.syncEngine),await Gz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wz}()}createDatastore(e){const n=gm(e.databaseInfo.databaseId),r=function(i){return new Az(i)}(e.databaseInfo);return function(i,o,a,l){return new kz(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Oz(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>D1(this.syncEngine,n,0),function(){return C1.v()?new C1:new Tz}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new Zz(s,i,o,a,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);Y(_o,"RemoteStore shutting down."),i.Ea.add(5),await Ou(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$y.provider={build:()=>new $y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="FirestoreClient";class m8{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=Nw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(bi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(bi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wp(t,e){t.asyncQueue.verifyOperationInProgress(),Y(bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function M1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await p8(t);Y(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>N1(e.remoteStore,s)),t._onlineComponents=e}async function p8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(bi,"Using user provided OfflineComponentProvider");try{await Wp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await Wp(t,new uf)}}else Y(bi,"Using default OfflineComponentProvider"),await Wp(t,new f8(void 0));return t._offlineComponents}async function RR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(bi,"Using user provided OnlineComponentProvider"),await M1(t,t._uninitializedComponentsProvider._online)):(Y(bi,"Using default OnlineComponentProvider"),await M1(t,new $y))),t._onlineComponents}function g8(t){return RR(t).then(e=>e.syncEngine)}async function By(t){const e=await RR(t),n=e.eventManager;return n.onListen=e8.bind(null,e.syncEngine),n.onUnlisten=r8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=t8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s8.bind(null,e.syncEngine),n}function y8(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new NR({next:m=>{h.Nu(),o.enqueueAndForget(()=>wR(i,f));const p=m.docs.has(a);!p&&m.fromCache?c.reject(new Q($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?c.reject(new Q($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new xR(um(a.path),h,{includeMetadataChanges:!0,qa:!0});return vR(i,f)}(await By(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firestore.googleapis.com",L1=!0;class V1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kR,this.ssl=L1}else this.host=e.host,this.ssl=e.ssl??L1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YB)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T9;switch(r.type){case"firstParty":return new A9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j1.get(n);r&&(Y("ComponentProvider","Removing Datastore"),j1.delete(n),r.terminate())}(this),Promise.resolve()}}function v8(t,e,n,r={}){var c;t=ns(t,wm);const s=gl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(ZC(`https://${a}`),eA("Firestore",!0)),i.host!==kR&&i.host!==a&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!us(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Dt.MOCK_USER;else{h=I3(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Dt(m)}t._authCredentials=new S9(new gN(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pu(n,nt._jsonSchema))return new nt(e,r||null,new se(je.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:ot("string",nt._jsonSchemaVersion),referencePath:ot("string")};class fi extends jo{constructor(e,n,r){super(e,n,um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new se(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function F1(t,e,...n){if(t=bt(t),yN("collection","path",e),t instanceof wm){const r=je.fromString(e,...n);return XE(r),new fi(t,null,r)}{if(!(t instanceof nt||t instanceof fi))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return XE(r),new fi(t.firestore,null,r)}}function vn(t,e,...n){if(t=bt(t),arguments.length===1&&(e=Nw.newId()),yN("doc","path",e),t instanceof wm){const r=je.fromString(e,...n);return YE(r),new nt(t,null,new se(r))}{if(!(t instanceof nt||t instanceof fi))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return YE(r),new nt(t.firestore,t instanceof fi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="AsyncQueue";class $1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uR(this,"async_queue_retry"),this._c=()=>{const r=Hp();r&&Y(U1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new hi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;Y(U1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",B1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ww.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&oe(47125,{Pc:B1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function B1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class el extends wm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $1(e),this._firestoreClient=void 0,await e}}}function w8(t,e){const n=typeof t=="object"?t:hw(),r=typeof t=="string"?t:tf,s=Po(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_3("firestore");i&&v8(s,...i)}return s}function Jw(t){if(t._terminated)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x8(t),t._firestoreClient}function x8(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,h){return new G9(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new m8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(Ct.fromBase64String(e))}catch(n){throw new Q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rn(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Rn._jsonSchema))return Rn.fromBase64String(e.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:ot("string",Rn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:ot("string",Or._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Mr(e.vectorValues);throw new Q($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:ot("string",Mr._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=/^__.*__$/;class E8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}function DR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class xm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DR(this.Ac)&&_8.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class I8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gm(e)}Cc(e,n,r,s=!1){return new xm({Ac:e,methodName:n,Dc:r,path:Et.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t0(t){const e=t._freezeSettings(),n=gm(t._databaseId);return new I8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OR(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);LR("Data must be an object, but it was:",o,r);const a=MR(r,o);let l,c;if(i.merge)l=new Zn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=b8(e,f,n);if(!o.contains(m))throw new Q($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);A8(h,m)||h.push(m)}l=new Zn(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new E8(new Nn(a),l,c)}function T8(t,e,n){return new xm({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class n0 extends e0{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=T8(this,e,!0),r=this.vc.map(i=>_m(i,n)),s=new Xa(r);return new gB(e.path,s)}isEqual(e){return e instanceof n0&&us(this.vc,e.vc)}}function S8(t,e,n,r=!1){return _m(n,t.Cc(r?4:3,e))}function _m(t,e){if(jR(t=bt(t)))return LR("Unsupported field value:",e,t),MR(t,e);if(t instanceof e0)return function(r,s){if(!DR(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=_m(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ce.fromDate(r);return{timestampValue:af(s.serializer,i)}}if(r instanceof Ce){const i=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:af(s.serializer,i)}}if(r instanceof Or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rn)return{bytesValue:ZN(s.serializer,r._byteString)};if(r instanceof nt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mr)return function(o,a){return{mapValue:{fields:{[bN]:{stringValue:AN},[nf]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Mw(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${om(r)}`)}(t,e)}function MR(t,e){const n={};return xN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(t,(r,s)=>{const i=_m(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function jR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Or||t instanceof Rn||t instanceof nt||t instanceof e0||t instanceof Mr)}function LR(t,e,n){if(!jR(n)||!vN(n)){const r=om(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function b8(t,e,n){if((e=bt(e))instanceof Zw)return e._internalPath;if(typeof e=="string")return VR(t,e);throw df("Field path arguments must be of type string or ",t,!1,void 0,n)}const C8=new RegExp("[~\\*/\\[\\]]");function VR(t,e,n){if(e.search(C8)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zw(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function df(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q($.INVALID_ARGUMENT,a+t+l)}function A8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N8 extends FR{data(){return super.data()}}function Em(t,e){return typeof e=="string"?VR(t,e):e instanceof Zw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}class UR extends r0{}function P8(t,e,...n){let r=[];e instanceof r0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof s0).length,a=i.filter(l=>l instanceof Im).length;if(o>1||o>0&&a>0)throw new Q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Im extends UR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Im(e,n,r)}_apply(e){const n=this._parse(e);return $R(e._query,n),new jo(e.firestore,e.converter,Py(e._query,n))}_parse(e){const n=t0(e.firestore);return function(i,o,a,l,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){G1(f,h);const E=[];for(const v of f)E.push(q1(l,i,v));m={arrayValue:{values:E}}}else m=q1(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||G1(f,h),m=S8(a,o,f,h==="in"||h==="not-in");return it.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function k8(t,e,n){const r=e,s=Em("where",t);return Im._create(s,r,n)}class s0 extends r0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)$R(o,l),o=Py(o,l)}(e._query,n),new jo(e.firestore,e.converter,Py(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i0 extends UR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(i,o)}(e._query,this._field,this._direction);return new jo(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new El(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function D8(t,e="asc"){const n=e,r=Em("orderBy",t);return i0._create(r,n)}function q1(t,e,n){if(typeof(n=bt(n))=="string"){if(n==="")throw new Q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jN(e)&&n.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!se.isDocumentKey(r))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return i1(t,new se(r))}if(n instanceof nt)return i1(t,n._key);throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(n)}.`)}function G1(t,e){if(!Array.isArray(t)||t.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $R(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O8{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ko(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[nf].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>et(o.doubleValue));return new Mr(n)}convertGeoPoint(e){return new Or(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ae(iR(r),9688,{name:e});const s=new iu(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||fs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends FR{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ao._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:ot("string",ao._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class ah extends ao{data(e={}){return super.data(e)}}class Sa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ac(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ah(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ah(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ah(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:M8(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function M8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){t=ns(t,nt);const e=ns(t.firestore,el);return y8(Jw(e),t._key).then(n=>GR(e,t,n))}Sa._jsonSchemaVersion="firestore/querySnapshot/1.0",Sa._jsonSchema={type:ot("string",Sa._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class zR extends O8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function lo(t,e,n){t=ns(t,nt);const r=ns(t.firestore,el),s=BR(t.converter,e,n);return qR(r,[OR(t0(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kr.none())])}function j8(t,e){const n=ns(t.firestore,el),r=vn(t),s=BR(t.converter,e);return qR(n,[OR(t0(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kr.exists(!1))]).then(()=>r)}function L8(t,...e){var l,c,h;t=bt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||z1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(z1(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof nt)o=ns(t.firestore,el),a=um(t._key.path),i={next:f=>{e[r]&&e[r](GR(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ns(t,jo);o=ns(f.firestore,el),a=f._query;const m=new zR(o);i={next:p=>{e[r]&&e[r](new Sa(o,m,f,p))},error:e[r+1],complete:e[r+2]},R8(t._query)}return function(m,p,E,v){const x=new NR(v),_=new xR(p,x,E);return m.asyncQueue.enqueueAndForget(async()=>vR(await By(m),_)),()=>{x.Nu(),m.asyncQueue.enqueueAndForget(async()=>wR(await By(m),_))}}(Jw(o),a,s,i)}function qR(t,e){return function(r,s){const i=new hi;return r.asyncQueue.enqueueAndForget(async()=>i8(await g8(r),s,i)),i.promise}(Jw(t),e)}function GR(t,e,n){const r=n.docs.get(e._key),s=new zR(t);return new ao(t,s,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}function V8(...t){return new n0("arrayUnion",t)}(function(e,n=!0){(function(s){wl=s})(yl),Lr(new or("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new el(new b9(r.getProvider("auth-internal")),new N9(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(c.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dn(HE,WE,e),Dn(HE,WE,"esm2020")})();const F8={apiKey:"AIzaSyAI7ULhcG0UTa77-bBEybNOWlulq-V7dDU",authDomain:"bill-split-ebb76.firebaseapp.com",projectId:"bill-split-ebb76",storageBucket:"bill-split-ebb76.firebasestorage.app",messagingSenderId:"592503616573",appId:"1:592503616573:web:1474ae7ee6a2ce5fc32654"},o0=aA(F8),Kp=YU(o0),rn=w8(o0);typeof window<"u"&&x9(o0);const HR=new Qr;HR.setCustomParameters({prompt:"select_account"});const WR=y.createContext(void 0),Fn=()=>{const t=y.useContext(WR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},U8=({children:t})=>{const[e,n]=n$(Kp),{toast:r}=ln(),o={user:e,loading:n,signInWithGoogle:async()=>{try{await iU(Kp,HR),r({title:"Welcome!",description:"Successfully signed in with Google."})}catch(a){console.error("Error signing in with Google:",a),r({title:"Sign in failed",description:a.message||"Could not sign in with Google. Please try again.",variant:"destructive"})}},signOut:async()=>{try{await F5(Kp),r({title:"Signed out",description:"You have been signed out successfully."})}catch(a){console.error("Error signing out:",a),r({title:"Sign out failed",description:a.message||"Could not sign out. Please try again.",variant:"destructive"})}}};return u.jsx(WR.Provider,{value:o,children:t})},$8=zf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?OM:"button";return u.jsx(o,{className:le($8({variant:e,size:n,className:t})),ref:i,...s})});J.displayName="Button";var KR={exports:{}},QR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=y;function B8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z8=typeof Object.is=="function"?Object.is:B8,q8=tl.useState,G8=tl.useEffect,H8=tl.useLayoutEffect,W8=tl.useDebugValue;function K8(t,e){var n=e(),r=q8({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return H8(function(){s.value=n,s.getSnapshot=e,Qp(s)&&i({inst:s})},[t,n,e]),G8(function(){return Qp(s)&&i({inst:s}),t(function(){Qp(s)&&i({inst:s})})},[t]),W8(n),n}function Qp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!z8(t,n)}catch{return!0}}function Q8(t,e){return e()}var Y8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q8:K8;QR.useSyncExternalStore=tl.useSyncExternalStore!==void 0?tl.useSyncExternalStore:Y8;KR.exports=QR;var X8=KR.exports;function J8(){return X8.useSyncExternalStore(Z8,()=>!0,()=>!1)}function Z8(){return()=>{}}var a0="Avatar",[e7,yQ]=lr(a0),[t7,YR]=e7(a0),XR=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return u.jsx(t7,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(ve.span,{...r,ref:e})})});XR.displayName=a0;var JR="AvatarImage",ZR=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=YR(JR,n),a=n7(r,i),l=an(c=>{s(c),o.onImageLoadingStatusChange(c)});return Vn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(ve.img,{...i,ref:e,src:r}):null});ZR.displayName=JR;var eP="AvatarFallback",tP=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=YR(eP,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(ve.span,{...s,ref:e}):null});tP.displayName=eP;function H1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function n7(t,{referrerPolicy:e,crossOrigin:n}){const r=J8(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>H1(i,t));return Vn(()=>{a(H1(i,t))},[i,t]),Vn(()=>{const l=f=>()=>{a(f)};if(!i)return;const c=l("loaded"),h=l("error");return i.addEventListener("load",c),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",h)}},[i,n,e]),o}var nP=XR,rP=ZR,sP=tP;const iP=y.forwardRef(({className:t,...e},n)=>u.jsx(nP,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));iP.displayName=nP.displayName;const oP=y.forwardRef(({className:t,...e},n)=>u.jsx(rP,{ref:n,className:le("aspect-square h-full w-full",t),...e}));oP.displayName=rP.displayName;const aP=y.forwardRef(({className:t,...e},n)=>u.jsx(sP,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));aP.displayName=sP.displayName;var r7=y.createContext(void 0);function l0(t){const e=y.useContext(r7);return t||e||"ltr"}var Yp=0;function c0(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??W1()),document.body.insertAdjacentElement("beforeend",t[1]??W1()),Yp++,()=>{Yp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yp--}},[])}function W1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xp="focusScope.autoFocusOnMount",Jp="focusScope.autoFocusOnUnmount",K1={bubbles:!1,cancelable:!0},s7="FocusScope",Tm=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=an(s),h=an(i),f=y.useRef(null),m=Ke(e,v=>l(v)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(S){if(p.paused||!a)return;const R=S.target;a.contains(R)?f.current=R:Ms(f.current,{select:!0})},x=function(S){if(p.paused||!a)return;const R=S.relatedTarget;R!==null&&(a.contains(R)||Ms(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Ms(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const I=new MutationObserver(_);return a&&I.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),I.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){Y1.add(p);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Xp,K1);a.addEventListener(Xp,c),a.dispatchEvent(_),_.defaultPrevented||(i7(u7(lP(a)),{select:!0}),document.activeElement===v&&Ms(a))}return()=>{a.removeEventListener(Xp,c),setTimeout(()=>{const _=new CustomEvent(Jp,K1);a.addEventListener(Jp,h),a.dispatchEvent(_),_.defaultPrevented||Ms(v??document.body,{select:!0}),a.removeEventListener(Jp,h),Y1.remove(p)},0)}}},[a,c,h,p]);const E=y.useCallback(v=>{if(!n&&!r||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(x&&_){const I=v.currentTarget,[S,R]=o7(I);S&&R?!v.shiftKey&&_===R?(v.preventDefault(),n&&Ms(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),n&&Ms(R,{select:!0})):_===I&&v.preventDefault()}},[n,r,p.paused]);return u.jsx(ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:E})});Tm.displayName=s7;function i7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ms(r,{select:e}),document.activeElement!==n)return}function o7(t){const e=lP(t),n=Q1(e,t),r=Q1(e.reverse(),t);return[n,r]}function lP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Q1(t,e){for(const n of t)if(!a7(n,{upTo:e}))return n}function a7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function l7(t){return t instanceof HTMLInputElement&&"select"in t}function Ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&l7(t)&&e&&t.select()}}var Y1=c7();function c7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=X1(t,e),t.unshift(e)},remove(e){var n;t=X1(t,e),(n=t[0])==null||n.resume()}}}function X1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function u7(t){return t.filter(e=>e.tagName!=="A")}var Zp="rovingFocusGroup.onEntryFocus",d7={bubbles:!1,cancelable:!0},ju="RovingFocusGroup",[zy,cP,h7]=zv(ju),[f7,Sm]=lr(ju,[h7]),[m7,p7]=f7(ju),uP=y.forwardRef((t,e)=>u.jsx(zy.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(zy.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(g7,{...t,ref:e})})}));uP.displayName=ju;var g7=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,m=y.useRef(null),p=Ke(e,m),E=l0(i),[v,x]=ll({prop:o,defaultProp:a??null,onChange:l,caller:ju}),[_,I]=y.useState(!1),S=an(c),R=cP(n),D=y.useRef(!1),[M,b]=y.useState(0);return y.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Zp,S),()=>T.removeEventListener(Zp,S)},[S]),u.jsx(m7,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(T=>x(T),[x]),onItemShiftTab:y.useCallback(()=>I(!0),[]),onFocusableItemAdd:y.useCallback(()=>b(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>b(T=>T-1),[]),children:u.jsx(ve.div,{tabIndex:_||M===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{D.current=!0}),onFocus:ee(t.onFocus,T=>{const C=!D.current;if(T.target===T.currentTarget&&C&&!_){const A=new CustomEvent(Zp,d7);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const k=R().filter(H=>H.focusable),O=k.find(H=>H.active),P=k.find(H=>H.id===v),re=[O,P,...k].filter(Boolean).map(H=>H.ref.current);fP(re,h)}}D.current=!1}),onBlur:ee(t.onBlur,()=>I(!1))})})}),dP="RovingFocusGroupItem",hP=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=ai(),c=i||l,h=p7(dP,n),f=h.currentTabStopId===c,m=cP(n),{onFocusableItemAdd:p,onFocusableItemRemove:E,currentTabStopId:v}=h;return y.useEffect(()=>{if(r)return p(),()=>E()},[r,p,E]),u.jsx(zy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:ee(t.onMouseDown,x=>{r?h.onItemFocus(c):x.preventDefault()}),onFocus:ee(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:ee(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const _=w7(x,h.orientation,h.dir);if(_!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let S=m().filter(R=>R.focusable).map(R=>R.ref.current);if(_==="last")S.reverse();else if(_==="prev"||_==="next"){_==="prev"&&S.reverse();const R=S.indexOf(x.currentTarget);S=h.loop?x7(S,R+1):S.slice(R+1)}setTimeout(()=>fP(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});hP.displayName=dP;var y7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function v7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function w7(t,e,n){const r=v7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return y7[r]}function fP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function x7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mP=uP,pP=hP,_7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Go=new WeakMap,kd=new WeakMap,Dd={},eg=0,gP=function(t){return t&&(t.host||gP(t.parentNode))},E7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},I7=function(t,e,n,r){var s=E7(e,Array.isArray(t)?t:[t]);Dd[n]||(Dd[n]=new WeakMap);var i=Dd[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var p=m.getAttribute(r),E=p!==null&&p!=="false",v=(Go.get(m)||0)+1,x=(i.get(m)||0)+1;Go.set(m,v),i.set(m,x),o.push(m),v===1&&E&&kd.set(m,!0),x===1&&m.setAttribute(n,"true"),E||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),a.clear(),eg++,function(){o.forEach(function(f){var m=Go.get(f)-1,p=i.get(f)-1;Go.set(f,m),i.set(f,p),m||(kd.has(f)||f.removeAttribute(r),kd.delete(f)),p||f.removeAttribute(n)}),eg--,eg||(Go=new WeakMap,Go=new WeakMap,kd=new WeakMap,Dd={})}},u0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=_7(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),I7(r,s,n,"aria-hidden")):function(){return null}},Sr=function(){return Sr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function yP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function T7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var lh="right-scroll-bar-position",ch="width-before-scroll-bar",S7="with-scroll-bars-hidden",b7="--removed-body-scroll-bar-size";function tg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function C7(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var A7=typeof window<"u"?y.useLayoutEffect:y.useEffect,J1=new WeakMap;function N7(t,e){var n=C7(null,function(r){return t.forEach(function(s){return tg(s,r)})});return A7(function(){var r=J1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||tg(a,null)}),i.forEach(function(a){s.has(a)||tg(a,o)})}J1.set(n,t)},[t]),n}function R7(t){return t}function P7(t,e){e===void 0&&(e=R7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function k7(t){t===void 0&&(t={});var e=P7(null);return e.options=Sr({async:!0,ssr:!1},t),e}var vP=function(t){var e=t.sideCar,n=yP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Sr({},n))};vP.isSideCarExport=!0;function D7(t,e){return t.useMedium(e),vP}var wP=k7(),ng=function(){},bm=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:ng,onWheelCapture:ng,onTouchMoveCapture:ng}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,E=t.noIsolation,v=t.inert,x=t.allowPinchZoom,_=t.as,I=_===void 0?"div":_,S=t.gapMode,R=yP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,M=N7([n,e]),b=Sr(Sr({},R),s);return y.createElement(y.Fragment,null,h&&y.createElement(D,{sideCar:wP,removeScrollBar:c,shards:f,noRelative:p,noIsolation:E,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:S}),o?y.cloneElement(y.Children.only(a),Sr(Sr({},b),{ref:M})):y.createElement(I,Sr({},b,{className:l,ref:M}),a))});bm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bm.classNames={fullWidth:ch,zeroRight:lh};var O7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function M7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=O7();return e&&t.setAttribute("nonce",e),t}function j7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function L7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var V7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=M7())&&(j7(e,n),L7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F7=function(){var t=V7();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},xP=function(){var t=F7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},U7={left:0,top:0,right:0,gap:0},rg=function(t){return parseInt(t||"",10)||0},$7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rg(n),rg(r),rg(s)]},B7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return U7;var e=$7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},z7=xP(),ba="data-scroll-locked",q7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(S7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ba,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ch,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lh," .").concat(lh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ch," .").concat(ch,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ba,`] {
    `).concat(b7,": ").concat(a,`px;
  }
`)},Z1=function(){var t=parseInt(document.body.getAttribute(ba)||"0",10);return isFinite(t)?t:0},G7=function(){y.useEffect(function(){return document.body.setAttribute(ba,(Z1()+1).toString()),function(){var t=Z1()-1;t<=0?document.body.removeAttribute(ba):document.body.setAttribute(ba,t.toString())}},[])},H7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;G7();var i=y.useMemo(function(){return B7(s)},[s]);return y.createElement(z7,{styles:q7(i,!e,s,n?"":"!important")})},qy=!1;if(typeof window<"u")try{var Od=Object.defineProperty({},"passive",{get:function(){return qy=!0,!0}});window.addEventListener("test",Od,Od),window.removeEventListener("test",Od,Od)}catch{qy=!1}var Ho=qy?{passive:!1}:!1,W7=function(t){return t.tagName==="TEXTAREA"},_P=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!W7(t)&&n[e]==="visible")},K7=function(t){return _P(t,"overflowY")},Q7=function(t){return _P(t,"overflowX")},eI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=EP(t,r);if(s){var i=IP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Y7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},X7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},EP=function(t,e){return t==="v"?K7(e):Q7(e)},IP=function(t,e){return t==="v"?Y7(e):X7(e)},J7=function(t,e){return t==="h"&&e==="rtl"?-1:1},Z7=function(t,e,n,r,s){var i=J7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,m=0;do{if(!a)break;var p=IP(t,a),E=p[0],v=p[1],x=p[2],_=v-x-i*E;(E||_)&&EP(t,a)&&(f+=_,m+=E);var I=a.parentNode;a=I&&I.nodeType===Node.DOCUMENT_FRAGMENT_NODE?I.host:I}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(c=!0),c},Md=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tI=function(t){return[t.deltaX,t.deltaY]},nI=function(t){return t&&"current"in t?t.current:t},eq=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nq=0,Wo=[];function rq(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(nq++)[0],i=y.useState(xP)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=T7([t.lockRef.current],(t.shards||[]).map(nI),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Md(v),I=n.current,S="deltaX"in v?v.deltaX:I[0]-_[0],R="deltaY"in v?v.deltaY:I[1]-_[1],D,M=v.target,b=Math.abs(S)>Math.abs(R)?"h":"v";if("touches"in v&&b==="h"&&M.type==="range")return!1;var T=eI(b,M);if(!T)return!0;if(T?D=b:(D=b==="v"?"h":"v",T=eI(b,M)),!T)return!1;if(!r.current&&"changedTouches"in v&&(S||R)&&(r.current=D),!D)return!0;var C=r.current||D;return Z7(C,x,v,C==="h"?S:R,!0)},[]),l=y.useCallback(function(v){var x=v;if(!(!Wo.length||Wo[Wo.length-1]!==i)){var _="deltaY"in x?tI(x):Md(x),I=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&eq(D.delta,_)})[0];if(I&&I.should){x.cancelable&&x.preventDefault();return}if(!I){var S=(o.current.shards||[]).map(nI).filter(Boolean).filter(function(D){return D.contains(x.target)}),R=S.length>0?a(x,S[0]):!o.current.noIsolation;R&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(v,x,_,I){var S={name:v,delta:x,target:_,should:I,shadowParent:sq(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(R){return R!==S})},1)},[]),h=y.useCallback(function(v){n.current=Md(v),r.current=void 0},[]),f=y.useCallback(function(v){c(v.type,tI(v),v.target,a(v,t.lockRef.current))},[]),m=y.useCallback(function(v){c(v.type,Md(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Wo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ho),document.addEventListener("touchmove",l,Ho),document.addEventListener("touchstart",h,Ho),function(){Wo=Wo.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Ho),document.removeEventListener("touchmove",l,Ho),document.removeEventListener("touchstart",h,Ho)}},[]);var p=t.removeScrollBar,E=t.inert;return y.createElement(y.Fragment,null,E?y.createElement(i,{styles:tq(s)}):null,p?y.createElement(H7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function sq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iq=D7(wP,rq);var Cm=y.forwardRef(function(t,e){return y.createElement(bm,Sr({},t,{ref:e,sideCar:iq}))});Cm.classNames=bm.classNames;var Gy=["Enter"," "],oq=["ArrowDown","PageUp","Home"],TP=["ArrowUp","PageDown","End"],aq=[...oq,...TP],lq={ltr:[...Gy,"ArrowRight"],rtl:[...Gy,"ArrowLeft"]},cq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lu="Menu",[cu,uq,dq]=zv(Lu),[Lo,SP]=lr(Lu,[dq,fl,Sm]),Am=fl(),bP=Sm(),[hq,Vo]=Lo(Lu),[fq,Vu]=Lo(Lu),CP=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Am(e),[l,c]=y.useState(null),h=y.useRef(!1),f=an(i),m=l0(s);return y.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),u.jsx(wC,{...a,children:u.jsx(hq,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(fq,{scope:e,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};CP.displayName=Lu;var mq="MenuAnchor",d0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Am(n);return u.jsx(Wf,{...s,...r,ref:e})});d0.displayName=mq;var h0="MenuPortal",[pq,AP]=Lo(h0,{forceMount:void 0}),NP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Vo(h0,e);return u.jsx(pq,{scope:e,forceMount:n,children:u.jsx(En,{present:n||i.open,children:u.jsx(Eu,{asChild:!0,container:s,children:r})})})};NP.displayName=h0;var On="MenuContent",[gq,f0]=Lo(On),RP=y.forwardRef((t,e)=>{const n=AP(On,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Vo(On,t.__scopeMenu),o=Vu(On,t.__scopeMenu);return u.jsx(cu.Provider,{scope:t.__scopeMenu,children:u.jsx(En,{present:r||i.open,children:u.jsx(cu.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(yq,{...s,ref:e}):u.jsx(vq,{...s,ref:e})})})})}),yq=y.forwardRef((t,e)=>{const n=Vo(On,t.__scopeMenu),r=y.useRef(null),s=Ke(e,r);return y.useEffect(()=>{const i=r.current;if(i)return u0(i)},[]),u.jsx(m0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),vq=y.forwardRef((t,e)=>{const n=Vo(On,t.__scopeMenu);return u.jsx(m0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wq=po("MenuContent.ScrollLock"),m0=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:E,...v}=t,x=Vo(On,n),_=Vu(On,n),I=Am(n),S=bP(n),R=uq(n),[D,M]=y.useState(null),b=y.useRef(null),T=Ke(e,b,x.onContentChange),C=y.useRef(0),A=y.useRef(""),k=y.useRef(0),O=y.useRef(null),P=y.useRef("right"),z=y.useRef(0),re=E?Cm:y.Fragment,H=E?{as:wq,allowPinchZoom:!0}:void 0,te=L=>{var me,cn;const W=A.current+L,ne=R().filter(Ze=>!Ze.disabled),Z=document.activeElement,de=(me=ne.find(Ze=>Ze.ref.current===Z))==null?void 0:me.textValue,ce=ne.map(Ze=>Ze.textValue),ke=Pq(ce,W,de),Oe=(cn=ne.find(Ze=>Ze.textValue===ke))==null?void 0:cn.ref.current;(function Ze(In){A.current=In,window.clearTimeout(C.current),In!==""&&(C.current=window.setTimeout(()=>Ze(""),1e3))})(W),Oe&&setTimeout(()=>Oe.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),c0();const F=y.useCallback(L=>{var ne,Z;return P.current===((ne=O.current)==null?void 0:ne.side)&&Dq(L,(Z=O.current)==null?void 0:Z.area)},[]);return u.jsx(gq,{scope:n,searchRef:A,onItemEnter:y.useCallback(L=>{F(L)&&L.preventDefault()},[F]),onItemLeave:y.useCallback(L=>{var W;F(L)||((W=b.current)==null||W.focus(),M(null))},[F]),onTriggerLeave:y.useCallback(L=>{F(L)&&L.preventDefault()},[F]),pointerGraceTimerRef:k,onPointerGraceIntentChange:y.useCallback(L=>{O.current=L},[]),children:u.jsx(re,{...H,children:u.jsx(Tm,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,L=>{var W;L.preventDefault(),(W=b.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(al,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:u.jsx(mP,{asChild:!0,...S,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:M,onEntryFocus:ee(l,L=>{_.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(sw,{role:"menu","aria-orientation":"vertical","data-state":HP(x.open),"data-radix-menu-content":"",dir:_.dir,...I,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,L=>{const ne=L.target.closest("[data-radix-menu-content]")===L.currentTarget,Z=L.ctrlKey||L.altKey||L.metaKey,de=L.key.length===1;ne&&(L.key==="Tab"&&L.preventDefault(),!Z&&de&&te(L.key));const ce=b.current;if(L.target!==ce||!aq.includes(L.key))return;L.preventDefault();const Oe=R().filter(me=>!me.disabled).map(me=>me.ref.current);TP.includes(L.key)&&Oe.reverse(),Nq(Oe)}),onBlur:ee(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:ee(t.onPointerMove,uu(L=>{const W=L.target,ne=z.current!==L.clientX;if(L.currentTarget.contains(W)&&ne){const Z=L.clientX>z.current?"right":"left";P.current=Z,z.current=L.clientX}}))})})})})})})});RP.displayName=On;var xq="MenuGroup",p0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ve.div,{role:"group",...r,ref:e})});p0.displayName=xq;var _q="MenuLabel",PP=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ve.div,{...r,ref:e})});PP.displayName=_q;var hf="MenuItem",rI="menu.itemSelect",Nm=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=Vu(hf,t.__scopeMenu),a=f0(hf,t.__scopeMenu),l=Ke(e,i),c=y.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(rI,{bubbles:!0,cancelable:!0});f.addEventListener(rI,p=>r==null?void 0:r(p),{once:!0}),qv(f,m),m.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(kP,{...s,ref:l,disabled:n,onClick:ee(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),c.current=!0},onPointerUp:ee(t.onPointerUp,f=>{var m;c.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ee(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||Gy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Nm.displayName=hf;var kP=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=f0(hf,n),a=bP(n),l=y.useRef(null),c=Ke(e,l),[h,f]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const E=l.current;E&&p((E.textContent??"").trim())},[i.children]),u.jsx(cu.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:u.jsx(pP,{asChild:!0,...a,focusable:!r,children:u.jsx(ve.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,uu(E=>{r?o.onItemLeave(E):(o.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,uu(E=>o.onItemLeave(E))),onFocus:ee(t.onFocus,()=>f(!0)),onBlur:ee(t.onBlur,()=>f(!1))})})})}),Eq="MenuCheckboxItem",DP=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(VP,{scope:t.__scopeMenu,checked:n,children:u.jsx(Nm,{role:"menuitemcheckbox","aria-checked":ff(n)?"mixed":n,...s,ref:e,"data-state":y0(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(ff(n)?!0:!n),{checkForDefaultPrevented:!1})})})});DP.displayName=Eq;var OP="MenuRadioGroup",[Iq,Tq]=Lo(OP,{value:void 0,onValueChange:()=>{}}),MP=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=an(r);return u.jsx(Iq,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(p0,{...s,ref:e})})});MP.displayName=OP;var jP="MenuRadioItem",LP=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=Tq(jP,t.__scopeMenu),i=n===s.value;return u.jsx(VP,{scope:t.__scopeMenu,checked:i,children:u.jsx(Nm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":y0(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});LP.displayName=jP;var g0="MenuItemIndicator",[VP,Sq]=Lo(g0,{checked:!1}),FP=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Sq(g0,n);return u.jsx(En,{present:r||ff(i.checked)||i.checked===!0,children:u.jsx(ve.span,{...s,ref:e,"data-state":y0(i.checked)})})});FP.displayName=g0;var bq="MenuSeparator",UP=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});UP.displayName=bq;var Cq="MenuArrow",$P=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Am(n);return u.jsx(iw,{...s,...r,ref:e})});$P.displayName=Cq;var Aq="MenuSub",[vQ,BP]=Lo(Aq),lc="MenuSubTrigger",zP=y.forwardRef((t,e)=>{const n=Vo(lc,t.__scopeMenu),r=Vu(lc,t.__scopeMenu),s=BP(lc,t.__scopeMenu),i=f0(lc,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},h=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>h,[h]),y.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(d0,{asChild:!0,...c,children:u.jsx(kP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":HP(n.open),...t,ref:Uf(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,uu(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ee(t.onPointerLeave,uu(f=>{var p,E;h();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(E=n.content)==null?void 0:E.dataset.side,x=v==="right",_=x?-5:5,I=m[x?"left":"right"],S=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:I,y:m.top},{x:S,y:m.top},{x:S,y:m.bottom},{x:I,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||lq[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});zP.displayName=lc;var qP="MenuSubContent",GP=y.forwardRef((t,e)=>{const n=AP(On,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Vo(On,t.__scopeMenu),o=Vu(On,t.__scopeMenu),a=BP(qP,t.__scopeMenu),l=y.useRef(null),c=Ke(e,l);return u.jsx(cu.Provider,{scope:t.__scopeMenu,children:u.jsx(En,{present:r||i.open,children:u.jsx(cu.Slot,{scope:t.__scopeMenu,children:u.jsx(m0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),m=cq[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),h.preventDefault())})})})})})});GP.displayName=qP;function HP(t){return t?"open":"closed"}function ff(t){return t==="indeterminate"}function y0(t){return ff(t)?"indeterminate":t?"checked":"unchecked"}function Nq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Rq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Pq(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Rq(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function kq(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-c)*(r-h)/(m-h)+c&&(s=!s)}return s}function Dq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return kq(n,e)}function uu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Oq=CP,Mq=d0,jq=NP,Lq=RP,Vq=p0,Fq=PP,Uq=Nm,$q=DP,Bq=MP,zq=LP,qq=FP,Gq=UP,Hq=$P,Wq=zP,Kq=GP,Rm="DropdownMenu",[Qq,wQ]=lr(Rm,[SP]),Ht=SP(),[Yq,WP]=Qq(Rm),KP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Ht(e),c=y.useRef(null),[h,f]=ll({prop:s,defaultProp:i??!1,onChange:o,caller:Rm});return u.jsx(Yq,{scope:e,triggerId:ai(),triggerRef:c,contentId:ai(),open:h,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:a,children:u.jsx(Oq,{...l,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};KP.displayName=Rm;var QP="DropdownMenuTrigger",YP=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=WP(QP,n),o=Ht(n);return u.jsx(Mq,{asChild:!0,...o,children:u.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Uf(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});YP.displayName=QP;var Xq="DropdownMenuPortal",XP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ht(e);return u.jsx(jq,{...r,...n})};XP.displayName=Xq;var JP="DropdownMenuContent",ZP=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=WP(JP,n),i=Ht(n),o=y.useRef(!1);return u.jsx(Lq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZP.displayName=JP;var Jq="DropdownMenuGroup",Zq=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Vq,{...s,...r,ref:e})});Zq.displayName=Jq;var eG="DropdownMenuLabel",e2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Fq,{...s,...r,ref:e})});e2.displayName=eG;var tG="DropdownMenuItem",t2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Uq,{...s,...r,ref:e})});t2.displayName=tG;var nG="DropdownMenuCheckboxItem",n2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx($q,{...s,...r,ref:e})});n2.displayName=nG;var rG="DropdownMenuRadioGroup",sG=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Bq,{...s,...r,ref:e})});sG.displayName=rG;var iG="DropdownMenuRadioItem",r2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(zq,{...s,...r,ref:e})});r2.displayName=iG;var oG="DropdownMenuItemIndicator",s2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(qq,{...s,...r,ref:e})});s2.displayName=oG;var aG="DropdownMenuSeparator",i2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Gq,{...s,...r,ref:e})});i2.displayName=aG;var lG="DropdownMenuArrow",cG=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Hq,{...s,...r,ref:e})});cG.displayName=lG;var uG="DropdownMenuSubTrigger",o2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Wq,{...s,...r,ref:e})});o2.displayName=uG;var dG="DropdownMenuSubContent",a2=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Ht(n);return u.jsx(Kq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a2.displayName=dG;var hG=KP,fG=YP,mG=XP,l2=ZP,c2=e2,u2=t2,d2=n2,h2=r2,f2=s2,m2=i2,p2=o2,g2=a2;const pG=hG,gG=fG,yG=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(p2,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(Rj,{className:"ml-auto h-4 w-4"})]}));yG.displayName=p2.displayName;const vG=y.forwardRef(({className:t,...e},n)=>u.jsx(g2,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));vG.displayName=g2.displayName;const y2=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(mG,{children:u.jsx(l2,{ref:r,sideOffset:e,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));y2.displayName=l2.displayName;const cc=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(u2,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));cc.displayName=u2.displayName;const wG=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(d2,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(f2,{children:u.jsx(yi,{className:"h-4 w-4"})})}),e]}));wG.displayName=d2.displayName;const xG=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(h2,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(f2,{children:u.jsx(Pj,{className:"h-2 w-2 fill-current"})})}),e]}));xG.displayName=h2.displayName;const v2=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(c2,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));v2.displayName=c2.displayName;const w2=y.forwardRef(({className:t,...e},n)=>u.jsx(m2,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));w2.displayName=m2.displayName;var Pm="Dialog",[x2,xQ]=lr(Pm),[_G,ur]=x2(Pm),_2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,h]=ll({prop:r,defaultProp:s??!1,onChange:i,caller:Pm});return u.jsx(_G,{scope:e,triggerRef:a,contentRef:l,contentId:ai(),titleId:ai(),descriptionId:ai(),open:c,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};_2.displayName=Pm;var E2="DialogTrigger",EG=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(E2,n),i=Ke(e,s.triggerRef);return u.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":x0(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});EG.displayName=E2;var v0="DialogPortal",[IG,I2]=x2(v0,{forceMount:void 0}),T2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ur(v0,e);return u.jsx(IG,{scope:e,forceMount:n,children:y.Children.map(r,o=>u.jsx(En,{present:n||i.open,children:u.jsx(Eu,{asChild:!0,container:s,children:o})}))})};T2.displayName=v0;var mf="DialogOverlay",S2=y.forwardRef((t,e)=>{const n=I2(mf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(mf,t.__scopeDialog);return i.modal?u.jsx(En,{present:r||i.open,children:u.jsx(SG,{...s,ref:e})}):null});S2.displayName=mf;var TG=po("DialogOverlay.RemoveScroll"),SG=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(mf,n);return u.jsx(Cm,{as:TG,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ve.div,{"data-state":x0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Eo="DialogContent",b2=y.forwardRef((t,e)=>{const n=I2(Eo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(Eo,t.__scopeDialog);return u.jsx(En,{present:r||i.open,children:i.modal?u.jsx(bG,{...s,ref:e}):u.jsx(CG,{...s,ref:e})})});b2.displayName=Eo;var bG=y.forwardRef((t,e)=>{const n=ur(Eo,t.__scopeDialog),r=y.useRef(null),s=Ke(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return u0(i)},[]),u.jsx(C2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),CG=y.forwardRef((t,e)=>{const n=ur(Eo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(C2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),C2=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ur(Eo,n),l=y.useRef(null),c=Ke(e,l);return c0(),u.jsxs(u.Fragment,{children:[u.jsx(Tm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(al,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":x0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(AG,{titleId:a.titleId}),u.jsx(RG,{contentRef:l,descriptionId:a.descriptionId})]})]})}),w0="DialogTitle",A2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(w0,n);return u.jsx(ve.h2,{id:s.titleId,...r,ref:e})});A2.displayName=w0;var N2="DialogDescription",R2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(N2,n);return u.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});R2.displayName=N2;var P2="DialogClose",k2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(P2,n);return u.jsx(ve.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});k2.displayName=P2;function x0(t){return t?"open":"closed"}var D2="DialogTitleWarning",[_Q,O2]=kM(D2,{contentName:Eo,titleName:w0,docsSlug:"dialog"}),AG=({titleId:t})=>{const e=O2(D2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},NG="DialogDescriptionWarning",RG=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${O2(NG).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},PG=_2,kG=T2,M2=S2,j2=b2,L2=A2,V2=R2,DG=k2;const Ri=PG,OG=kG,F2=y.forwardRef(({className:t,...e},n)=>u.jsx(M2,{ref:n,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));F2.displayName=M2.displayName;const ys=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(OG,{children:[u.jsx(F2,{}),u.jsxs(j2,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(DG,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(as,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ys.displayName=j2.displayName;const vs=({className:t,...e})=>u.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});vs.displayName="DialogHeader";const _0=({className:t,...e})=>u.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_0.displayName="DialogFooter";const ws=y.forwardRef(({className:t,...e},n)=>u.jsx(L2,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",t),...e}));ws.displayName=L2.displayName;const Pi=y.forwardRef(({className:t,...e},n)=>u.jsx(V2,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));Pi.displayName=V2.displayName;const Ne=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ne.displayName="Input";var MG="Label",U2=y.forwardRef((t,e)=>u.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));U2.displayName=MG;var $2=U2;const jG=zf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),sn=y.forwardRef(({className:t,...e},n)=>u.jsx($2,{ref:n,className:le(jG(),t),...e}));sn.displayName=$2.displayName;function km(){const{user:t}=Fn(),{toast:e}=ln(),[n,r]=y.useState(null),[s,i]=y.useState(!0);y.useEffect(()=>{if(!t){r(null),i(!1);return}o()},[t]);const o=async()=>{if(t)try{const c=vn(rn,"users",t.uid),h=await Tl(c);if(h.exists())r(h.data());else{const f={uid:t.uid,email:t.email||"",displayName:t.displayName||""};await lo(c,f),r(f)}}catch(c){console.error("Error loading profile:",c),e({title:"Error loading profile",description:c.message,variant:"destructive"})}finally{i(!1)}};return{profile:n,loading:s,updateVenmoId:async c=>{if(!(!t||!n))try{const h=vn(rn,"users",t.uid),f={...n,venmoId:c};await lo(h,f,{merge:!0}),r(f),e({title:"Venmo ID saved",description:"Your Venmo ID has been updated successfully."})}catch(h){console.error("Error updating Venmo ID:",h),e({title:"Error updating Venmo ID",description:h.message,variant:"destructive"})}},updateFriends:async c=>{if(!(!t||!n))try{const h=vn(rn,"users",t.uid),f={...n,friends:c};await lo(h,f,{merge:!0}),r(f),e({title:"Friends saved",description:"Your friends list has been updated successfully."})}catch(h){console.error("Error updating friends:",h),e({title:"Error updating friends",description:h.message,variant:"destructive"})}}}}function B2(){const{user:t}=Fn(),{profile:e,loading:n,updateVenmoId:r}=km(),[s,i]=y.useState(""),[o,a]=y.useState(!1),[l,c]=y.useState(!1);return y.useEffect(()=>{e!=null&&e.venmoId&&i(e.venmoId)},[e]),{user:t,profile:e,loading:n,venmoId:s,isEditing:o,saving:l,setVenmoId:i,handleSave:async()=>{c(!0),await r(s.trim()),c(!1),a(!1)},handleCancel:()=>{i((e==null?void 0:e.venmoId)||""),a(!1)},startEditing:()=>{a(!0)},setIsEditing:a}}const Ko={AI_POWERED:{title:"AI-Powered",description:"Gemini AI extracts items, tax, and tip automatically"},FAIR_SPLITTING:{title:"Fair Splitting",description:"Assign items to people with proportional tax & tip"},INSTANT_RESULTS:{title:"Instant Results",description:"See who owes what in seconds, no manual math needed"}},ye={PROFILE_SETTINGS:"Profile & Settings",SPLIT_YOUR_BILL:"Split Your Bill Instantly",CREATE_BILL_MANUALLY:"Create Bill Manually",BILL_ITEMS:"Bill Items",SPLIT_SUMMARY:"Split Summary",START_OVER:"Start Over",SAVE_CHANGES:"Save Changes",SAVING:"Saving...",CANCEL:"Cancel",ADD_ITEM:"Add Item",SPLIT_EVENLY:"Split Evenly",EDIT:"Edit",DELETE:"Delete",SAVE:"Save",SIGN_IN:"Sign In",SIGN_IN_REQUIRED:"Sign in required",SIGN_OUT:"Sign out",VENMO_USERNAME:"Venmo Username",VENMO_WITHOUT_AT:"(without @)",VENMO_ID:"Venmo ID",CHARGE_ON_VENMO:"Charge on Venmo",ADD_PEOPLE_TO_ASSIGN:"Add people above to assign items",UPLOAD_RECEIPT_INSTRUCTION:"Upload a photo of your receipt and let AI do the math. Fair splitting with tax and tip included.",MANUAL_BILL_INSTRUCTION:"Add items and people to split the bill fairly. Tax and tip distributed proportionally.",NO_ITEMS_YET:'No items yet. Click "Add Item" to get started.',NO_FRIENDS_YET:"No friends saved yet. Add friends to quickly add them to bills.",NO_SQUADS_YET:"No squads yet. Create a squad to quickly add groups to bills."},qi={ITEM_NAME:"Item Name",ENTER_ITEM_NAME:"Enter item name",PRICE:"Price",PRICE_PLACEHOLDER:"0.00",ASSIGN_TO:"Assign to:"},sg={AI_SCAN:"AI Scan",GROUPS:"Groups",BACK_TO_GROUPS:"Back to Groups"},sI={LOADING_GROUP:"Loading group...",GROUP_NOT_FOUND:"Group not found",LOADING_SQUADS:"Loading squads..."},Yr={NAME_REQUIRED:"Name required",NAME_REQUIRED_DESC:"Please enter a friend's name.",VENMO_ID_REQUIRED:"Venmo ID required",VENMO_ID_REQUIRED_DESC:"Please add your Venmo ID in Profile Settings first.",ASSIGN_ALL_ITEMS:"Please assign all items to see the split summary",SIGN_IN_FOR_VENMO:"Please sign in to charge people on Venmo."},pf={PROFILE_UPDATED:"Profile updated",PROFILE_UPDATED_DESC:"Your Venmo ID has been updated successfully.",FRIENDS_UPDATED:"Friends updated",FRIENDS_UPDATED_DESC:"Your friends list has been updated successfully."},E0={PROFILE_SETTINGS:"Update your Venmo ID to enable charging others for their split.",MANAGE_FRIENDS:"Add or remove friends to quickly add them to bills.",MANAGE_SQUADS:"Create and manage groups of people to quickly add them to bills."};function z2({open:t,onOpenChange:e}){const{user:n,profile:r,venmoId:s,saving:i,setVenmoId:o,handleSave:a}=B2(),l=async()=>{await a(),e(!1)};return u.jsx(Ri,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[425px]",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(Ub,{className:"w-5 h-5"}),ye.PROFILE_SETTINGS]}),u.jsx(Pi,{children:E0.PROFILE_SETTINGS})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"name",children:"Name"}),u.jsx(Ne,{id:"name",value:(r==null?void 0:r.displayName)||(n==null?void 0:n.displayName)||"",disabled:!0,className:"bg-muted"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"email",children:"Email"}),u.jsx(Ne,{id:"email",value:(r==null?void 0:r.email)||(n==null?void 0:n.email)||"",disabled:!0,className:"bg-muted"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(sn,{htmlFor:"venmoId",children:[ye.VENMO_USERNAME,u.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:ye.VENMO_WITHOUT_AT})]}),u.jsx(Ne,{id:"venmoId",placeholder:"Enter your Venmo username",value:s,onChange:c=>o(c.target.value),disabled:i}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be used when others charge you on Venmo"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(J,{variant:"outline",onClick:()=>e(!1),disabled:i,children:ye.CANCEL}),u.jsx(J,{onClick:l,disabled:i,children:i?ye.SAVING:ye.SAVE_CHANGES})]})]})})}function q2(){const{profile:t,updateFriends:e}=km(),{toast:n}=ln(),[r,s]=y.useState([]),[i,o]=y.useState(""),[a,l]=y.useState(""),[c,h]=y.useState(!1),[f,m]=y.useState(!1),[p,E]=y.useState(null),[v,x]=y.useState(""),[_,I]=y.useState("");return y.useEffect(()=>{t!=null&&t.friends&&s(t.friends)},[t]),{friends:r,newFriendName:i,newFriendVenmoId:a,hasChanges:c,saving:f,editingIndex:p,editingName:v,editingVenmoId:_,setNewFriendName:o,setNewFriendVenmoId:l,setEditingName:x,setEditingVenmoId:I,handleAddFriend:()=>{if(!i.trim()){n({title:Yr.NAME_REQUIRED,description:Yr.NAME_REQUIRED_DESC,variant:"destructive"});return}const C={name:i.trim(),venmoId:a.trim()||void 0};s([...r,C]),o(""),l(""),h(!0)},handleRemoveFriend:C=>{s(r.filter((A,k)=>k!==C)),h(!0)},handleEditFriend:C=>{E(C),x(r[C].name),I(r[C].venmoId||"")},handleSaveEdit:()=>{if(!v.trim()){n({title:Yr.NAME_REQUIRED,description:Yr.NAME_REQUIRED_DESC,variant:"destructive"});return}const C=[...r];C[p]={name:v.trim(),venmoId:_.trim()||void 0},s(C),E(null),x(""),I(""),h(!0)},handleCancelEdit:()=>{E(null),x(""),I("")},handleSaveAll:async()=>{m(!0),await e(r),m(!1),h(!1)}}}function LG({open:t,onOpenChange:e}){const{friends:n,newFriendName:r,newFriendVenmoId:s,saving:i,editingIndex:o,editingName:a,editingVenmoId:l,setNewFriendName:c,setNewFriendVenmoId:h,setEditingName:f,setEditingVenmoId:m,handleAddFriend:p,handleRemoveFriend:E,handleEditFriend:v,handleSaveEdit:x,handleCancelEdit:_,handleSaveAll:I}=q2(),S=async()=>{await I(),e(!1)};return u.jsx(Ri,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(wt,{className:"w-5 h-5"}),"Manage Friends"]}),u.jsx(Pi,{children:E0.MANAGE_FRIENDS})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx(Ne,{placeholder:"Friend's name",value:r,onChange:R=>c(R.target.value),onKeyPress:R=>R.key==="Enter"&&p()})}),u.jsx("div",{className:"flex-1",children:u.jsx(Ne,{placeholder:"Venmo ID (optional)",value:s,onChange:R=>h(R.target.value),onKeyPress:R=>R.key==="Enter"&&p()})}),u.jsx(J,{onClick:p,size:"icon",children:u.jsx(Co,{className:"w-4 h-4"})})]})}),u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:n.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No friends saved yet. Add friends to quickly add them to bills."}):n.map((R,D)=>u.jsx("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg border border-border",children:o===D?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1 flex gap-2",children:[u.jsx(Ne,{placeholder:"Name",value:a,onChange:M=>f(M.target.value),className:"flex-1"}),u.jsx(Ne,{placeholder:"Venmo ID",value:l,onChange:M=>m(M.target.value),className:"flex-1"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:x,children:u.jsx(yi,{className:"w-4 h-4 text-green-600"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:_,children:u.jsx(as,{className:"w-4 h-4 text-muted-foreground"})})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:R.name}),R.venmoId&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",R.venmoId]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v(D),children:u.jsx(Tu,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>E(D),children:u.jsx(cl,{className:"w-4 h-4 text-destructive"})})]})]})},D))})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(J,{variant:"outline",onClick:()=>e(!1),disabled:i,children:ye.CANCEL}),u.jsx(J,{onClick:S,disabled:i,children:i?ye.SAVING:ye.SAVE_CHANGES})]})]})})}var Dm="Tabs",[VG,EQ]=lr(Dm,[Sm]),G2=Sm(),[FG,I0]=VG(Dm),H2=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,h=l0(a),[f,m]=ll({prop:r,onChange:s,defaultProp:i??"",caller:Dm});return u.jsx(FG,{scope:n,baseId:ai(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:l,children:u.jsx(ve.div,{dir:h,"data-orientation":o,...c,ref:e})})});H2.displayName=Dm;var W2="TabsList",K2=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=I0(W2,n),o=G2(n);return u.jsx(mP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});K2.displayName=W2;var Q2="TabsTrigger",Y2=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=I0(Q2,n),a=G2(n),l=Z2(o.baseId,r),c=ek(o.baseId,r),h=r===o.value;return u.jsx(pP,{asChild:!0,...a,focusable:!s,active:h,children:u.jsx(ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ee(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});Y2.displayName=Q2;var X2="TabsContent",J2=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=I0(X2,n),l=Z2(a.baseId,r),c=ek(a.baseId,r),h=r===a.value,f=y.useRef(h);return y.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),u.jsx(En,{present:s||h,children:({present:m})=>u.jsx(ve.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});J2.displayName=X2;function Z2(t,e){return`${t}-trigger-${e}`}function ek(t,e){return`${t}-content-${e}`}var UG=H2,tk=K2,nk=Y2,rk=J2;const Fu=UG,Sl=y.forwardRef(({className:t,...e},n)=>u.jsx(tk,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Sl.displayName=tk.displayName;const Mn=y.forwardRef(({className:t,...e},n)=>u.jsx(nk,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Mn.displayName=nk.displayName;const on=y.forwardRef(({className:t,...e},n)=>u.jsx(rk,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));on.displayName=rk.displayName;function iI(t){return t.trim().length>=1&&t.trim().length<=50}function oI(t){return t.length>=2&&t.every(e=>e.name.trim().length>0)}function $G(t){return t.map(e=>({name:e.name,...e.venmoId&&{venmoId:e.venmoId}}))}function BG(t){return t.map(e=>({id:`person-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:e.name,...e.venmoId&&{venmoId:e.venmoId}}))}function zG(){return`squad-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function T0(t){return{name:t.name.trim(),...t.venmoId&&{venmoId:t.venmoId.trim()}}}function sk(t){return t.map(T0)}function qG(t){return{id:t.id,name:t.name,description:t.description,members:t.members,createdAt:t.createdAt.toDate(),updatedAt:t.updatedAt.toDate()}}function S0(t){return{id:t.id,name:t.name,description:t.description,members:t.members,createdAt:t.createdAt?Ce.fromDate(t.createdAt):Ce.now(),updatedAt:t.updatedAt?Ce.fromDate(t.updatedAt):Ce.now()}}async function Uu(t){try{const e=vn(rn,"users",t),n=await Tl(e);return n.exists()?(n.data().squads||[]).map(qG):[]}catch(e){throw console.error("Error fetching squads:",e),new Error("Failed to load squads")}}async function GG(t,e){var n;try{const r=zG(),s=new Date,i={id:r,name:e.name.trim(),description:(n=e.description)==null?void 0:n.trim(),members:sk(e.members),createdAt:s,updatedAt:s},a=[...await Uu(t),i],l=vn(rn,"users",t);return await lo(l,{squads:a.map(S0)},{merge:!0}),r}catch(r){throw console.error("Error saving squad:",r),new Error("Failed to save squad")}}async function HG(t,e,n){var r;try{const s=await Uu(t),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Squad not found");const o={...s[i],...n.name&&{name:n.name.trim()},...n.description!==void 0&&{description:(r=n.description)==null?void 0:r.trim()},...n.members&&{members:sk(n.members)},updatedAt:new Date};s[i]=o;const a=vn(rn,"users",t);await lo(a,{squads:s.map(S0)},{merge:!0})}catch(s){throw console.error("Error updating squad:",s),new Error("Failed to update squad")}}async function WG(t,e){try{const r=(await Uu(t)).filter(i=>i.id!==e),s=vn(rn,"users",t);await lo(s,{squads:r.map(S0)},{merge:!0})}catch(n){throw console.error("Error deleting squad:",n),new Error("Failed to delete squad")}}async function KG(t,e){try{return(await Uu(t)).find(r=>r.id===e)||null}catch(n){throw console.error("Error fetching squad:",n),new Error("Failed to load squad")}}function b0(){const{user:t}=Fn(),{toast:e}=ln(),[n,r]=y.useState([]),[s,i]=y.useState(!0),o=y.useCallback(async()=>{if(!t){r([]),i(!1);return}try{i(!0);const m=await Uu(t.uid);r(m)}catch(m){console.error("Error loading squads:",m),e({title:"Error loading squads",description:"Could not load your squads. Please try again.",variant:"destructive"}),r([])}finally{i(!1)}},[t,e]),a=y.useCallback(async m=>{if(!t)return e({title:"Authentication required",description:"Please sign in to create a squad.",variant:"destructive"}),null;if(!iI(m.name))return e({title:"Invalid squad name",description:"Squad name must be between 1 and 50 characters.",variant:"destructive"}),null;if(!oI(m.members))return e({title:"Invalid members",description:"A squad must have at least 2 members with valid names.",variant:"destructive"}),null;try{const p=await GG(t.uid,m);return await o(),e({title:"Squad created",description:`"${m.name}" has been saved successfully.`}),p}catch(p){return console.error("Error creating squad:",p),e({title:"Error creating squad",description:"Could not create squad. Please try again.",variant:"destructive"}),null}},[t,e,o]),l=y.useCallback(async(m,p)=>{if(!t)return e({title:"Authentication required",description:"Please sign in to update a squad.",variant:"destructive"}),!1;if(p.name!==void 0&&!iI(p.name))return e({title:"Invalid squad name",description:"Squad name must be between 1 and 50 characters.",variant:"destructive"}),!1;if(p.members!==void 0&&!oI(p.members))return e({title:"Invalid members",description:"A squad must have at least 2 members with valid names.",variant:"destructive"}),!1;try{return await HG(t.uid,m,p),await o(),e({title:"Squad updated",description:"Your squad has been updated successfully."}),!0}catch(E){return console.error("Error updating squad:",E),e({title:"Error updating squad",description:"Could not update squad. Please try again.",variant:"destructive"}),!1}},[t,e,o]),c=y.useCallback(async m=>{if(!t)return e({title:"Authentication required",description:"Please sign in to delete a squad.",variant:"destructive"}),!1;try{return await WG(t.uid,m),await o(),e({title:"Squad deleted",description:"Your squad has been deleted successfully."}),!0}catch(p){return console.error("Error deleting squad:",p),e({title:"Error deleting squad",description:"Could not delete squad. Please try again.",variant:"destructive"}),!1}},[t,e,o]),h=y.useCallback(m=>n.find(p=>p.id===m),[n]),f=y.useCallback(async m=>{if(!t)return null;try{return await KG(t.uid,m)}catch(p){return console.error("Error fetching squad:",p),e({title:"Error loading squad",description:"Could not load squad details.",variant:"destructive"}),null}},[t,e]);return y.useEffect(()=>{o()},[o]),{squads:n,loading:s,loadSquads:o,createSquad:a,updateSquad:l,deleteSquad:c,findSquadById:h,getSquad:f}}function ik(){const{squads:t,loading:e,createSquad:n,updateSquad:r,deleteSquad:s}=b0(),[i,o]=y.useState("list"),[a,l]=y.useState(null);return{squads:t,loading:e,activeTab:i,editingSquad:a,handleCreate:async(E,v,x)=>{await n({name:E,description:v,members:x})&&o("list")},handleEdit:E=>{l(E),o("edit")},handleUpdate:async(E,v,x)=>{if(!a)return;await r(a.id,{name:E,description:v,members:x})&&(l(null),o("list"))},handleDelete:async E=>{window.confirm("Are you sure you want to delete this squad?")&&await s(E)},handleTabChange:E=>{o(E),E==="list"&&l(null)},setActiveTab:o}}function ok({squads:t,onEdit:e,onDelete:n}){return t.length===0?u.jsx(YG,{}):u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.map(r=>u.jsx(QG,{squad:r,onEdit:()=>e(r),onDelete:()=>n(r.id)},r.id))})}function QG({squad:t,onEdit:e,onDelete:n}){return u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg border border-border hover:bg-secondary/50 transition-colors",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"font-medium",children:t.name}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.members.length," ",t.members.length===1?"member":"members",")"]})]}),t.description&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description}),u.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[t.members.slice(0,3).map((r,s)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 rounded-md",children:r.name},s)),t.members.length>3&&u.jsxs("span",{className:"text-xs px-2 py-1 text-muted-foreground",children:["+",t.members.length-3," more"]})]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:e,"aria-label":`Edit ${t.name}`,children:u.jsx(Tu,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:n,"aria-label":`Delete ${t.name}`,children:u.jsx(cl,{className:"w-4 h-4 text-destructive"})})]})]})}function YG(){return u.jsxs("div",{className:"text-center py-8",children:[u.jsx(wt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No squads saved yet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a squad to quickly add groups of friends to bills"})]})}const C0=y.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));C0.displayName="Textarea";const XG=zf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nc({className:t,variant:e,...n}){return u.jsx("div",{className:le(XG({variant:e}),t),...n})}function du({initialName:t="",initialDescription:e="",initialMembers:n=[],onSubmit:r,submitLabel:s="Create Squad"}){const[i,o]=y.useState(t),[a,l]=y.useState(e),[c,h]=y.useState(n),[f,m]=y.useState(""),[p,E]=y.useState(""),[v,x]=y.useState(!1),_=()=>{if(!f.trim())return;const D=T0({name:f,venmoId:p.trim()||void 0});c.some(b=>{var T,C;return b.name.toLowerCase()===D.name.toLowerCase()&&((T=b.venmoId)==null?void 0:T.toLowerCase())===((C=D.venmoId)==null?void 0:C.toLowerCase())})||h([...c,D]),m(""),E(""),x(!1)},I=D=>{h(c.filter((M,b)=>b!==D))},S=()=>{r(i,a,c)},R=i.trim().length>0&&c.length>=2;return u.jsxs("div",{className:"space-y-4",children:[u.jsx(JG,{value:i,onChange:o}),u.jsx(ZG,{value:a,onChange:l}),u.jsx(eH,{members:c,setMembers:h,newMemberName:f,newMemberVenmoId:p,showVenmoField:v,onNewMemberNameChange:m,onNewMemberVenmoIdChange:E,onShowVenmoFieldChange:x,onAddMember:_,onRemoveMember:I}),u.jsx(J,{onClick:S,disabled:!R,className:"w-full",children:s}),!R&&c.length<2&&u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Add at least 2 members to create a squad"})]})}function JG({value:t,onChange:e}){return u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"squad-name",children:"Squad Name *"}),u.jsx(Ne,{id:"squad-name",placeholder:"e.g., College Friends, Roommates, Game Night Crew",value:t,onChange:n=>e(n.target.value),maxLength:50,autoFocus:!0})]})}function ZG({value:t,onChange:e}){return u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"squad-description",children:"Description (Optional)"}),u.jsx(C0,{id:"squad-description",placeholder:"Add details about this squad...",value:t,onChange:n=>e(n.target.value),rows:2})]})}function eH({members:t,setMembers:e,newMemberName:n,newMemberVenmoId:r,showVenmoField:s,onNewMemberNameChange:i,onNewMemberVenmoIdChange:o,onShowVenmoFieldChange:a,onAddMember:l,onRemoveMember:c}){const{user:h}=Fn(),[f,m]=y.useState([]),[p,E]=y.useState(!1),[v,x]=y.useState([]),_=y.useRef(null),I=y.useRef(null);y.useEffect(()=>{h&&S()},[h]),y.useEffect(()=>{if(n.trim().length>0){const D=f.filter(M=>M.name.toLowerCase().startsWith(n.toLowerCase()));x(D),E(D.length>0)}else E(!1)},[n,f]),y.useEffect(()=>{const D=M=>{I.current&&!I.current.contains(M.target)&&_.current&&!_.current.contains(M.target)&&E(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const S=async()=>{if(h)try{const D=vn(rn,"users",h.uid),M=await Tl(D);if(M.exists()){const b=M.data();m(b.friends||[])}}catch(D){console.error("Error loading friends:",D)}},R=D=>{const M=T0({name:D.name,venmoId:D.venmoId});t.some(T=>{var C,A;return T.name.toLowerCase()===M.name.toLowerCase()&&((C=T.venmoId)==null?void 0:C.toLowerCase())===((A=M.venmoId)==null?void 0:A.toLowerCase())})||e([...t,M]),i(""),o(""),E(!1)};return u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{children:"Members *"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Ne,{ref:_,placeholder:"Member name",value:n,onChange:D=>i(D.target.value),onKeyPress:D=>D.key==="Enter"&&!s&&l(),className:"flex-1"}),p&&v.length>0&&u.jsx("div",{ref:I,className:"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:v.map((D,M)=>u.jsxs("div",{onClick:()=>R(D),className:"px-3 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors",children:[u.jsx("div",{className:"font-medium",children:D.name}),D.venmoId&&u.jsxs("div",{className:"text-xs text-muted-foreground",children:["@",D.venmoId]})]},M))})]}),u.jsx(J,{onClick:l,size:"icon",type:"button",children:u.jsx(Co,{className:"w-4 h-4"})})]}),u.jsx(Nc,{variant:s?"default":"outline",className:"cursor-pointer px-3 py-1 text-xs hover:opacity-80 transition-opacity",onClick:()=>a(!s),children:"Add Venmo ID"}),s&&u.jsx(Ne,{placeholder:"Venmo username (without @)",value:r,onChange:D=>o(D.target.value),onKeyPress:D=>D.key==="Enter"&&l(),className:"text-sm"}),t.length>0&&u.jsx("div",{className:"space-y-1 max-h-[200px] overflow-y-auto border border-border rounded-md p-2",children:t.map((D,M)=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary/30 rounded",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-sm font-medium",children:D.name}),D.venmoId&&u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["@",D.venmoId]})]}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>c(M),type:"button","aria-label":`Remove ${D.name}`,children:u.jsx(as,{className:"w-4 h-4 text-muted-foreground"})})]},M))})]})}function tH({open:t,onOpenChange:e}){const{squads:n,loading:r,activeTab:s,editingSquad:i,handleCreate:o,handleEdit:a,handleUpdate:l,handleDelete:c,handleTabChange:h,setActiveTab:f}=ik();return u.jsx(Ri,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(wt,{className:"w-5 h-5"}),"Manage Squads"]}),u.jsx(Pi,{children:E0.MANAGE_SQUADS})]}),u.jsxs(Fu,{value:s,onValueChange:h,className:"w-full",children:[u.jsxs(Sl,{className:"grid w-full grid-cols-2",children:[u.jsx(Mn,{value:"list",children:"Your Squads"}),u.jsx(Mn,{value:s==="edit"?"edit":"create",children:s==="edit"?"Edit Squad":"Create New"})]}),u.jsx(on,{value:"list",className:"space-y-4 py-4",children:r?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading squads..."})}):u.jsxs(u.Fragment,{children:[u.jsx(ok,{squads:n,onEdit:a,onDelete:c}),u.jsxs(J,{onClick:()=>f("create"),className:"w-full",variant:"outline",children:[u.jsx(za,{className:"w-4 h-4 mr-2"}),"Create New Squad"]})]})}),u.jsx(on,{value:"create",className:"py-4",children:u.jsx(du,{onSubmit:o,submitLabel:"Create Squad"},"create-squad")}),u.jsx(on,{value:"edit",className:"py-4",children:i&&u.jsx(du,{initialName:i.name,initialDescription:i.description,initialMembers:i.members,onSubmit:l,submitLabel:"Update Squad"},`edit-${i.id}`)})]})]})})}const nH=()=>{const{user:t,loading:e,signOut:n}=Fn(),r=pl(),[s,i]=y.useState(!1),[o,a]=y.useState(!1),[l,c]=y.useState(!1),[h,f]=y.useState(!1);if(e)return null;if(!t)return u.jsxs(J,{variant:"outline",size:"sm",onClick:()=>r("/auth"),className:"gap-2",children:[u.jsx(Lb,{className:"w-4 h-4"}),"Sign In"]});const m=x=>x?x.split(" ").map(_=>_[0]).join("").toUpperCase().slice(0,2):"U",p=()=>{f(!1),i(!0)},E=()=>{f(!1),a(!0)},v=()=>{f(!1),c(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(pG,{open:h,onOpenChange:f,children:[u.jsx(gG,{asChild:!0,children:u.jsx(J,{variant:"ghost",className:"relative h-10 w-10 rounded-full ring-2 ring-primary/20 hover:ring-primary/40 transition-all",children:u.jsxs(iP,{className:"h-9 w-9",children:[u.jsx(oP,{src:t.photoURL||void 0,alt:t.displayName||"User"}),u.jsx(aP,{className:"bg-gradient-to-br from-primary to-primary-glow text-primary-foreground",children:m(t.displayName)})]})})}),u.jsxs(y2,{className:"w-56",align:"end",forceMount:!0,children:[u.jsx(v2,{className:"font-normal",children:u.jsxs("div",{className:"flex flex-col space-y-1",children:[u.jsx("p",{className:"text-sm font-medium leading-none",children:t.displayName||"User"}),u.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),u.jsx(w2,{}),u.jsxs(cc,{onClick:p,className:"cursor-pointer",children:[u.jsx(sy,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Profile Settings"})]}),u.jsxs(cc,{onClick:E,className:"cursor-pointer",children:[u.jsx(wt,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Manage Friends"})]}),u.jsxs(cc,{onClick:v,className:"cursor-pointer",children:[u.jsx($b,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Manage Squads"})]}),u.jsxs(cc,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[u.jsx(Oj,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Sign out"})]})]})]}),u.jsx(z2,{open:s,onOpenChange:i}),u.jsx(LG,{open:o,onOpenChange:a}),u.jsx(tH,{open:l,onOpenChange:c})]})};function rH(){const t=No(),e=[{path:"/",label:"AI Scan",icon:Lj},{path:"/groups",label:"Groups",icon:wt}];return u.jsx("nav",{className:"flex gap-1",children:e.map(n=>{const r=n.icon,s=t.pathname===n.path;return u.jsxs(HC,{to:n.path,className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${s?"bg-primary text-primary-foreground font-semibold":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[u.jsx(r,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:n.label})]},n.path)})})}function sH(){return u.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:u.jsx("div",{className:"container mx-auto px-4 py-3 md:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-xl bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center",children:u.jsx(vi,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-foreground"})}),u.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"SplitBill"})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx(rH,{}),u.jsx(nH,{})]})]})})})}var ak={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aI=G.createContext&&G.createContext(ak),iH=["attr","size","title"];function oH(t,e){if(t==null)return{};var n=aH(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}function lI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(n),!0).forEach(function(r){lH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lH(t,e,n){return e=cH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cH(t){var e=uH(t,"string");return typeof e=="symbol"?e:e+""}function uH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lk(t){return t&&t.map((e,n)=>G.createElement(e.tag,yf({key:n},e.attr),lk(e.child)))}function A0(t){return e=>G.createElement(dH,gf({attr:yf({},t.attr)},e),lk(t.child))}function dH(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=oH(t,iH),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),G.createElement("svg",gf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:yf(yf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&G.createElement("title",null,i),t.children)};return aI!==void 0?G.createElement(aI.Consumer,null,n=>e(n)):e(ak)}function hH(t){return A0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(t)}function fH(t){return A0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}function mH(t){return A0({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"14.31",y1:"8",x2:"20.05",y2:"17.94"},child:[]},{tag:"line",attr:{x1:"9.69",y1:"8",x2:"21.17",y2:"8"},child:[]},{tag:"line",attr:{x1:"7.38",y1:"12",x2:"13.12",y2:"2.06"},child:[]},{tag:"line",attr:{x1:"9.69",y1:"16",x2:"3.95",y2:"6.06"},child:[]},{tag:"line",attr:{x1:"14.31",y1:"16",x2:"2.83",y2:"16"},child:[]},{tag:"line",attr:{x1:"16.62",y1:"12",x2:"10.88",y2:"21.94"},child:[]}]})(t)}function pH(){const t=No(),e=[{name:"AI Scan",path:"/",icon:mH},{name:"Groups",path:"/groups",icon:fH},{name:"Profile",path:"/settings",icon:hH}];return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-10 bg-white border-t border-gray-200 shadow-lg md:hidden",children:u.jsx("div",{className:"flex justify-around items-center h-16",children:e.map(n=>{const r=t.pathname===n.path;return u.jsxs(HC,{to:n.path,className:`
                flex flex-col items-center justify-center p-2 text-xs font-medium transition-colors
                ${r?"text-indigo-600":"text-gray-500 hover:text-indigo-400"}
              `,children:[u.jsx(n.icon,{className:"text-2xl"}),u.jsx("span",{className:"mt-1",children:n.name})]},n.name)})})})}const ig=768;function $u(){const[t,e]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${ig-1}px)`),r=()=>{e(window.innerWidth<ig)};return n.addEventListener("change",r),e(window.innerWidth<ig),()=>n.removeEventListener("change",r)},[]),!!t}function gH(){const t=$u(),e=t?"pb-20":"pb-12";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30 flex flex-col",children:[!t&&u.jsx(sH,{}),u.jsx("main",{className:`container mx-auto px-4 py-12 flex-grow ${e}`,children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx(e3,{})})}),t&&u.jsx(pH,{})]})}function yH({hasBillData:t,onLoadMock:e,onStartOver:n}){return u.jsxs("div",{className:"text-center mb-8 md:mb-12 space-y-3 md:space-y-4",children:[u.jsx("h2",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:ye.SPLIT_YOUR_BILL}),u.jsx("p",{className:"text-base md:text-lg text-muted-foreground max-w-2xl mx-auto",children:ye.UPLOAD_RECEIPT_INSTRUCTION}),u.jsxs("div",{className:"flex gap-2 justify-center mt-2",children:[u.jsx(J,{variant:"outline",size:"sm",onClick:e,children:"Load Test Data"}),t&&u.jsxs(J,{variant:"outline",size:"sm",onClick:n,children:[u.jsx(Mj,{className:"w-4 h-4 mr-2"}),ye.START_OVER]})]})]})}const Be=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Be.displayName="Card";const vH=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));vH.displayName="CardHeader";const wH=y.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));wH.displayName="CardTitle";const xH=y.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));xH.displayName="CardDescription";const _H=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));_H.displayName="CardContent";const EH=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));EH.displayName="CardFooter";/*! Capacitor: https://capacitorjs.com/ - MIT License */var nl;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(nl||(nl={}));class Ca extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const IH=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},TH=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:IH(t),i=()=>s()!=="web",o=f=>{const m=c.get(f);return!!(m!=null&&m.platforms.has(s())||a(f))},a=f=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(p=>p.name===f)},l=f=>t.console.error(f),c=new Map,h=(f,m={})=>{const p=c.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const E=s(),v=a(f);let x;const _=async()=>(!x&&E in m?x=typeof m[E]=="function"?x=await m[E]():x=m[E]:e!==null&&!x&&"web"in m&&(x=typeof m.web=="function"?x=await m.web():x=m.web),x),I=(T,C)=>{var A,k;if(v){const O=v==null?void 0:v.methods.find(P=>C===P.name);if(O)return O.rtype==="promise"?P=>n.nativePromise(f,C.toString(),P):(P,z)=>n.nativeCallback(f,C.toString(),P,z);if(T)return(A=T[C])===null||A===void 0?void 0:A.bind(T)}else{if(T)return(k=T[C])===null||k===void 0?void 0:k.bind(T);throw new Ca(`"${f}" plugin is not implemented on ${E}`,nl.Unimplemented)}},S=T=>{let C;const A=(...k)=>{const O=_().then(P=>{const z=I(P,T);if(z){const re=z(...k);return C=re==null?void 0:re.remove,re}else throw new Ca(`"${f}.${T}()" is not implemented on ${E}`,nl.Unimplemented)});return T==="addListener"&&(O.remove=async()=>C()),O};return A.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:T,writable:!1,configurable:!1}),A},R=S("addListener"),D=S("removeListener"),M=(T,C)=>{const A=R({eventName:T},C),k=async()=>{const P=await A;D({eventName:T,callbackId:P},C)},O=new Promise(P=>A.then(()=>P({remove:k})));return O.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},O},b=new Proxy({},{get(T,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?M:R;case"removeListener":return D;default:return S(C)}}});return r[f]=b,c.set(f,{name:f,proxy:b,platforms:new Set([...Object.keys(m),...v?[E]:[]])}),b};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=h,n.Exception=Ca,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},SH=t=>t.Capacitor=TH(t),Io=SH(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Om=Io.registerPlugin;class N0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Io.Exception(e,nl.Unimplemented)}unavailable(e="not available"){return new Io.Exception(e,nl.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const cI=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),uI=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class bH extends N0{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=uI(s).trim(),i=uI(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=cI(e.key),r=cI(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Om("CapacitorCookies",{web:()=>new bH});const CH=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),AH=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},NH=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,RH=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=AH(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(t.data))i.append(a,t.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class PH extends N0{async request(e){const n=RH(e,e.webFetchExtra),r=NH(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await CH(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const h={};return i.headers.forEach((f,m)=>{h[m]=f}),{data:l,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Om("CapacitorHttp",{web:()=>new PH});function ck(){const t=Io.getPlatform(),e=Io.isNativePlatform();return{platform:t,isNative:e,isWeb:t==="web",isIOS:t==="ios",isAndroid:t==="android"}}var Xi;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(Xi||(Xi={}));var Rc;(function(t){t.Rear="REAR",t.Front="FRONT"})(Rc||(Rc={}));var Hy;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(Hy||(Hy={}));class kH extends N0{async getPhoto(e){return new Promise(async(n,r)=>{if(e.webUseInput||e.source===Xi.Photos)this.fileInputExperience(e,n,r);else if(e.source===Xi.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(e,n,r):this.cameraExperience(e,n,r)})}else this.cameraExperience(e,n,r)})}async pickImages(e){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(e,n,r){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===Rc.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async i=>{const o=i.detail;o===null?r(new Ca("User cancelled photos app")):o instanceof Error?r(o):n(await this._getCameraPhoto(o,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(e,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,n,r)}fileInputExperience(e,n,r){let s=document.querySelector("#_capacitor-camera-input");const i=()=>{var o;(o=s.parentNode)===null||o===void 0||o.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",o=>{const a=s.files[0];let l="jpeg";if(a.type==="image/png"?l="png":a.type==="image/gif"&&(l="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const c=new FileReader;c.addEventListener("load",()=>{if(e.resultType==="dataUrl")n({dataUrl:c.result,format:l});else if(e.resultType==="base64"){const h=c.result.split(",")[1];n({base64String:h,format:l})}i()}),c.readAsDataURL(a)}else n({webPath:URL.createObjectURL(a),format:l}),i()}),s.addEventListener("cancel",o=>{r(new Ca("User cancelled photos app")),i()})),s.accept="image/*",s.capture=!0,e.source===Xi.Photos||e.source===Xi.Prompt?s.removeAttribute("capture"):e.direction===Rc.Front?s.capture="user":e.direction===Rc.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",i=>{const o=[];for(let a=0;a<r.files.length;a++){const l=r.files[a];let c="jpeg";l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),o.push({webPath:URL.createObjectURL(l),format:c})}e({photos:o}),s()}),r.addEventListener("cancel",i=>{n(new Ca("User cancelled photos app")),s()})),r.accept="image/*",r.click()}_getCameraPhoto(e,n){return new Promise((r,s)=>{const i=new FileReader,o=e.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(e),format:o,saved:!1}):(i.readAsDataURL(e),i.onloadend=()=>{const a=i.result;n.resultType==="dataUrl"?r({dataUrl:a,format:o,saved:!1}):r({base64String:a.split(",")[1],format:o,saved:!1})},i.onerror=a=>{s(a)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const DH=Om("Camera",{web:()=>new kH});function OH(){const{isNative:t}=ck(),[e,n]=y.useState(null);return{imagePreview:e,pickImage:async()=>{try{if(t){const i=await DH.getPhoto({quality:90,allowEditing:!1,resultType:Hy.Base64,source:Xi.Prompt});if(i.base64String){const o=`data:image/${i.format};base64,${i.base64String}`;return n(o),o}}}catch(i){return console.error("Error picking image:",i),null}return null},clearImage:()=>{n(null)}}}function uk({selectedFile:t,imagePreview:e,isDragging:n,isAnalyzing:r,onFileInput:s,onDragOver:i,onDragLeave:o,onDrop:a,onRemove:l,onAnalyze:c,onImageSelected:h,fileInputRef:f}){const{isNative:m}=ck(),{pickImage:p}=OH(),E=async()=>{var v;if(m&&h){const x=await p();x&&h(x)}else(v=f.current)==null||v.click()};return u.jsx(Be,{className:`p-4 md:p-8 shadow-medium border-2 border-dashed transition-all duration-300 ${n?"border-primary bg-primary/10 scale-[1.02]":e?"border-primary/40":"border-primary/20 hover:border-primary/40"}`,onDragOver:i,onDragLeave:o,onDrop:a,children:e?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Dj,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"font-medium",children:t==null?void 0:t.name})]}),u.jsx(J,{variant:"ghost",size:"sm",onClick:l,children:u.jsx(as,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"relative rounded-lg overflow-hidden border",children:u.jsx("img",{src:e,alt:"Receipt preview",className:"w-full h-auto max-h-96 object-contain"})}),u.jsx(J,{size:"lg",className:"w-full bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50",onClick:c,disabled:r,children:r?u.jsxs(u.Fragment,{children:[u.jsx(jb,{className:"mr-2 h-5 w-5 animate-spin"}),"Analyzing Receipt..."]}):u.jsxs(u.Fragment,{children:[u.jsx(vi,{className:"mr-2 h-5 w-5"}),"Analyze Receipt"]})}),r&&u.jsx("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"This may take a few moments. AI is extracting items from your receipt..."})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 md:space-y-6 py-8 md:py-12",children:[u.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx(jh,{className:"w-8 h-8 md:w-10 md:h-10 text-primary"})}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Upload Your Receipt"}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Drag and drop or click to upload your bill"})]}),!m&&u.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/heic,image/heif",onChange:s,className:"hidden"}),u.jsxs(J,{size:"lg",className:"bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 shadow-lg hover:shadow-xl transition-all duration-300",onClick:E,children:[u.jsx(jh,{className:"mr-2 h-5 w-5"}),m?"Take Photo":"Choose File"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports JPG, PNG, HEIC • Max 20MB"})]})})}function MH({open:t,onOpenChange:e,onAddPerson:n}){const{user:r}=Fn(),[s,i]=y.useState([]),[o,a]=y.useState(!1);y.useEffect(()=>{t&&r&&l()},[t,r]);const l=async()=>{if(r){a(!0);try{const h=vn(rn,"users",r.uid),f=await Tl(h);if(f.exists()){const m=f.data();i(m.friends||[])}}catch(h){console.error("Error loading friends:",h)}finally{a(!1)}}},c=h=>{n(h),e(!1)};return u.jsx(Ri,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[425px]",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(Fb,{className:"w-5 h-5"}),"Add from Friends"]}),u.jsx(Pi,{children:"Select a friend from your saved list to add them to the bill"})]}),u.jsx("div",{className:"py-4",children:o?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Loading friends..."}):s.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No friends saved yet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Save people to your friends list when adding them to quickly add them next time"})]}):u.jsx("div",{className:"space-y-2",children:s.map((h,f)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-lg border border-border hover:bg-secondary/50 transition-colors",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:h.name}),h.venmoId&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",h.venmoId]})]}),u.jsxs(J,{size:"sm",onClick:()=>c(h),children:[u.jsx(Co,{className:"w-4 h-4 mr-1"}),"Add"]})]},f))})})]})})}function jH({open:t,onOpenChange:e,onAddSquad:n}){const{squads:r,loading:s,loadSquads:i}=b0(),[o,a]=y.useState(""),[l,c]=y.useState(null);y.useEffect(()=>{t&&i()},[t,i]);const h=r.filter(E=>E.name.toLowerCase().includes(o.toLowerCase())),f=E=>{c(E)},m=()=>{l&&(n(l.members),c(null),a(""),e(!1))},p=()=>{c(null),a(""),e(!1)};return u.jsx(Ri,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[500px]",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(wt,{className:"w-5 h-5"}),"Add from Squad"]}),u.jsx(Pi,{children:"Select a squad to add all members to the bill at once"})]}),u.jsx("div",{className:"space-y-4 py-4",children:s?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading squads..."})}):r.length===0?u.jsx(UH,{}):l?u.jsx(FH,{squad:l,onBack:()=>c(null)}):u.jsxs(u.Fragment,{children:[u.jsx(LH,{value:o,onChange:a}),u.jsx(VH,{squads:h,onSelect:f,searchQuery:o})]})}),l&&u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(J,{variant:"outline",onClick:p,children:"Cancel"}),u.jsxs(J,{onClick:m,children:[u.jsx(Co,{className:"w-4 h-4 mr-2"}),"Add Squad to Bill"]})]})]})})}function LH({value:t,onChange:e}){return u.jsxs("div",{className:"relative",children:[u.jsx(Vj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(Ne,{placeholder:"Search squads...",value:t,onChange:n=>e(n.target.value),className:"pl-9"})]})}function VH({squads:t,onSelect:e,searchQuery:n}){return t.length===0&&n?u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:['No squads found matching "',n,'"']})}):u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.map(r=>u.jsx("button",{onClick:()=>e(r),className:"w-full text-left p-3 bg-secondary/30 rounded-lg border border-border hover:bg-secondary/50 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:r.name}),r.description&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[r.members.length," ",r.members.length===1?"member":"members"]})]}),u.jsx(Co,{className:"w-4 h-4 text-muted-foreground"})]})},r.id))})}function FH({squad:t,onBack:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:e,children:"← Back to squads"}),u.jsxs("div",{className:"border border-border rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.name}),t.description&&u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t.description}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm font-medium",children:["Members (",t.members.length,"):"]}),u.jsx("div",{className:"space-y-1 max-h-[200px] overflow-y-auto",children:t.members.map((n,r)=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary/30 rounded",children:[u.jsx("span",{className:"text-sm",children:n.name}),n.venmoId&&u.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",n.venmoId]})]},r))})]})]})]})}function UH(){return u.jsxs("div",{className:"text-center py-8",children:[u.jsx(wt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No squads saved yet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a squad in Manage Squads to quickly add groups of friends"})]})}function $H({people:t,disabled:e=!1}){const[n,r]=y.useState(!1),{createSquad:s}=b0(),i=async(c,h,f)=>{await s({name:c,description:h,members:f})&&r(!1)},o=()=>{t.length>=2&&r(!0)},a=$G(t.filter(c=>!c.id.startsWith("user-"))),l=e||t.length<2;return u.jsxs(u.Fragment,{children:[u.jsxs(J,{onClick:o,variant:"outline",size:"sm",disabled:l,title:l?"Add at least 2 people to save as squad":"Save current people as a squad",children:[u.jsx(jj,{className:"w-4 h-4 mr-2"}),"Save as Squad"]}),u.jsx(Ri,{open:n,onOpenChange:r,children:u.jsxs(ys,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(vs,{children:[u.jsx(ws,{children:"Save as Squad"}),u.jsx(Pi,{children:"Save the current people on this bill as a squad for quick access later"})]}),u.jsx("div",{className:"py-4",children:u.jsx(du,{initialMembers:a,onSubmit:i,submitLabel:"Save Squad"},"save-as-squad")})]})})]})}function vf({people:t,newPersonName:e,newPersonVenmoId:n,useNameAsVenmoId:r,saveToFriendsList:s,onNameChange:i,onVenmoIdChange:o,onUseNameAsVenmoIdChange:a,onSaveToFriendsListChange:l,onAdd:c,onAddFromFriend:h,onRemove:f,setPeople:m}){const{user:p}=Fn(),[E,v]=y.useState(!1),[x,_]=y.useState(!1),[I,S]=y.useState(!1),[R,D]=y.useState([]),[M,b]=y.useState(!1),[T,C]=y.useState([]),A=y.useRef(null),k=y.useRef(null);y.useEffect(()=>{p&&O()},[p]),y.useEffect(()=>{if(e.trim().length>0){const H=R.filter(te=>te.name.toLowerCase().startsWith(e.toLowerCase()));C(H),b(H.length>0)}else b(!1)},[e,R]),y.useEffect(()=>{const H=te=>{k.current&&!k.current.contains(te.target)&&A.current&&!A.current.contains(te.target)&&b(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const O=async()=>{if(p)try{const H=vn(rn,"users",p.uid),te=await Tl(H);if(te.exists()){const F=te.data();D(F.friends||[])}}catch(H){console.error("Error loading friends:",H)}},P=()=>{c(),v(!1),b(!1)},z=H=>{h(H),i(""),o(""),b(!1)},re=H=>{const te=BG(H);m([...t,...te])};return u.jsxs(Be,{className:"p-3 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(wt,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),u.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"People"})]}),u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Ne,{ref:A,placeholder:"Enter person's name",value:e,onChange:H=>i(H.target.value),onKeyPress:H=>H.key==="Enter"&&!E&&P(),className:"w-full"}),M&&T.length>0&&u.jsx("div",{ref:k,className:"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:T.map((H,te)=>u.jsxs("div",{onClick:()=>z(H),className:"px-3 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors",children:[u.jsx("div",{className:"font-medium",children:H.name}),H.venmoId&&u.jsxs("div",{className:"text-xs text-muted-foreground",children:["@",H.venmoId]})]},te))})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(J,{onClick:P,className:"flex-1 sm:flex-none",children:[u.jsx(Co,{className:"w-4 h-4 mr-2"}),"Add"]}),u.jsxs(J,{onClick:()=>_(!0),variant:"outline",className:"flex-1 sm:flex-none",children:[u.jsx(Fb,{className:"w-4 h-4 mr-2"}),"Friends"]}),u.jsxs(J,{onClick:()=>S(!0),variant:"outline",className:"flex-1 sm:flex-none",children:[u.jsx(wt,{className:"w-4 h-4 mr-2"}),"Squad"]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Nc,{variant:r?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm hover:opacity-80 transition-opacity",onClick:()=>{a(!r),r||v(!1)},children:"Use name as Venmo ID"}),u.jsx(Nc,{variant:s?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm hover:opacity-80 transition-opacity",onClick:()=>l(!s),children:"Save to friends"}),!r&&u.jsx(Nc,{variant:E?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm hover:opacity-80 transition-opacity",onClick:()=>v(!E),children:"Add custom Venmo ID"})]}),E&&!r&&u.jsx(Ne,{id:"venmoId",placeholder:"Enter Venmo username (without @)",value:n,onChange:H=>o(H.target.value),onKeyPress:H=>H.key==="Enter"&&P(),className:"text-sm"})]}),t.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-end mb-2",children:u.jsx($H,{people:t})}),u.jsx("div",{className:"space-y-2",children:t.map(H=>u.jsxs("div",{className:"flex items-center justify-between p-2 md:p-3 bg-secondary/50 rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-sm md:text-base font-medium",children:H.name}),H.venmoId&&u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(@",H.venmoId,")"]})]}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>f(H.id),children:u.jsx(cl,{className:"w-4 h-4 text-destructive"})})]},H.id))})]}),t.length===0&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add people to start splitting the bill"}),u.jsx(MH,{open:x,onOpenChange:_,onAddPerson:h}),u.jsx(jH,{open:I,onOpenChange:S,onAddSquad:re})]})}function dk({item:t,people:e,itemAssignments:n,onAssign:r,showSplit:s=!1}){return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex flex-wrap gap-1.5 md:gap-2",children:e.map(i=>{const o=(n[t.id]||[]).includes(i.id);return u.jsxs(Nc,{variant:o?"default":"outline",className:`cursor-pointer px-2 py-1 md:px-3 md:py-1.5 text-xs md:text-sm transition-all hover:scale-105 ${o?"bg-primary text-primary-foreground shadow-md":"hover:bg-secondary hover:border-primary/50"}`,onClick:()=>r(t.id,i.id,!o),children:[i.name,o&&u.jsx(yi,{className:"w-3 h-3 ml-1.5"})]},i.id)})}),s&&(n[t.id]||[]).length>0&&u.jsx("div",{className:"text-xs text-muted-foreground space-y-0.5",children:e.filter(i=>(n[t.id]||[]).includes(i.id)).map(i=>{const o=t.price/(n[t.id]||[]).length;return u.jsxs("p",{children:[i.name,": $",o.toFixed(2)]},i.id)})})]})}function wf({mode:t,itemName:e,itemPrice:n,onNameChange:r,onPriceChange:s,onSave:i,onCancel:o,layout:a="card"}){const l=(h,f)=>{h.key==="Enter"&&f&&i()},c=e.trim()&&n.trim();return a==="table"?u.jsxs(u.Fragment,{children:[u.jsx(Ne,{placeholder:qi.ENTER_ITEM_NAME,value:e,onChange:h=>r(h.target.value),onKeyPress:h=>l(h,!!c),className:"h-8",autoFocus:t==="add"}),u.jsxs("div",{className:"relative ml-auto w-24",children:[u.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"$"}),u.jsx(Ne,{type:"number",placeholder:qi.PRICE_PLACEHOLDER,value:n,onChange:h=>s(h.target.value),onKeyPress:h=>l(h,!!c),className:"h-8 text-right pl-5",step:"0.01",min:"0"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{size:"sm",className:t==="add"?"bg-green-600 hover:bg-green-700":"",variant:t==="edit"?"ghost":"default",onClick:i,children:u.jsx(yi,{className:`w-4 h-4 ${t==="edit"?"text-green-600":""}`})}),u.jsx(J,{size:"sm",variant:t==="edit"?"ghost":"outline",onClick:o,children:u.jsx(as,{className:`w-4 h-4 ${t==="edit"?"text-muted-foreground":""}`})})]})]}):u.jsxs("div",{className:"space-y-2 md:space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:qi.ITEM_NAME}),u.jsx(Ne,{placeholder:qi.ENTER_ITEM_NAME,value:e,onChange:h=>r(h.target.value),onKeyPress:h=>l(h,!!c),className:"text-sm md:text-base",autoFocus:t==="add"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:qi.PRICE}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),u.jsx(Ne,{type:"number",placeholder:qi.PRICE_PLACEHOLDER,value:n,onChange:h=>s(h.target.value),onKeyPress:h=>l(h,!!c),className:"text-sm md:text-base text-right pl-8",step:"0.01",min:"0"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(J,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:i,children:[u.jsx(yi,{className:"w-4 h-4 mr-2"}),t==="add"?ye.ADD_ITEM:ye.SAVE]}),u.jsxs(J,{variant:"outline",className:"flex-1",onClick:o,children:[u.jsx(as,{className:"w-4 h-4 mr-2"}),ye.CANCEL]})]})]})}function BH({billData:t,people:e,itemAssignments:n,editingItemId:r,editingName:s,editingPrice:i,onEdit:o,onSave:a,onCancel:l,onDelete:c,onAssign:h,setEditingName:f,setEditingPrice:m,isAdding:p,newItemName:E,newItemPrice:v,setNewItemName:x,setNewItemPrice:_,onStartAdding:I,onAddItem:S,onCancelAdding:R,splitEvenly:D,onToggleSplitEvenly:M}){const b=(t==null?void 0:t.items)||[];return u.jsxs(u.Fragment,{children:[!p&&u.jsxs("div",{className:"mb-3 flex flex-col gap-2",children:[u.jsxs(J,{onClick:I,className:"w-full gap-2",children:[u.jsx(za,{className:"w-4 h-4"}),ye.ADD_ITEM]}),e.length>0&&u.jsxs(J,{onClick:M,variant:D?"default":"outline",className:"w-full gap-2",children:[u.jsx(wt,{className:"w-4 h-4"}),ye.SPLIT_EVENLY]})]}),p&&u.jsx(Be,{className:"p-3 md:p-4 border-2 border-primary mb-3",children:u.jsx(wf,{mode:"add",itemName:E,itemPrice:v,onNameChange:x,onPriceChange:_,onSave:S,onCancel:R,layout:"card"})}),b.length===0&&!p&&u.jsx(Be,{className:"p-8 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:ye.NO_ITEMS_YET})}),b.map(T=>{const C=r===T.id,A=(n[T.id]||[]).length>0;return u.jsx(Be,{className:`p-3 md:p-4 space-y-2 md:space-y-3 border-2 transition-all duration-300 ${A?"border-primary shadow-lg shadow-primary/20 bg-primary/5":"border-border"}`,children:C?u.jsx(wf,{mode:"edit",itemName:s,itemPrice:i,onNameChange:f,onPriceChange:m,onSave:a,onCancel:l,layout:"card"}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm md:text-base",children:T.name}),u.jsxs("p",{className:"text-lg md:text-xl font-bold text-primary mt-1",children:["$",T.price.toFixed(2)]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{size:"sm",variant:"outline",onClick:()=>o(T.id,T.name,T.price),className:"h-8 w-8 md:h-9 md:w-9 p-0",children:u.jsx(Tu,{className:"w-4 h-4"})}),u.jsx(J,{size:"sm",variant:"outline",onClick:()=>c(T.id),className:"h-8 w-8 md:h-9 md:w-9 p-0 text-destructive hover:text-destructive",children:u.jsx(cl,{className:"w-4 h-4"})})]})]}),e.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:qi.ASSIGN_TO}),u.jsx(dk,{item:T,people:e,itemAssignments:n,onAssign:h,showSplit:!0})]})]})},T.id)})]})}const hk=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:le("w-full caption-bottom text-sm",t),...e})}));hk.displayName="Table";const fk=y.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:le("[&_tr]:border-b",t),...e}));fk.displayName="TableHeader";const mk=y.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:le("",t),...e}));mk.displayName="TableBody";const zH=y.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));zH.displayName="TableFooter";const uc=y.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:le("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));uc.displayName="TableRow";const dc=y.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));dc.displayName="TableHead";const qn=y.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));qn.displayName="TableCell";const qH=y.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:le("mt-4 text-sm text-muted-foreground",t),...e}));qH.displayName="TableCaption";var Mm="Popover",[pk,IQ]=lr(Mm,[fl]),Bu=fl(),[GH,ki]=pk(Mm),gk=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Bu(e),l=y.useRef(null),[c,h]=y.useState(!1),[f,m]=ll({prop:r,defaultProp:s??!1,onChange:i,caller:Mm});return u.jsx(wC,{...a,children:u.jsx(GH,{scope:e,contentId:ai(),triggerRef:l,open:f,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:c,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:n})})};gk.displayName=Mm;var yk="PopoverAnchor",HH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ki(yk,n),i=Bu(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(Wf,{...i,...r,ref:e})});HH.displayName=yk;var vk="PopoverTrigger",wk=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ki(vk,n),i=Bu(n),o=Ke(e,s.triggerRef),a=u.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Tk(s.open),...r,ref:o,onClick:ee(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx(Wf,{asChild:!0,...i,children:a})});wk.displayName=vk;var R0="PopoverPortal",[WH,KH]=pk(R0,{forceMount:void 0}),xk=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=ki(R0,e);return u.jsx(WH,{scope:e,forceMount:n,children:u.jsx(En,{present:n||i.open,children:u.jsx(Eu,{asChild:!0,container:s,children:r})})})};xk.displayName=R0;var rl="PopoverContent",_k=y.forwardRef((t,e)=>{const n=KH(rl,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=ki(rl,t.__scopePopover);return u.jsx(En,{present:r||i.open,children:i.modal?u.jsx(YH,{...s,ref:e}):u.jsx(XH,{...s,ref:e})})});_k.displayName=rl;var QH=po("PopoverContent.RemoveScroll"),YH=y.forwardRef((t,e)=>{const n=ki(rl,t.__scopePopover),r=y.useRef(null),s=Ke(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return u0(o)},[]),u.jsx(Cm,{as:QH,allowPinchZoom:!0,children:u.jsx(Ek,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),XH=y.forwardRef((t,e)=>{const n=ki(rl,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(Ek,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ek=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:h,...f}=t,m=ki(rl,n),p=Bu(n);return c0(),u.jsx(Tm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(al,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(sw,{"data-state":Tk(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ik="PopoverClose",JH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ki(Ik,n);return u.jsx(ve.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});JH.displayName=Ik;var ZH="PopoverArrow",eW=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Bu(n);return u.jsx(iw,{...s,...r,ref:e})});eW.displayName=ZH;function Tk(t){return t?"open":"closed"}var tW=gk,nW=wk,rW=xk,Sk=_k;const sW=tW,iW=nW,bk=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(rW,{children:u.jsx(Sk,{ref:s,align:e,sideOffset:n,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));bk.displayName=Sk.displayName;function oW({item:t,people:e,itemAssignments:n,onAssign:r,showSplit:s=!1}){return u.jsxs("div",{className:"space-y-2",children:[u.jsxs(sW,{children:[u.jsx(iW,{asChild:!0,children:u.jsxs(J,{variant:"outline",className:"w-full justify-between hover:bg-secondary",children:[(n[t.id]||[]).length===0?"Select people...":`${(n[t.id]||[]).length} selected`,u.jsx(Mb,{className:"ml-2 h-4 w-4 opacity-50"})]})}),u.jsx(bk,{className:"w-64 p-0",children:u.jsx("div",{className:"p-2 space-y-1",children:e.map(i=>{const o=(n[t.id]||[]).includes(i.id);return u.jsxs("div",{className:`flex items-center space-x-3 px-3 py-2.5 rounded-md cursor-pointer transition-all ${o?"bg-primary/10 hover:bg-primary/20":"hover:bg-secondary"}`,onClick:()=>r(t.id,i.id,!o),children:[u.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${o?"bg-primary border-primary":"border-input"}`,children:o&&u.jsx(yi,{className:"w-3 h-3 text-primary-foreground"})}),u.jsx("span",{className:"text-sm font-medium flex-1",children:i.name})]},i.id)})})})]}),s&&(n[t.id]||[]).length>0&&u.jsx("div",{className:"text-xs text-muted-foreground space-y-0.5",children:e.filter(i=>(n[t.id]||[]).includes(i.id)).map(i=>{const o=t.price/(n[t.id]||[]).length;return u.jsxs("p",{children:[i.name,": $",o.toFixed(2)]},i.id)})})]})}function aW({billData:t,people:e,itemAssignments:n,assignmentMode:r,editingItemId:s,editingItemName:i,editingItemPrice:o,onEdit:a,onSave:l,onCancel:c,onDelete:h,onAssign:f,setEditingName:m,setEditingPrice:p,isAdding:E,newItemName:v,newItemPrice:x,setNewItemName:_,setNewItemPrice:I,onStartAdding:S,onAddItem:R,onCancelAdding:D,splitEvenly:M,onToggleSplitEvenly:b}){const T=(t==null?void 0:t.items)||[];return u.jsxs(u.Fragment,{children:[!E&&u.jsxs("div",{className:"mb-4 flex gap-2",children:[u.jsxs(J,{onClick:S,className:"gap-2",children:[u.jsx(za,{className:"w-4 h-4"}),ye.ADD_ITEM]}),e.length>0&&u.jsxs(J,{onClick:b,variant:M?"default":"outline",className:"gap-2",children:[u.jsx(wt,{className:"w-4 h-4"}),ye.SPLIT_EVENLY]})]}),u.jsx("div",{className:"rounded-md border overflow-x-auto",children:u.jsxs(hk,{children:[u.jsx(fk,{children:u.jsxs(uc,{children:[u.jsx(dc,{className:"min-w-[150px]",children:"Item"}),u.jsx(dc,{className:"text-right min-w-[80px]",children:"Price"}),e.length>0&&u.jsx(dc,{className:"min-w-[200px]",children:"Assigned To"}),u.jsx(dc,{className:"w-[100px]",children:"Actions"})]})}),u.jsxs(mk,{children:[E&&u.jsxs(uc,{className:"bg-primary/5",children:[u.jsx(qn,{children:u.jsx(wf,{mode:"add",itemName:v,itemPrice:x,onNameChange:_,onPriceChange:I,onSave:R,onCancel:D,layout:"table"})}),u.jsx(qn,{className:"text-right"}),e.length>0&&u.jsx(qn,{}),u.jsx(qn,{})]}),T.length===0&&!E?u.jsx(uc,{children:u.jsx(qn,{colSpan:e.length>0?4:3,className:"text-center py-8 text-muted-foreground",children:ye.NO_ITEMS_YET})}):T.map(C=>{const A=(n[C.id]||[]).length>0;return u.jsxs(uc,{className:`transition-all duration-300 ${A?"border-l-4 !border-l-primary bg-primary/5":"border-l-4 border-l-transparent"}`,children:[s===C.id?u.jsx(u.Fragment,{children:u.jsx(qn,{colSpan:2,children:u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(wf,{mode:"edit",itemName:i,itemPrice:o,onNameChange:m,onPriceChange:p,onSave:l,onCancel:c,layout:"table"})})})}):u.jsxs(u.Fragment,{children:[u.jsx(qn,{className:"font-medium",children:C.name}),u.jsxs(qn,{className:"text-right",children:["$",C.price.toFixed(2)]})]}),e.length>0&&u.jsx(qn,{children:r==="checkboxes"?u.jsx(dk,{item:C,people:e,itemAssignments:n,onAssign:f,showSplit:!0}):u.jsx(oW,{item:C,people:e,itemAssignments:n,onAssign:f,showSplit:!0})}),u.jsx(qn,{children:s!==C.id&&u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{size:"sm",variant:"ghost",onClick:()=>a(C.id,C.name,C.price),children:u.jsx(Tu,{className:"w-4 h-4"})}),u.jsx(J,{size:"sm",variant:"ghost",onClick:()=>h(C.id),children:u.jsx(cl,{className:"w-4 h-4 text-destructive"})})]})})]},C.id)})]})]})})]})}function xf(t){return $u()?u.jsx("div",{className:"space-y-3",children:u.jsx(BH,{billData:t.billData,people:t.people,itemAssignments:t.itemAssignments,editingItemId:t.editingItemId,editingName:t.editingItemName,editingPrice:t.editingItemPrice,onEdit:t.onEdit,onSave:t.onSave,onCancel:t.onCancel,onDelete:t.onDelete,onAssign:t.onAssign,setEditingName:t.setEditingName,setEditingPrice:t.setEditingPrice,isAdding:t.isAdding,newItemName:t.newItemName,newItemPrice:t.newItemPrice,setNewItemName:t.setNewItemName,setNewItemPrice:t.setNewItemPrice,onStartAdding:t.onStartAdding,onAddItem:t.onAddItem,onCancelAdding:t.onCancelAdding,splitEvenly:t.splitEvenly,onToggleSplitEvenly:t.onToggleSplitEvenly})}):u.jsx(aW,{...t})}function _f({billData:t,customTip:e,effectiveTip:n,onTipChange:r}){return u.jsxs("div",{className:"mt-4 md:mt-6 space-y-2 border-t pt-3 md:pt-4",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),u.jsxs("span",{className:"font-medium",children:["$",t.subtotal.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),u.jsxs("span",{className:"font-medium",children:["$",t.tax.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm md:text-base",children:[u.jsx("span",{className:"text-muted-foreground font-semibold",children:"Tip:"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"$"}),u.jsx(Ne,{type:"number",placeholder:t.tip.toFixed(2),value:e,onChange:s=>r(s.target.value),className:"w-28 md:w-32 h-9 md:h-10 text-right text-sm md:text-base pl-6",step:"0.01",min:"0"})]})})]}),u.jsxs("div",{className:"flex justify-between text-base md:text-lg font-bold border-t pt-2",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:["$",(t.subtotal+t.tax+n).toFixed(2)]})]})]})}function lW(t){const e=encodeURIComponent(t.note),n=t.amount.toFixed(2);return`venmo://paycharge?txn=charge&recipients=${t.recipientId}&amount=${n}&note=${e}`}function cW(t){const e=lW(t);Io.isNativePlatform()?window.open(e,"_system"):window.location.href=e}function dI(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function uW(t){const e=encodeURIComponent(t.note),n=t.amount.toFixed(2);return`https://venmo.com/?txn=charge&recipients=${t.recipientId}&amount=${n}&note=${e}`}function dW({charge:t,open:e,onOpenChange:n}){const[r,s]=y.useState(""),[i,o]=y.useState("");if(y.useEffect(()=>{t!=null&&t.recipientId?s(t.recipientId):s(""),t!=null&&t.note?o(t.note):o("")},[t]),!t)return null;const a=()=>{const l={...t,recipientId:r.trim(),note:i.trim()||"Bill Split"};dI()?cW(l):window.open(uW(l),"_blank"),n(!1)};return u.jsx(Ri,{open:e,onOpenChange:n,children:u.jsxs(ys,{className:"sm:max-w-[425px]",children:[u.jsxs(vs,{children:[u.jsx(ws,{children:"Charge on Venmo"}),u.jsx(Pi,{children:"Review the charge details before opening Venmo"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Charging:"}),u.jsx("span",{className:"font-semibold",children:t.recipientName})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(sn,{htmlFor:"venmoId",children:["Venmo ID ",u.jsx("span",{className:"text-xs text-muted-foreground",children:"(without @)"})]}),u.jsx(Ne,{id:"venmoId",placeholder:"Enter their Venmo username",value:r,onChange:l=>s(l.target.value),className:"font-mono"})]}),u.jsxs("div",{className:"flex justify-between items-center border-t pt-3",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),u.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",t.amount.toFixed(2)]})]}),u.jsxs("div",{className:"border-t pt-3 space-y-2",children:[u.jsx(sn,{htmlFor:"description",children:"Description"}),u.jsx(Ne,{id:"description",placeholder:"Enter payment description",value:i,onChange:l=>o(l.target.value),className:"text-sm"})]})]}),!dI()&&u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Venmo app not detected. Opening in browser instead."})]}),u.jsxs(_0,{children:[u.jsx(J,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),u.jsxs(J,{onClick:a,className:"gap-2",children:[u.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19.384 4.616c.616.952.933 2.064.933 3.432 0 4.284-3.636 9.816-6.612 13.248H6.864L4.8 4.728l6.12-.576 1.176 13.488c1.44-2.304 3.576-6.144 3.576-8.688 0-1.176-.24-2.064-.696-2.832l4.608-1.504z"})}),"Open Venmo"]})]})]})})}function Ef({personTotals:t,allItemsAssigned:e,people:n,billData:r,itemAssignments:s,billName:i="Bill Split"}){const{user:o}=Fn(),{profile:a}=km(),{toast:l}=ln(),[c,h]=y.useState(!1),[f,m]=y.useState(!1),[p,E]=y.useState(null),v=_=>{const I=[];return r.items.forEach(S=>{const R=s[S.id]||[];if(R.includes(_)){const D=R.length;D>1?I.push(`${S.name} (split ${D} ways)`):I.push(S.name)}}),I.length===0?`${i} - Your share`:`${i}: ${I.join(", ")}`},x=(_,I)=>{if(!o){l({title:Yr.SIGN_IN_REQUIRED,description:Yr.SIGN_IN_FOR_VENMO,variant:"destructive"});return}if(!(a!=null&&a.venmoId)){l({title:Yr.VENMO_ID_REQUIRED,description:Yr.VENMO_ID_REQUIRED_DESC,variant:"destructive"}),m(!0);return}const S={recipientId:I||"",recipientName:_.name,amount:_.total,note:v(_.personId)};E(S),h(!0)};return e?t.length===0?null:u.jsxs(u.Fragment,{children:[u.jsxs(Be,{className:"p-3 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(kj,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),u.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:ye.SPLIT_SUMMARY})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:t.map(_=>u.jsxs("div",{className:"p-3 md:p-4 bg-secondary/30 rounded-lg border border-primary/10",children:[u.jsx("div",{className:"font-semibold text-base md:text-lg mb-2 md:mb-3",children:_.name}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Items:"}),u.jsxs("span",{children:["$",_.itemsSubtotal.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),u.jsxs("span",{children:["$",_.tax.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground font-semibold",children:"Tip:"}),u.jsxs("span",{className:"font-semibold",children:["$",_.tip.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between font-bold text-base border-t pt-2 mt-2",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{className:"text-primary",children:["$",_.total.toFixed(2)]})]})]}),o&&(()=>{const I=n.find(S=>S.id===_.personId);return u.jsxs(J,{variant:"outline",size:"sm",className:"w-full mt-3 gap-2",onClick:()=>x(_,I==null?void 0:I.venmoId),children:[u.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19.384 4.616c.616.952.933 2.064.933 3.432 0 4.284-3.636 9.816-6.612 13.248H6.864L4.8 4.728l6.12-.576 1.176 13.488c1.44-2.304 3.576-6.144 3.576-8.688 0-1.176-.24-2.064-.696-2.832l4.608-1.504z"})}),ye.CHARGE_ON_VENMO]})})()]},_.personId))})]}),u.jsx(dW,{charge:p,open:c,onOpenChange:h}),u.jsx(z2,{open:f,onOpenChange:m})]}):u.jsx(Be,{className:"p-6 bg-amber-50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-800",children:u.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 text-center",children:Yr.ASSIGN_ALL_ITEMS})})}function If({mode:t,onModeChange:e}){return u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"inline-flex items-center rounded-lg border border-border bg-background p-1 shadow-sm",children:[u.jsxs("button",{onClick:()=>e("checkboxes"),className:`inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium transition-all ${t==="checkboxes"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[u.jsx(Aj,{className:"w-3.5 h-3.5 mr-2"}),"Badges"]}),u.jsxs("button",{onClick:()=>e("dropdown"),className:`inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium transition-all ${t==="dropdown"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[u.jsx(Mb,{className:"w-3.5 h-3.5 mr-2"}),"Dropdown"]})]})})}function hW(){return u.jsxs("div",{className:"grid md:grid-cols-3 gap-4 md:gap-6 mt-8 md:mt-12",children:[u.jsxs(Be,{className:"p-4 md:p-6 text-center space-y-2 md:space-y-3 hover:shadow-medium transition-all duration-300",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(vi,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"})}),u.jsx("h4",{className:"text-sm md:text-base font-semibold",children:Ko.AI_POWERED.title}),u.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:Ko.AI_POWERED.description})]}),u.jsxs(Be,{className:"p-4 md:p-6 text-center space-y-2 md:space-y-3 hover:shadow-medium transition-all duration-300",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-accent/10 flex items-center justify-center mx-auto",children:u.jsx(wt,{className:"w-5 h-5 md:w-6 md:h-6 text-accent"})}),u.jsx("h4",{className:"text-sm md:text-base font-semibold",children:Ko.FAIR_SPLITTING.title}),u.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:Ko.FAIR_SPLITTING.description})]}),u.jsxs(Be,{className:"p-4 md:p-6 text-center space-y-2 md:space-y-3 hover:shadow-medium transition-all duration-300",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-primary-glow/10 flex items-center justify-center mx-auto",children:u.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6 text-primary-glow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsx("h4",{className:"text-sm md:text-base font-semibold",children:Ko.INSTANT_RESULTS.title}),u.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:Ko.INSTANT_RESULTS.description})]})]})}function fW(t,e,n,r){if(!t||e.length===0)return[];const s={};e.forEach(a=>{s[a.id]=0}),t.items.forEach(a=>{const l=n[a.id]||[];if(l.length>0){const c=a.price/l.length;l.forEach(h=>{s[h]!==void 0&&(s[h]+=c)})}});const i=Object.values(s).reduce((a,l)=>a+l,0);return e.map(a=>{const l=s[a.id],c=i>0?l/i:0,h=t.tax*c,f=r*c,m=l+h+f;return{personId:a.id,name:a.name,itemsSubtotal:l,tax:h,tip:f,total:m}}).filter(a=>a.total>0)}function mW(t,e){return t?t.items.every(n=>(e[n.id]||[]).length>0):!1}function Ck(t){const[e,n]=y.useState(null),[r,s]=y.useState({}),[i,o]=y.useState("checkboxes"),[a,l]=y.useState(""),[c,h]=y.useState(!1),f=y.useRef(null),{toast:m}=ln(),p=y.useMemo(()=>{const M=parseFloat(a);return!isNaN(M)&&M>=0?M:(e==null?void 0:e.tip)||0},[a,e]),E=y.useMemo(()=>mW(e,r),[e,r]),v=y.useMemo(()=>E?fW(e,t,r,p):[],[e,t,r,E,p]),x=(M,b,T)=>{const C=r[M]||[];s(T?{...r,[M]:[...C,b]}:{...r,[M]:C.filter(A=>A!==b)})},_=M=>{const b={...r};Object.keys(b).forEach(T=>{b[T]=b[T].filter(C=>C!==M)}),s(b)},I=M=>{const b={...r};delete b[M],s(b)},S=()=>{if(!e||t.length===0)return;const M={};e.items.forEach(b=>{M[b.id]=t.map(T=>T.id)}),s(M)},R=()=>{const M=!c;h(M),M?(S(),m({title:"Split evenly enabled",description:"All items will be split equally among all people."})):m({title:"Split evenly disabled",description:"You can now manually assign items to people."})};return y.useEffect(()=>{c&&e&&t.length>0&&S()},[c,e==null?void 0:e.items.length,t.length]),{billData:e,setBillData:n,itemAssignments:r,assignmentMode:i,setAssignmentMode:o,customTip:a,setCustomTip:l,effectiveTip:p,allItemsAssigned:E,personTotals:v,handleItemAssignment:x,removePersonFromAssignments:_,removeItemAssignments:I,splitEvenly:c,toggleSplitEvenly:R,reset:()=>{n(null),s({}),l(""),h(!1),f.current&&(f.current.value=""),m({title:"Reset complete",description:"Starting fresh!"})},fileInputRef:f}}function og(t,e,n){const r=t.reduce((i,o)=>i+o.price,0),s=r+e+n;return{subtotal:r,total:s}}function pW(t,e){const n=[...t.items,...e.items],r=t.subtotal+e.subtotal,s=t.tax||e.tax,i=t.tip||e.tip,o=r+s+i;return{...t,items:n,subtotal:r,tax:s,tip:i,total:o,restaurantName:t.restaurantName||e.restaurantName}}function gW(t){return`item-${Date.now()}`}function hI(){return`person-${Date.now()}`}function yW(t){return`user-${t}`}const vW=["image/jpeg","image/png","image/heic","image/heif"],wW=20*1024*1024,fI={items:[{id:"item-1",name:"Super Burrito w/ Grilled Chicken",price:18},{id:"item-2",name:"Super Burrito w/ Grilled Chicken",price:18},{id:"item-3",name:"Mexican Omelette Country Potatoes Toasted SourDough",price:17}],subtotal:95,tax:8.91,tip:0,total:103.91},xW=[{id:"person-1",name:"Aman"},{id:"person-2",name:"Simran"}];function _W(t){return vW.includes(t.type)?t.size>wW?{title:"File too large",description:"Please upload an image smaller than 20MB."}:null:{title:"Invalid file type",description:"Please upload a JPG, PNG, or HEIC image."}}function mI(t,e){if(!t.trim())return{isValid:!1,error:{title:"Invalid name",description:"Item name cannot be empty."}};const n=parseFloat(e);return isNaN(n)||n<0?{isValid:!1,error:{title:"Invalid price",description:"Please enter a valid price."}}:{isValid:!0}}function EW(t){return t.trim()?{isValid:!0}:{isValid:!1,error:{title:"Name required",description:"Please enter a person's name."}}}function Xl(t){const e=parseFloat(t);return isNaN(e)||e<0?0:e}async function IW(t,e){try{const n=vn(rn,"users",t),r={name:e.name.trim()};return e.venmoId&&(r.venmoId=e.venmoId),await lo(n,{friends:V8(r)},{merge:!0}),{success:!0}}catch(n){return console.error("Error saving friend to Firestore:",n),{success:!1,error:{title:"Error saving friend",description:n.message||"Could not save to friends list."}}}}function TW(t,e,n){const r=t.trim(),s=e.trim(),i={name:r};return n?i.venmoId=r:s&&(i.venmoId=s),i}function Ak(){const[t,e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(!1),[l,c]=y.useState(!1),{user:h}=Fn(),{profile:f}=km(),{toast:m}=ln();return y.useEffect(()=>{if(h&&h.displayName){const x=yW(h.uid);if(!t.some(I=>I.id===x)){const I={id:x,name:h.displayName,venmoId:f==null?void 0:f.venmoId};e(S=>[I,...S])}}},[h,f==null?void 0:f.venmoId]),{people:t,newPersonName:n,newPersonVenmoId:s,useNameAsVenmoId:o,saveToFriendsList:l,setNewPersonName:r,setNewPersonVenmoId:i,setUseNameAsVenmoId:a,setSaveToFriendsList:c,addPerson:async()=>{const x=EW(n);if(!x.isValid&&x.error){m({title:x.error.title,description:x.error.description,variant:"destructive"});return}const _=TW(n,s,o),I={id:hI(),..._};if(e([...t,I]),l&&h){const S=await IW(h.uid,_);S.success?m({title:"Saved to friends",description:`${_.name} has been saved to your friends list.`}):S.error&&m({title:S.error.title,description:S.error.description,variant:"destructive"})}r(""),i(""),a(!1),c(!1)},addFromFriend:x=>{const _={id:hI(),name:x.name,venmoId:x.venmoId};e([...t,_]),m({title:"Friend added",description:`${x.name} has been added to the bill.`})},removePerson:x=>{e(t.filter(_=>_.id!==x))},setPeople:e}}function Nk(){const[t,e]=y.useState(null),[n,r]=y.useState(null),[s,i]=y.useState(!1),o=y.useRef(null),{toast:a}=ln(),l=E=>{const v=_W(E);if(v){a({title:v.title,description:v.description,variant:"destructive"});return}e(E);const x=new FileReader;x.onloadend=()=>{r(x.result)},x.readAsDataURL(E)};return{selectedFile:t,imagePreview:n,isDragging:s,fileInputRef:o,handleFileInput:E=>{var x;const v=(x=E.target.files)==null?void 0:x[0];v&&l(v)},handleDragOver:E=>{E.preventDefault(),i(!0)},handleDragLeave:E=>{E.preventDefault(),i(!1)},handleDrop:E=>{var x;E.preventDefault(),i(!1);const v=(x=E.dataTransfer.files)==null?void 0:x[0];v&&l(v)},handleRemoveImage:()=>{e(null),r(null),o.current&&(o.current.value="")},setSelectedFile:e,setImagePreview:r}}var pI;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(pI||(pI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gI;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(gI||(gI={}));var yI;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(yI||(yI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=["user","model","function","system"];var wI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(wI||(wI={}));var xI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(xI||(xI={}));var _I;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_I||(_I={}));var EI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(EI||(EI={}));var Pc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(Pc||(Pc={}));var II;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(II||(II={}));var TI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(TI||(TI={}));var SI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(SI||(SI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Qo extends jt{constructor(e,n){super(e),this.response=n}}class Rk extends jt{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class mi extends jt{}class Pk extends jt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="https://generativelanguage.googleapis.com",bW="v1beta",CW="0.24.1",AW="genai-js";var To;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(To||(To={}));class NW{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||bW;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||SW}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function RW(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${AW}/${CW}`),e.join(" ")}async function PW(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",RW(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new mi(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new mi(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new mi(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function kW(t,e,n,r,s,i){const o=new NW(t,e,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},jW(i)),{method:"POST",headers:await PW(o),body:s})}}async function zu(t,e,n,r,s,i={},o=fetch){const{url:a,fetchOptions:l}=await kW(t,e,n,r,s,i);return DW(a,l,o)}async function DW(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){OW(s,t)}return r.ok||await MW(r,t),r}function OW(t,e){let n=t;throw n.name==="AbortError"?(n=new Pk(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof Rk||t instanceof mi||(n=new jt(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function MW(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new Rk(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function jW(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),uh(t.candidates[0]))throw new Qo(`${Vs(t)}`,t);return LW(t)}else if(t.promptFeedback)throw new Qo(`Text not available. ${Vs(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),uh(t.candidates[0]))throw new Qo(`${Vs(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),bI(t)[0]}else if(t.promptFeedback)throw new Qo(`Function call not available. ${Vs(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),uh(t.candidates[0]))throw new Qo(`${Vs(t)}`,t);return bI(t)}else if(t.promptFeedback)throw new Qo(`Function call not available. ${Vs(t)}`,t)},t}function LW(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function bI(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const VW=[Pc.RECITATION,Pc.SAFETY,Pc.LANGUAGE];function uh(t){return!!t.finishReason&&VW.includes(t.finishReason)}function Vs(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];uh(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function hu(t){return this instanceof hu?(this.v=t,this):new hu(t)}function FW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(m){r[m]&&(s[m]=function(p){return new Promise(function(E,v){i.push([m,p,E,v])>1||a(m,p)})})}function a(m,p){try{l(r[m](p))}catch(E){f(i[0][3],E)}}function l(m){m.value instanceof hu?Promise.resolve(m.value.v).then(c,h):f(i[0][2],m)}function c(m){a("next",m)}function h(m){a("throw",m)}function f(m,p){m(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function UW(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=zW(e),[r,s]=n.tee();return{stream:BW(r),response:$W(s)}}async function $W(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return P0(qW(e));e.push(s)}}function BW(t){return FW(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield hu(n.read());if(s)break;yield yield hu(P0(r))}})}function zW(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new jt("Failed to parse stream"));return}r.close();return}s+=o;let l=s.match(CI),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new jt(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),s=s.substring(l[0].length),l=s.match(CI)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new Pk("Request aborted when reading from the stream"):a=new jt("Error reading from the stream"),a})}}})}function qW(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e,n,r){const s=await zu(e,To.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return UW(s)}async function Dk(t,e,n,r){const i=await(await zu(e,To.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:P0(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function fu(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return GW(e)}function GW(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new jt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new jt("No content is provided for sending chat message.");return r?e:n}function HW(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new mi("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=fu(t);r.contents=[i]}return{generateContentRequest:r}}function AI(t){let e;return t.contents?e=t:e={contents:[fu(t)]},t.systemInstruction&&(e.systemInstruction=Ok(t.systemInstruction)),e}function WW(t){return typeof t=="string"||Array.isArray(t)?{content:fu(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],KW={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function QW(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new jt(`First content should be with role 'user', got ${r}`);if(!vI.includes(r))throw new jt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(vI)}`);if(!Array.isArray(s))throw new jt("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new jt("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const l of NI)l in a&&(i[l]+=1);const o=KW[r];for(const a of NI)if(!o.includes(a)&&i[a]>0)throw new jt(`Content with role '${r}' can't contain '${a}' part`);e=!0}}function RI(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="SILENT_ERROR";class YW{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(QW(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const c=fu(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>Dk(this._apiKey,this.model,h,f)).then(p=>{var E;if(RI(p.response)){this._history.push(c);const v=Object.assign({parts:[],role:"model"},(E=p.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(v)}else{const v=Vs(p.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}m=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,s,i,o,a,l;await this._sendPromise;const c=fu(e),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},f=Object.assign(Object.assign({},this._requestOptions),n),m=kk(this._apiKey,this.model,h,f);return this._sendPromise=this._sendPromise.then(()=>m).catch(p=>{throw new Error(PI)}).then(p=>p.response).then(p=>{if(RI(p)){this._history.push(c);const E=Object.assign({},p.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{const E=Vs(p);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(p=>{p.message!==PI&&console.error(p)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(t,e,n,r){return(await zu(e,To.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t,e,n,r){return(await zu(e,To.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function ZW(t,e,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await zu(e,To.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Ok(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=AI(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Dk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=AI(e),i=Object.assign(Object.assign({},this._requestOptions),n);return kk(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new YW(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=HW(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return XW(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=WW(e),s=Object.assign(Object.assign({},this._requestOptions),n);return JW(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return ZW(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new jt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new kI(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new mi("Cached content must contain a `name` field.");if(!e.model)throw new mi("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===l)continue}throw new mi(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new kI(this.apiKey,i,r)}}const tK=new eK("AIzaSyANznNdO6Ez7TnpzHF7KxDAllGB0qc-ynM");async function nK(t){try{const e=tK.getGenerativeModel({model:"gemini-2.5-flash"}),n=`You are an expert in extracting information from restaurant bills. Given an image of a bill, extract the line items (with individual prices), tax, and tip.

IMPORTANT RULES:
1. If an item has a quantity greater than 1 (e.g., "2 Burritos" or "Burrito x2"), create SEPARATE entries for each item.
   For example: "2 Burritos @ $10 each" should become two separate burrito entries with $10 each.
2. Extract individual item prices, not the total for multiple items.
3. If the receipt shows "2 Burritos $20", divide by quantity to get individual price ($10 each).
4. The line items should be a list of individual items with their names and prices.
5. Tax, tip, subtotal, and total should be numerical values.

Return ONLY a valid JSON object with this exact structure (no markdown, no extra text):
{
  "items": [
    {"name": "Item Name", "price": 10.99},
    {"name": "Item Name", "price": 10.99}
  ],
  "subtotal": 50.00,
  "tax": 4.50,
  "tip": 10.00,
  "total": 64.50
}

Make sure:
- Each item in a quantity appears as a separate entry in the items array
- Each item has both "name" (string) and "price" (number)
- All monetary values are positive numbers (not strings)
- The items array contains individual items with individual prices`,r=t.match(/^data:([^;]+);base64,/),s=r?r[1]:"image/jpeg",o={inlineData:{data:t.split(",")[1],mimeType:s}};let h=(await(await e.generateContent([n,o])).response).text().trim();h=h.replace(/^```json\s*/g,"").replace(/^```\s*/g,""),h=h.replace(/```\s*$/g,""),h=h.trim();const f=JSON.parse(h);if(f.items=f.items.map((m,p)=>({...m,id:`item-${p}-${Date.now()}`})),!f.items||!Array.isArray(f.items))throw new Error("Invalid response: items array is missing");if(f.items.length===0)throw new Error("No items found on the receipt");for(const m of f.items)if(!m.name||typeof m.price!="number")throw new Error("Invalid item structure: missing name or price");if(typeof f.subtotal!="number"||typeof f.tax!="number"||typeof f.tip!="number"||typeof f.total!="number")throw new Error("Invalid response: missing required numeric fields");return f}catch(e){throw console.error("Error analyzing bill:",e),e instanceof Error?new Error(`Failed to analyze receipt: ${e.message}`):new Error("Failed to analyze receipt. Please try again.")}}function Mk(t,e,n){const[r,s]=y.useState(!1),{toast:i}=ln();return{isAnalyzing:r,analyzeReceipt:async l=>{if(l){s(!0);try{const c=await nK(l);if(n){const h=pW(n,c);t(h),i({title:"Success!",description:`Added ${c.items.length} new items to your bill.`})}else t(c),i({title:"Success!",description:`Extracted ${c.items.length} items from your receipt.`})}catch(c){i({title:"Analysis Failed",description:c instanceof Error?c.message:"Could not analyze receipt. Please try again.",variant:"destructive"})}finally{s(!1)}}},loadMockData:()=>{t(fI),e(xW),i({title:"Mock data loaded",description:`Loaded ${fI.items.length} test items.`})}}}function jk(t,e,n,r){const[s,i]=y.useState(null),[o,a]=y.useState(""),[l,c]=y.useState(""),[h,f]=y.useState(!1),[m,p]=y.useState(""),[E,v]=y.useState(""),{toast:x}=ln(),_=(T,C,A)=>{i(T),a(C),c(A.toString())},I=()=>{if(!t||!s)return;const T=mI(o,l);if(!T.isValid&&T.error){x({title:T.error.title,description:T.error.description,variant:"destructive"});return}const C=Xl(l),A=t.items.map(z=>z.id===s?{...z,name:o.trim(),price:C}:z),k=Xl(n)||t.tip,{subtotal:O,total:P}=og(A,t.tax,k);e({...t,items:A,subtotal:O,total:P}),S()},S=()=>{i(null),a(""),c("")},R=T=>{if(!t)return;const C=t.items.filter(P=>P.id!==T),A=Xl(n)||t.tip,{subtotal:k,total:O}=og(C,t.tax,A);e({...t,items:C,subtotal:k,total:O}),r(T),x({title:"Item deleted",description:"Item removed from the bill."})},D=()=>{f(!0),p(""),v("")},M=()=>{const T=mI(m,E);if(!T.isValid&&T.error){x({title:T.error.title,description:T.error.description,variant:"destructive"});return}const C=Xl(E),A={id:gW(),name:m.trim(),price:C};if(!t)e({items:[A],subtotal:C,tax:0,tip:0,total:C});else{const k=[...t.items,A],O=Xl(n)||t.tip,{subtotal:P,total:z}=og(k,t.tax,O);e({...t,items:k,subtotal:P,total:z})}x({title:"Item added",description:`${A.name} added to the bill.`}),b()},b=()=>{f(!1),p(""),v("")};return{editingItemId:s,editingItemName:o,editingItemPrice:l,setEditingItemName:a,setEditingItemPrice:c,editItem:_,saveEdit:I,cancelEdit:S,deleteItem:R,isAdding:h,newItemName:m,newItemPrice:E,setNewItemName:p,setNewItemPrice:v,startAdding:D,addItem:M,cancelAdding:b}}function rK(){const t=$u(),[e,n]=y.useState("ai-scan"),r=Ak(),s=Ck(r.people),i=Nk(),o=Mk(s.setBillData,r.setPeople,s.billData),a=jk(s.billData,s.setBillData,s.customTip,s.removeItemAssignments),l=f=>{r.removePerson(f),s.removePersonFromAssignments(f)},c=()=>{s.reset(),e==="ai-scan"&&i.handleRemoveImage()},h=async()=>{i.imagePreview&&await o.analyzeReceipt(i.imagePreview)};return u.jsxs(u.Fragment,{children:[u.jsx(yH,{hasBillData:!!s.billData,onLoadMock:o.loadMockData,onStartOver:c}),u.jsxs(Fu,{value:e,onValueChange:n,className:"space-y-6",children:[u.jsxs(Sl,{className:"grid w-full grid-cols-2",children:[u.jsxs(Mn,{value:"ai-scan",className:"gap-2",children:[u.jsx(jh,{className:"w-4 h-4"}),"AI Scan"]}),u.jsxs(Mn,{value:"manual",className:"gap-2",children:[u.jsx(Vb,{className:"w-4 h-4"}),"Manual Entry"]})]}),u.jsxs(on,{value:"ai-scan",className:"space-y-6",children:[s.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:c,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsx(uk,{selectedFile:i.selectedFile,imagePreview:i.imagePreview,isDragging:i.isDragging,isAnalyzing:o.isAnalyzing,onFileInput:i.handleFileInput,onDragOver:i.handleDragOver,onDragLeave:i.handleDragLeave,onDrop:i.handleDrop,onRemove:i.handleRemoveImage,onAnalyze:h,fileInputRef:i.fileInputRef}),s.billData&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(vf,{people:r.people,newPersonName:r.newPersonName,newPersonVenmoId:r.newPersonVenmoId,useNameAsVenmoId:r.useNameAsVenmoId,saveToFriendsList:r.saveToFriendsList,onNameChange:r.setNewPersonName,onVenmoIdChange:r.setNewPersonVenmoId,onUseNameAsVenmoIdChange:r.setUseNameAsVenmoId,onSaveToFriendsListChange:r.setSaveToFriendsList,onAdd:r.addPerson,onAddFromFriend:r.addFromFriend,onRemove:l,setPeople:r.setPeople}),u.jsxs(Be,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:ye.BILL_ITEMS})]}),r.people.length>0&&!t&&u.jsx(If,{mode:s.assignmentMode,onModeChange:s.setAssignmentMode})]}),u.jsx(xf,{billData:s.billData,people:r.people,itemAssignments:s.itemAssignments,assignmentMode:s.assignmentMode,editingItemId:a.editingItemId,editingItemName:a.editingItemName,editingItemPrice:a.editingItemPrice,onAssign:s.handleItemAssignment,onEdit:a.editItem,onSave:a.saveEdit,onCancel:a.cancelEdit,onDelete:a.deleteItem,setEditingName:a.setEditingItemName,setEditingPrice:a.setEditingItemPrice,isAdding:a.isAdding,newItemName:a.newItemName,newItemPrice:a.newItemPrice,setNewItemName:a.setNewItemName,setNewItemPrice:a.setNewItemPrice,onStartAdding:a.startAdding,onAddItem:a.addItem,onCancelAdding:a.cancelAdding,splitEvenly:s.splitEvenly,onToggleSplitEvenly:s.toggleSplitEvenly}),r.people.length===0&&!t&&s.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:ye.ADD_PEOPLE_TO_ASSIGN}),u.jsx(_f,{billData:s.billData,customTip:s.customTip,effectiveTip:s.effectiveTip,onTipChange:s.setCustomTip})]}),u.jsx(Ef,{personTotals:s.personTotals,allItemsAssigned:s.allItemsAssigned,people:r.people,billData:s.billData,itemAssignments:s.itemAssignments})]})]}),u.jsxs(on,{value:"manual",className:"space-y-6",children:[s.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:c,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(vf,{people:r.people,newPersonName:r.newPersonName,newPersonVenmoId:r.newPersonVenmoId,useNameAsVenmoId:r.useNameAsVenmoId,saveToFriendsList:r.saveToFriendsList,onNameChange:r.setNewPersonName,onVenmoIdChange:r.setNewPersonVenmoId,onUseNameAsVenmoIdChange:r.setUseNameAsVenmoId,onSaveToFriendsListChange:r.setSaveToFriendsList,onAdd:r.addPerson,onAddFromFriend:r.addFromFriend,onRemove:l,setPeople:r.setPeople}),u.jsxs(Be,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:"Bill Items"})]}),r.people.length>0&&!t&&u.jsx(If,{mode:s.assignmentMode,onModeChange:s.setAssignmentMode})]}),u.jsx(xf,{billData:s.billData,people:r.people,itemAssignments:s.itemAssignments,assignmentMode:s.assignmentMode,editingItemId:a.editingItemId,editingItemName:a.editingItemName,editingItemPrice:a.editingItemPrice,onAssign:s.handleItemAssignment,onEdit:a.editItem,onSave:a.saveEdit,onCancel:a.cancelEdit,onDelete:a.deleteItem,setEditingName:a.setEditingItemName,setEditingPrice:a.setEditingItemPrice,isAdding:a.isAdding,newItemName:a.newItemName,newItemPrice:a.newItemPrice,setNewItemName:a.setNewItemName,setNewItemPrice:a.setNewItemPrice,onStartAdding:a.startAdding,onAddItem:a.addItem,onCancelAdding:a.cancelAdding,splitEvenly:s.splitEvenly,onToggleSplitEvenly:s.toggleSplitEvenly}),r.people.length===0&&!t&&s.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:"Add people above to assign items"}),s.billData&&u.jsx(_f,{billData:s.billData,customTip:s.customTip,effectiveTip:s.effectiveTip,onTipChange:s.setCustomTip})]}),s.billData&&u.jsx(Ef,{personTotals:s.personTotals,allItemsAssigned:s.allItemsAssigned,people:r.people,billData:s.billData,itemAssignments:s.itemAssignments})]})]})]}),!s.billData&&u.jsx(hW,{})]})}function sK({open:t,onOpenChange:e,onCreateGroup:n}){const[r,s]=y.useState(""),[i,o]=y.useState(""),a=()=>{r.trim()&&(n(r.trim(),i.trim()),s(""),o(""),e(!1))},l=()=>{s(""),o(""),e(!1)};return u.jsx(Ri,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[500px]",children:[u.jsx(vs,{children:u.jsx(ws,{children:"Create New Group"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"group-name",children:"Group Name *"}),u.jsx(Ne,{id:"group-name",placeholder:"e.g., Roommates, Vacation 2024, Game Night",value:r,onChange:c=>s(c.target.value),onKeyPress:c=>c.key==="Enter"&&a(),autoFocus:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"description",children:"Description (Optional)"}),u.jsx(C0,{id:"description",placeholder:"Add details about this group...",value:i,onChange:c=>o(c.target.value),rows:3})]})]}),u.jsxs(_0,{children:[u.jsx(J,{variant:"outline",onClick:l,children:"Cancel"}),u.jsx(J,{onClick:a,disabled:!r.trim(),children:"Create Group"})]})]})})}function It(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function iK(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const jd=43200,DI=1440;let oK={};function aK(){return oK}function OI(t){const e=It(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function dh(t,e){const n=It(t),r=It(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function lK(t){return iK(t,Date.now())}function cK(t,e){const n=It(t),r=It(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function uK(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function dK(t,e){return+It(t)-+It(e)}function hK(t){const e=It(t);return e.setHours(23,59,59,999),e}function fK(t){const e=It(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function mK(t){const e=It(t);return+hK(e)==+fK(e)}function pK(t,e){const n=It(t),r=It(e),s=dh(n,r),i=Math.abs(cK(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=dh(n,r)===-s;mK(It(t))&&i===1&&dh(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function gK(t,e,n){const r=dK(t,e)/1e3;return uK(n==null?void 0:n.roundingMethod)(r)}const yK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vK=(t,e,n)=>{let r;const s=yK[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ag(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const wK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_K={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EK={date:ag({formats:wK,defaultWidth:"full"}),time:ag({formats:xK,defaultWidth:"full"}),dateTime:ag({formats:_K,defaultWidth:"full"})},IK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TK=(t,e,n,r)=>IK[t];function Jl(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const SK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},PK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kK={ordinalNumber:PK,era:Jl({values:SK,defaultWidth:"wide"}),quarter:Jl({values:bK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Jl({values:CK,defaultWidth:"wide"}),day:Jl({values:AK,defaultWidth:"wide"}),dayPeriod:Jl({values:NK,defaultWidth:"wide",formattingValues:RK,defaultFormattingWidth:"wide"})};function Zl(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?OK(a,f=>f.test(o)):DK(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function DK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function OK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function MK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const jK=/^(\d+)(th|st|nd|rd)?/i,LK=/\d+/i,VK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FK={any:[/^b/i,/^(a|c)/i]},UK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$K={any:[/1/i,/2/i,/3/i,/4/i]},BK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KK={ordinalNumber:MK({matchPattern:jK,parsePattern:LK,valueCallback:t=>parseInt(t,10)}),era:Zl({matchPatterns:VK,defaultMatchWidth:"wide",parsePatterns:FK,defaultParseWidth:"any"}),quarter:Zl({matchPatterns:UK,defaultMatchWidth:"wide",parsePatterns:$K,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zl({matchPatterns:BK,defaultMatchWidth:"wide",parsePatterns:zK,defaultParseWidth:"any"}),day:Zl({matchPatterns:qK,defaultMatchWidth:"wide",parsePatterns:GK,defaultParseWidth:"any"}),dayPeriod:Zl({matchPatterns:HK,defaultMatchWidth:"any",parsePatterns:WK,defaultParseWidth:"any"})},QK={code:"en-US",formatDistance:vK,formatLong:EK,formatRelative:TK,localize:kK,match:KK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YK(t,e,n){const r=aK(),s=(n==null?void 0:n.locale)??r.locale??QK,i=2520,o=dh(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=It(e),c=It(t)):(l=It(t),c=It(e));const h=gK(c,l),f=(OI(c)-OI(l))/1e3,m=Math.round((h-f)/60);let p;if(m<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,a):h<10?s.formatDistance("lessThanXSeconds",10,a):h<20?s.formatDistance("lessThanXSeconds",20,a):h<40?s.formatDistance("halfAMinute",0,a):h<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):m===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",m,a);if(m<45)return s.formatDistance("xMinutes",m,a);if(m<90)return s.formatDistance("aboutXHours",1,a);if(m<DI){const E=Math.round(m/60);return s.formatDistance("aboutXHours",E,a)}else{if(m<i)return s.formatDistance("xDays",1,a);if(m<jd){const E=Math.round(m/DI);return s.formatDistance("xDays",E,a)}else if(m<jd*2)return p=Math.round(m/jd),s.formatDistance("aboutXMonths",p,a)}if(p=pK(c,l),p<12){const E=Math.round(m/jd);return s.formatDistance("xMonths",E,a)}else{const E=p%12,v=Math.trunc(p/12);return E<3?s.formatDistance("aboutXYears",v,a):E<9?s.formatDistance("overXYears",v,a):s.formatDistance("almostXYears",v+1,a)}}function XK(t,e){return YK(t,lK(t),e)}function JK({group:t,onClick:e}){return u.jsx(Be,{className:"p-6 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:e,children:u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.name}),t.description&&u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(wt,{className:"w-4 h-4"}),u.jsxs("span",{children:[t.memberIds.length," members"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Nj,{className:"w-4 h-4"}),u.jsxs("span",{children:["Updated ",XK(t.updatedAt,{addSuffix:!0})]})]})]})]})})})}function ZK(){const{user:t}=Fn(),[e,n]=y.useState([]),[r,s]=y.useState(!0);return y.useEffect(()=>{if(!t){n([]),s(!1);return}const o=F1(rn,"groups"),a=P8(o,k8("ownerId","==",t.uid),D8("updatedAt","desc")),l=L8(a,c=>{const h=c.docs.map(f=>{var p,E;const m=f.data();return{id:f.id,name:m.name,description:m.description,createdAt:((p=m.createdAt)==null?void 0:p.toDate())||new Date,updatedAt:((E=m.updatedAt)==null?void 0:E.toDate())||new Date,ownerId:m.ownerId,memberIds:m.memberIds||[]}});n(h),s(!1)},c=>{console.error("Error fetching groups:",c),n([]),s(!1)});return()=>l()},[t]),{groups:e,loading:r,createGroup:async(o,a)=>{if(!t)throw new Error("Must be logged in to create a group");const l=Ce.now(),c={name:o,description:a||"",createdAt:l,updatedAt:l,ownerId:t.uid,memberIds:[t.uid]};return(await j8(F1(rn,"groups"),c)).id}}}function eQ(){const t=pl(),[e,n]=y.useState(!1),{groups:r,loading:s,createGroup:i}=ZK(),{toast:o}=ln(),a=async(c,h)=>{try{await i(c,h),o({title:"Group created",description:`${c} has been created successfully.`})}catch{o({title:"Error",description:"Failed to create group. Please try again.",variant:"destructive"})}},l=c=>{t(`/groups/${c}`)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-12",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Groups & Events"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Create groups to organize and track multiple bills for roommates, trips, or events."})]}),r.length>0&&u.jsxs(J,{className:"gap-2",onClick:()=>n(!0),children:[u.jsx(za,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"New Group"})]})]}),s?u.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading groups..."}):r.length===0?u.jsxs(Be,{className:"p-12 text-center space-y-6",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(wt,{className:"w-10 h-10 text-primary"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"No groups yet"}),u.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Create your first group to start organizing bills with roommates, friends, or for events."})]}),u.jsxs(J,{className:"gap-2",onClick:()=>n(!0),children:[u.jsx(za,{className:"w-4 h-4"}),"Create First Group"]})]}):u.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:r.map(c=>u.jsx(JK,{group:c,onClick:()=>l(c.id)},c.id))}),u.jsx(sK,{open:e,onOpenChange:n,onCreateGroup:a}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[u.jsxs(Be,{className:"p-6 text-center space-y-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(wt,{className:"w-6 h-6 text-primary"})}),u.jsx("h4",{className:"font-semibold",children:"Organize by Group"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep roommate bills separate from vacation expenses"})]}),u.jsxs(Be,{className:"p-6 text-center space-y-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-accent/10 flex items-center justify-center mx-auto",children:u.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),u.jsx("h4",{className:"font-semibold",children:"Transaction History"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"See all past bills and payments for each group"})]}),u.jsxs(Be,{className:"p-6 text-center space-y-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary-glow/10 flex items-center justify-center mx-auto",children:u.jsx("svg",{className:"w-6 h-6 text-primary-glow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),u.jsx("h4",{className:"font-semibold",children:"Shared Members"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Add members once, reuse across all group transactions"})]})]})]})}function tQ(){const{groupId:t}=UF(),e=pl(),n=$u(),[r,s]=y.useState(null),[i,o]=y.useState(!0),[a,l]=y.useState("ai-scan"),c=Ak(),h=Ck(c.people),f=Nk(),m=Mk(h.setBillData,c.setPeople,h.billData),p=jk(h.billData,h.setBillData,h.customTip,h.removeItemAssignments);y.useEffect(()=>{(async()=>{var I,S;if(t)try{const R=await Tl(vn(rn,"groups",t));if(R.exists()){const D=R.data();s({id:R.id,name:D.name,description:D.description,createdAt:((I=D.createdAt)==null?void 0:I.toDate())||new Date,updatedAt:((S=D.updatedAt)==null?void 0:S.toDate())||new Date,ownerId:D.ownerId,memberIds:D.memberIds||[]})}}catch(R){console.error("Error fetching group:",R)}finally{o(!1)}})()},[t]);const E=_=>{c.removePerson(_),h.removePersonFromAssignments(_)},v=()=>{h.reset(),a==="ai-scan"&&f.handleRemoveImage()},x=async()=>{f.imagePreview&&await m.analyzeReceipt(f.imagePreview)};return i?u.jsx("div",{className:"text-center py-12 text-muted-foreground",children:sI.LOADING_GROUP}):r?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs(J,{variant:"ghost",className:"mb-4 gap-2",onClick:()=>e("/groups"),children:[u.jsx(Cj,{className:"w-4 h-4"}),sg.BACK_TO_GROUPS]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:r.name}),r.description&&u.jsx("p",{className:"text-lg text-muted-foreground",children:r.description})]})]}),u.jsxs(Fu,{value:a,onValueChange:l,className:"space-y-6",children:[u.jsxs(Sl,{className:"grid w-full grid-cols-2",children:[u.jsxs(Mn,{value:"ai-scan",className:"gap-2",children:[u.jsx(jh,{className:"w-4 h-4"}),sg.AI_SCAN]}),u.jsxs(Mn,{value:"manual",className:"gap-2",children:[u.jsx(Vb,{className:"w-4 h-4"}),"Manual Entry"]})]}),u.jsxs(on,{value:"ai-scan",className:"space-y-6",children:[h.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:v,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsx(uk,{selectedFile:f.selectedFile,imagePreview:f.imagePreview,isDragging:f.isDragging,isAnalyzing:m.isAnalyzing,onFileInput:f.handleFileInput,onDragOver:f.handleDragOver,onDragLeave:f.handleDragLeave,onDrop:f.handleDrop,onRemove:f.handleRemoveImage,onAnalyze:x,fileInputRef:f.fileInputRef}),h.billData&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(vf,{people:c.people,newPersonName:c.newPersonName,newPersonVenmoId:c.newPersonVenmoId,useNameAsVenmoId:c.useNameAsVenmoId,saveToFriendsList:c.saveToFriendsList,onNameChange:c.setNewPersonName,onVenmoIdChange:c.setNewPersonVenmoId,onUseNameAsVenmoIdChange:c.setUseNameAsVenmoId,onSaveToFriendsListChange:c.setSaveToFriendsList,onAdd:c.addPerson,onAddFromFriend:c.addFromFriend,onRemove:E,setPeople:c.setPeople}),u.jsxs(Be,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:ye.BILL_ITEMS})]}),c.people.length>0&&!n&&u.jsx(If,{mode:h.assignmentMode,onModeChange:h.setAssignmentMode})]}),u.jsx(xf,{billData:h.billData,people:c.people,itemAssignments:h.itemAssignments,assignmentMode:h.assignmentMode,editingItemId:p.editingItemId,editingItemName:p.editingItemName,editingItemPrice:p.editingItemPrice,onAssign:h.handleItemAssignment,onEdit:p.editItem,onSave:p.saveEdit,onCancel:p.cancelEdit,onDelete:p.deleteItem,setEditingName:p.setEditingItemName,setEditingPrice:p.setEditingItemPrice,isAdding:p.isAdding,newItemName:p.newItemName,newItemPrice:p.newItemPrice,setNewItemName:p.setNewItemName,setNewItemPrice:p.setNewItemPrice,onStartAdding:p.startAdding,onAddItem:p.addItem,onCancelAdding:p.cancelAdding,splitEvenly:h.splitEvenly,onToggleSplitEvenly:h.toggleSplitEvenly}),c.people.length===0&&!n&&h.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:ye.ADD_PEOPLE_TO_ASSIGN}),u.jsx(_f,{billData:h.billData,customTip:h.customTip,effectiveTip:h.effectiveTip,onTipChange:h.setCustomTip})]}),u.jsx(Ef,{personTotals:h.personTotals,allItemsAssigned:h.allItemsAssigned,people:c.people,billData:h.billData,itemAssignments:h.itemAssignments})]})]}),u.jsxs(on,{value:"manual",className:"space-y-6",children:[h.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:v,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(vf,{people:c.people,newPersonName:c.newPersonName,newPersonVenmoId:c.newPersonVenmoId,useNameAsVenmoId:c.useNameAsVenmoId,saveToFriendsList:c.saveToFriendsList,onNameChange:c.setNewPersonName,onVenmoIdChange:c.setNewPersonVenmoId,onUseNameAsVenmoIdChange:c.setUseNameAsVenmoId,onSaveToFriendsListChange:c.setSaveToFriendsList,onAdd:c.addPerson,onAddFromFriend:c.addFromFriend,onRemove:E,setPeople:c.setPeople}),u.jsxs(Be,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:"Bill Items"})]}),c.people.length>0&&!n&&u.jsx(If,{mode:h.assignmentMode,onModeChange:h.setAssignmentMode})]}),u.jsx(xf,{billData:h.billData,people:c.people,itemAssignments:h.itemAssignments,assignmentMode:h.assignmentMode,editingItemId:p.editingItemId,editingItemName:p.editingItemName,editingItemPrice:p.editingItemPrice,onAssign:h.handleItemAssignment,onEdit:p.editItem,onSave:p.saveEdit,onCancel:p.cancelEdit,onDelete:p.deleteItem,setEditingName:p.setEditingItemName,setEditingPrice:p.setEditingItemPrice,isAdding:p.isAdding,newItemName:p.newItemName,newItemPrice:p.newItemPrice,setNewItemName:p.setNewItemName,setNewItemPrice:p.setNewItemPrice,onStartAdding:p.startAdding,onAddItem:p.addItem,onCancelAdding:p.cancelAdding,splitEvenly:h.splitEvenly,onToggleSplitEvenly:h.toggleSplitEvenly}),c.people.length===0&&!n&&h.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:"Add people above to assign items"}),h.billData&&u.jsx(_f,{billData:h.billData,customTip:h.customTip,effectiveTip:h.effectiveTip,onTipChange:h.setCustomTip})]}),h.billData&&u.jsx(Ef,{personTotals:h.personTotals,allItemsAssigned:h.allItemsAssigned,people:c.people,billData:h.billData,itemAssignments:h.itemAssignments})]})]})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-muted-foreground mb-4",children:sI.GROUP_NOT_FOUND}),u.jsx(J,{onClick:()=>e("/groups"),children:sg.BACK_TO_GROUPS})]})}function MI(){const{user:t,profile:e,venmoId:n,isEditing:r,saving:s,setVenmoId:i,handleSave:o,handleCancel:a,startEditing:l}=B2(),{toast:c}=ln(),h=async()=>{await o(),c({title:pf.PROFILE_UPDATED,description:pf.PROFILE_UPDATED_DESC})};return u.jsxs(Be,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-6",children:[u.jsx(Ub,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}),u.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:ye.PROFILE_SETTINGS})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"name",className:"text-sm md:text-base",children:"Name"}),u.jsx(Ne,{id:"name",value:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||"",disabled:!0,className:"bg-muted text-sm md:text-base"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(sn,{htmlFor:"email",className:"text-sm md:text-base",children:"Email"}),u.jsx(Ne,{id:"email",value:(e==null?void 0:e.email)||(t==null?void 0:t.email)||"",disabled:!0,className:"bg-muted text-sm md:text-base"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(sn,{htmlFor:"venmoId",className:"text-sm md:text-base",children:[ye.VENMO_USERNAME,u.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:ye.VENMO_WITHOUT_AT})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ne,{id:"venmoId",placeholder:"Enter your Venmo username",value:n,onChange:f=>i(f.target.value),disabled:!r||s,className:"text-sm md:text-base"}),!r&&u.jsx(J,{onClick:l,variant:"outline",children:ye.EDIT})]}),!r&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be used when others charge you on Venmo"})]}),r&&u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsxs(J,{onClick:h,disabled:s,className:"flex-1 bg-green-600 hover:bg-green-700",children:[u.jsx(yi,{className:"w-4 h-4 mr-2"}),s?ye.SAVING:ye.SAVE_CHANGES]}),u.jsxs(J,{onClick:a,disabled:s,variant:"outline",className:"flex-1",children:[u.jsx(as,{className:"w-4 h-4 mr-2"}),ye.CANCEL]})]})]})]})}function jI(){const{friends:t,newFriendName:e,newFriendVenmoId:n,hasChanges:r,saving:s,editingIndex:i,editingName:o,editingVenmoId:a,setNewFriendName:l,setNewFriendVenmoId:c,setEditingName:h,setEditingVenmoId:f,handleAddFriend:m,handleRemoveFriend:p,handleEditFriend:E,handleSaveEdit:v,handleCancelEdit:x,handleSaveAll:_}=q2(),{toast:I}=ln(),S=async()=>{await _(),I({title:pf.FRIENDS_UPDATED,description:pf.FRIENDS_UPDATED_DESC})};return u.jsxs(Be,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(wt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}),u.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:"Manage Friends"})]}),r&&u.jsx(J,{onClick:S,disabled:s,size:"sm",children:s?ye.SAVING:ye.SAVE_CHANGES})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add friends to quickly add them to bills"}),u.jsx("div",{className:"space-y-2 mb-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx(Ne,{placeholder:"Friend's name",value:e,onChange:R=>l(R.target.value),onKeyPress:R=>R.key==="Enter"&&m(),className:"flex-1 text-sm md:text-base"}),u.jsx(Ne,{placeholder:"Venmo ID (optional)",value:n,onChange:R=>c(R.target.value),onKeyPress:R=>R.key==="Enter"&&m(),className:"flex-1 text-sm md:text-base"}),u.jsxs(J,{onClick:m,className:"gap-2",children:[u.jsx(Co,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Add"})]})]})}),u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-8 border-2 border-dashed rounded-lg",children:"No friends saved yet. Add friends above to get started."}):t.map((R,D)=>u.jsx("div",{className:"flex items-center gap-2 p-2 md:p-3 bg-secondary/30 rounded-lg border border-border",children:i===D?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-2",children:[u.jsx(Ne,{placeholder:"Name",value:o,onChange:M=>h(M.target.value),className:"flex-1 text-sm md:text-base"}),u.jsx(Ne,{placeholder:"Venmo ID",value:a,onChange:M=>f(M.target.value),className:"flex-1 text-sm md:text-base"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:v,children:u.jsx(yi,{className:"w-4 h-4 text-green-600"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:x,children:u.jsx(as,{className:"w-4 h-4 text-muted-foreground"})})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm md:text-base font-medium",children:R.name}),R.venmoId&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",R.venmoId]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>E(D),children:u.jsx(Tu,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>p(D),children:u.jsx(cl,{className:"w-4 h-4 text-destructive"})})]})]})},D))})]})}function LI(){const{squads:t,loading:e,activeTab:n,editingSquad:r,handleCreate:s,handleEdit:i,handleUpdate:o,handleDelete:a,handleTabChange:l,setActiveTab:c}=ik();return u.jsxs(Be,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-6",children:[u.jsx(wt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}),u.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:"Manage Squads"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create and manage groups of people to quickly add them to bills"}),u.jsxs(Fu,{value:n,onValueChange:l,className:"w-full",children:[u.jsxs(Sl,{className:"grid w-full grid-cols-2",children:[u.jsx(Mn,{value:"list",className:"text-sm md:text-base",children:"Your Squads"}),u.jsx(Mn,{value:n==="edit"?"edit":"create",className:"text-sm md:text-base",children:n==="edit"?"Edit Squad":"Create New"})]}),u.jsx(on,{value:"list",className:"space-y-4 py-4",children:e?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading squads..."})}):u.jsxs(u.Fragment,{children:[u.jsx(ok,{squads:t,onEdit:i,onDelete:a}),t.length>0&&u.jsxs(J,{onClick:()=>c("create"),className:"w-full",variant:"outline",children:[u.jsx(za,{className:"w-4 h-4 mr-2"}),"Create New Squad"]})]})}),u.jsx(on,{value:"create",className:"py-4",children:u.jsx(du,{onSubmit:s,submitLabel:"Create Squad"},"create-squad")}),u.jsx(on,{value:"edit",className:"py-4",children:r&&u.jsx(du,{initialName:r.name,initialDescription:r.description,initialMembers:r.members,onSubmit:o,submitLabel:"Update Squad"},`edit-${r.id}`)})]})]})}function nQ(){const t=$u(),{user:e}=Fn(),n=pl(),[r,s]=y.useState("profile");return e?t?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-2xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Profile & Settings"}),u.jsx("p",{className:"text-sm md:text-lg text-muted-foreground",children:"Manage your profile, friends, and squads"})]}),u.jsxs(Fu,{value:r,onValueChange:s,className:"w-full",children:[u.jsxs(Sl,{className:"grid w-full grid-cols-3",children:[u.jsxs(Mn,{value:"profile",className:"gap-1 text-xs",children:[u.jsx(sy,{className:"w-3 h-3"}),u.jsx("span",{children:"Profile"})]}),u.jsxs(Mn,{value:"friends",className:"gap-1 text-xs",children:[u.jsx(wt,{className:"w-3 h-3"}),u.jsx("span",{children:"Friends"})]}),u.jsxs(Mn,{value:"squads",className:"gap-1 text-xs",children:[u.jsx($b,{className:"w-3 h-3"}),u.jsx("span",{children:"Squads"})]})]}),u.jsx(on,{value:"profile",className:"mt-4",children:u.jsx(MI,{})}),u.jsx(on,{value:"friends",className:"mt-4",children:u.jsx(jI,{})}),u.jsx(on,{value:"squads",className:"mt-4",children:u.jsx(LI,{})})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Profile & Settings"}),u.jsx("p",{className:"text-base md:text-lg text-muted-foreground",children:"Manage your profile, friends, and squads"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(MI,{}),u.jsx(jI,{}),u.jsx(LI,{})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Profile & Settings"}),u.jsx("p",{className:"text-base md:text-lg text-muted-foreground",children:"Sign in to manage your profile, friends, and squads"})]}),u.jsxs(Be,{className:"p-8 md:p-12 text-center space-y-6",children:[u.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(sy,{className:"w-8 h-8 md:w-10 md:h-10 text-primary"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Sign In Required"}),u.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Please sign in to access your profile settings, manage your friends list, and create squads."})]}),u.jsxs(J,{onClick:()=>n("/auth"),className:"gap-2",children:[u.jsx(Lb,{className:"w-4 h-4"}),"Sign In"]})]})]})}const rQ=()=>{const{user:t,loading:e,signInWithGoogle:n}=Fn(),r=pl();return y.useEffect(()=>{t&&r("/")},[t,r]),e?u.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30 flex items-center justify-center",children:u.jsx(jb,{className:"w-8 h-8 animate-spin text-primary"})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30 flex items-center justify-center p-4",children:u.jsxs(Be,{className:"w-full max-w-md p-8 space-y-8 shadow-xl",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center mx-auto shadow-lg",children:u.jsx(vi,{className:"w-9 h-9 text-primary-foreground"})}),u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"SplitBill"}),u.jsx("p",{className:"text-muted-foreground",children:"Split bills fairly with AI-powered receipt scanning"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(J,{onClick:n,size:"lg",className:"w-full bg-white hover:bg-gray-50 text-gray-900 border border-gray-300 shadow-md hover:shadow-lg transition-all duration-300",children:[u.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]}),u.jsxs("div",{className:"pt-6 border-t space-y-3",children:[u.jsx("p",{className:"text-sm font-medium text-center text-muted-foreground",children:"Why sign in?"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2",children:"✓"}),u.jsx("span",{children:"Save and access your bill history"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2",children:"✓"}),u.jsx("span",{children:"Share bills with friends"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2",children:"✓"}),u.jsx("span",{children:"Sync across all your devices"})]})]})]})]})})},sQ=()=>{const t=No();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},iQ=new aF,oQ=()=>u.jsx(cF,{client:iQ,children:u.jsx(U8,{children:u.jsxs(LV,{children:[u.jsx(xL,{}),u.jsx(JL,{}),u.jsx(c3,{children:u.jsxs(n3,{children:[u.jsxs(Os,{path:"/",element:u.jsx(gH,{}),children:[u.jsx(Os,{index:!0,element:u.jsx(rK,{})}),u.jsx(Os,{path:"groups",element:u.jsx(eQ,{})}),u.jsx(Os,{path:"groups/:groupId",element:u.jsx(tQ,{})}),u.jsx(Os,{path:"settings",element:u.jsx(nQ,{})})]}),u.jsx(Os,{path:"/auth",element:u.jsx(rQ,{})}),u.jsx(Os,{path:"*",element:u.jsx(sQ,{})})]})})]})})});var Wy;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(Wy||(Wy={}));var VI;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(VI||(VI={}));const FI=Om("StatusBar");Io.isNativePlatform()&&(FI.setStyle({style:Wy.Light}).catch(console.error),FI.setBackgroundColor({color:"#ffffff"}).catch(console.error));lb(document.getElementById("root")).render(u.jsx(oQ,{}));
