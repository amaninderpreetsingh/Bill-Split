var hx=t=>{throw TypeError(t)};var Km=(t,e,n)=>e.has(t)||hx("Cannot "+n);var U=(t,e,n)=>(Km(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?hx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Km(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),At=(t,e,n)=>(Km(t,e,"access private method"),n);var Yu=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return U(t,e,r)}});function Mk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var RI={exports:{}},vf={},kI={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=Symbol.for("react.element"),jk=Symbol.for("react.portal"),Ok=Symbol.for("react.fragment"),Lk=Symbol.for("react.strict_mode"),Vk=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),$k=Symbol.for("react.forward_ref"),zk=Symbol.for("react.suspense"),Bk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),fx=Symbol.iterator;function Wk(t){return t===null||typeof t!="object"?null:(t=fx&&t[fx]||t["@@iterator"],typeof t=="function"?t:null)}var DI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MI=Object.assign,jI={};function nl(t,e,n){this.props=t,this.context=e,this.refs=jI,this.updater=n||DI}nl.prototype.isReactComponent={};nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function OI(){}OI.prototype=nl.prototype;function Wy(t,e,n){this.props=t,this.context=e,this.refs=jI,this.updater=n||DI}var Hy=Wy.prototype=new OI;Hy.constructor=Wy;MI(Hy,nl.prototype);Hy.isPureReactComponent=!0;var mx=Array.isArray,LI=Object.prototype.hasOwnProperty,Gy={current:null},VI={key:!0,ref:!0,__self:!0,__source:!0};function FI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)LI.call(e,r)&&!VI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:uu,type:t,key:i,ref:o,props:s,_owner:Gy.current}}function Hk(t,e){return{$$typeof:uu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ky(t){return typeof t=="object"&&t!==null&&t.$$typeof===uu}function Gk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var px=/\/+/g;function Qm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gk(""+t.key):e.toString(36)}function Pd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uu:case jk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Qm(o,0):r,mx(s)?(n="",t!=null&&(n=t.replace(px,"$&/")+"/"),Pd(s,e,n,"",function(c){return c})):s!=null&&(Ky(s)&&(s=Hk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(px,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",mx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Qm(i,a);o+=Pd(i,e,n,l,s)}else if(l=Wk(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Qm(i,a++),o+=Pd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],s=0;return Pd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Kk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Rd={transition:null},Qk={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:Gy};function UI(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!Ky(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=nl;we.Fragment=Ok;we.Profiler=Vk;we.PureComponent=Wy;we.StrictMode=Lk;we.Suspense=zk;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qk;we.act=UI;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=MI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Gy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)LI.call(e,l)&&!VI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uu,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:Uk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fk,_context:t},t.Consumer=t};we.createElement=FI;we.createFactory=function(t){var e=FI.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:$k,render:t}};we.isValidElement=Ky;we.lazy=function(t){return{$$typeof:qk,_payload:{_status:-1,_result:t},_init:Kk}};we.memo=function(t,e){return{$$typeof:Bk,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};we.unstable_act=UI;we.useCallback=function(t,e){return Bt.current.useCallback(t,e)};we.useContext=function(t){return Bt.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};we.useEffect=function(t,e){return Bt.current.useEffect(t,e)};we.useId=function(){return Bt.current.useId()};we.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return Bt.current.useMemo(t,e)};we.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};we.useRef=function(t){return Bt.current.useRef(t)};we.useState=function(t){return Bt.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return Bt.current.useTransition()};we.version="18.3.1";kI.exports=we;var y=kI.exports;const W=PI(y),Qy=Mk({__proto__:null,default:W},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk=y,Xk=Symbol.for("react.element"),Jk=Symbol.for("react.fragment"),Zk=Object.prototype.hasOwnProperty,eD=Yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tD={key:!0,ref:!0,__self:!0,__source:!0};function $I(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Zk.call(e,r)&&!tD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Xk,type:t,key:i,ref:o,props:s,_owner:eD.current}}vf.Fragment=Jk;vf.jsx=$I;vf.jsxs=$I;RI.exports=vf;var u=RI.exports,zI={exports:{}},_n={},BI={exports:{}},qI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,L){var G=F.length;F.push(L);e:for(;0<G;){var ne=G-1>>>1,Z=F[ne];if(0<s(Z,L))F[ne]=L,F[G]=Z,G=ne;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var L=F[0],G=F.pop();if(G!==L){F[0]=G;e:for(var ne=0,Z=F.length,de=Z>>>1;ne<de;){var ce=2*(ne+1)-1,ke=F[ce],Me=ce+1,me=F[Me];if(0>s(ke,G))Me<Z&&0>s(me,ke)?(F[ne]=me,F[Me]=G,ne=Me):(F[ne]=ke,F[ce]=G,ne=ce);else if(Me<Z&&0>s(me,G))F[ne]=me,F[Me]=G,ne=Me;else break e}}return L}function s(F,L){var G=F.sortIndex-L.sortIndex;return G!==0?G:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,m=3,p=!1,I=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=F)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function P(F){if(v=!1,b(F),!I)if(n(l)!==null)I=!0,H(D);else{var L=n(c);L!==null&&te(P,L.startTime-F)}}function D(F,L){I=!1,v&&(v=!1,_(T),T=-1),p=!0;var G=m;try{for(b(L),f=n(l);f!==null&&(!(f.expirationTime>L)||F&&!k());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var Z=ne(f.expirationTime<=L);L=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),b(L)}else r(l);f=n(l)}if(f!==null)var de=!0;else{var ce=n(c);ce!==null&&te(P,ce.startTime-L),de=!1}return de}finally{f=null,m=G,p=!1}}var j=!1,S=null,T=-1,C=5,A=-1;function k(){return!(t.unstable_now()-A<C)}function M(){if(S!==null){var F=t.unstable_now();A=F;var L=!0;try{L=S(!0,F)}finally{L?R():(j=!1,S=null)}}else j=!1}var R;if(typeof E=="function")R=function(){E(M)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=M,R=function(){re.postMessage(null)}}else R=function(){x(M,0)};function H(F){S=F,j||(j=!0,R())}function te(F,L){T=x(function(){F(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){I||p||(I=!0,H(D))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var G=m;m=L;try{return F()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var G=m;m=F;try{return L()}finally{m=G}},t.unstable_scheduleCallback=function(F,L,G){var ne=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ne+G:ne):G=ne,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,F={id:h++,callback:L,priorityLevel:F,startTime:G,expirationTime:Z,sortIndex:-1},G>ne?(F.sortIndex=G,e(c,F),n(l)===null&&F===n(c)&&(v?(_(T),T=-1):v=!0,te(P,G-ne))):(F.sortIndex=Z,e(l,F),I||p||(I=!0,H(D))),F},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(F){var L=m;return function(){var G=m;m=L;try{return F.apply(this,arguments)}finally{m=G}}}})(qI);BI.exports=qI;var nD=BI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rD=y,xn=nD;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WI=new Set,Ac={};function To(t,e){Da(t,e),Da(t+"Capture",e)}function Da(t,e){for(Ac[t]=e,t=0;t<e.length;t++)WI.add(e[t])}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=Object.prototype.hasOwnProperty,sD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gx={},yx={};function iD(t){return sg.call(yx,t)?!0:sg.call(gx,t)?!1:sD.test(t)?yx[t]=!0:(gx[t]=!0,!1)}function oD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aD(t,e,n,r){if(e===null||typeof e>"u"||oD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yy=/[\-:]([a-z])/g;function Xy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yy,Xy);St[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yy,Xy);St[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yy,Xy);St[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jy(t,e,n,r){var s=St.hasOwnProperty(e)?St[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aD(e,n,s,r)&&(n=null),r||s===null?iD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=rD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),HI=Symbol.for("react.provider"),GI=Symbol.for("react.context"),ev=Symbol.for("react.forward_ref"),og=Symbol.for("react.suspense"),ag=Symbol.for("react.suspense_list"),tv=Symbol.for("react.memo"),Os=Symbol.for("react.lazy"),KI=Symbol.for("react.offscreen"),vx=Symbol.iterator;function Vl(t){return t===null||typeof t!="object"?null:(t=vx&&t[vx]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,Ym;function Xl(t){if(Ym===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ym=e&&e[1]||""}return`
`+Ym+t}var Xm=!1;function Jm(t,e){if(!t||Xm)return"";Xm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function lD(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Jm(t.type,!1),t;case 11:return t=Jm(t.type.render,!1),t;case 1:return t=Jm(t.type,!0),t;default:return""}}function lg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Xo:return"Portal";case ig:return"Profiler";case Zy:return"StrictMode";case og:return"Suspense";case ag:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GI:return(t.displayName||"Context")+".Consumer";case HI:return(t._context.displayName||"Context")+".Provider";case ev:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tv:return e=t.displayName||null,e!==null?e:lg(t.type)||"Memo";case Os:e=t._payload,t=t._init;try{return lg(t(e))}catch{}}return null}function cD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lg(e);case 8:return e===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uD(t){var e=QI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=uD(t))}function YI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cg(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XI(t,e){e=e.checked,e!=null&&Jy(t,"checked",e,!1)}function ug(t,e){XI(t,e);var n=fi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dg(t,e.type,n):e.hasOwnProperty("defaultValue")&&dg(t,e.type,fi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dg(t,e,n){(e!=="number"||sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function ua(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function hg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _x(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Jl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fi(n)}}function JI(t,e){var n=fi(e.value),r=fi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ex(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ed,eT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ed=ed||document.createElement("div"),ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dD=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){dD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function tT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function nT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hD=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mg(t,e){if(e){if(hD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gg=null;function nv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yg=null,da=null,ha=null;function Ix(t){if(t=fu(t)){if(typeof yg!="function")throw Error(q(280));var e=t.stateNode;e&&(e=If(e),yg(t.stateNode,t.type,e))}}function rT(t){da?ha?ha.push(t):ha=[t]:da=t}function sT(){if(da){var t=da,e=ha;if(ha=da=null,Ix(t),e)for(t=0;t<e.length;t++)Ix(e[t])}}function iT(t,e){return t(e)}function oT(){}var Zm=!1;function aT(t,e,n){if(Zm)return t(e,n);Zm=!0;try{return iT(t,e,n)}finally{Zm=!1,(da!==null||ha!==null)&&(oT(),sT())}}function Pc(t,e){var n=t.stateNode;if(n===null)return null;var r=If(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var vg=!1;if(rs)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){vg=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{vg=!1}function fD(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var uc=!1,ih=null,oh=!1,wg=null,mD={onError:function(t){uc=!0,ih=t}};function pD(t,e,n,r,s,i,o,a,l){uc=!1,ih=null,fD.apply(mD,arguments)}function gD(t,e,n,r,s,i,o,a,l){if(pD.apply(this,arguments),uc){if(uc){var c=ih;uc=!1,ih=null}else throw Error(q(198));oh||(oh=!0,wg=c)}}function bo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tx(t){if(bo(t)!==t)throw Error(q(188))}function yD(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Tx(s),t;if(i===r)return Tx(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function cT(t){return t=yD(t),t!==null?uT(t):null}function uT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uT(t);if(e!==null)return e;t=t.sibling}return null}var dT=xn.unstable_scheduleCallback,bx=xn.unstable_cancelCallback,vD=xn.unstable_shouldYield,wD=xn.unstable_requestPaint,tt=xn.unstable_now,xD=xn.unstable_getCurrentPriorityLevel,rv=xn.unstable_ImmediatePriority,hT=xn.unstable_UserBlockingPriority,ah=xn.unstable_NormalPriority,_D=xn.unstable_LowPriority,fT=xn.unstable_IdlePriority,wf=null,Ar=null;function ED(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(wf,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:bD,ID=Math.log,TD=Math.LN2;function bD(t){return t>>>=0,t===0?32:31-(ID(t)/TD|0)|0}var td=64,nd=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zl(a):(i&=o,i!==0&&(r=Zl(i)))}else o=n&~s,o!==0?r=Zl(o):i!==0&&(r=Zl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),s=1<<n,r|=t[n],e&=~s;return r}function SD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-nr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=SD(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function xg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mT(){var t=td;return td<<=1,!(td&4194240)&&(td=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function du(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function AD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Pe=0;function pT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gT,iv,yT,vT,wT,_g=!1,rd=[],Js=null,Zs=null,ei=null,Rc=new Map,kc=new Map,Vs=[],ND="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sx(t,e){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Ul(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=fu(e),e!==null&&iv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PD(t,e,n,r,s){switch(e){case"focusin":return Js=Ul(Js,t,e,n,r,s),!0;case"dragenter":return Zs=Ul(Zs,t,e,n,r,s),!0;case"mouseover":return ei=Ul(ei,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rc.set(i,Ul(Rc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kc.set(i,Ul(kc.get(i)||null,t,e,n,r,s)),!0}return!1}function xT(t){var e=Wi(t.target);if(e!==null){var n=bo(e);if(n!==null){if(e=n.tag,e===13){if(e=lT(n),e!==null){t.blockedOn=e,wT(t.priority,function(){yT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Eg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gg=r,n.target.dispatchEvent(r),gg=null}else return e=fu(n),e!==null&&iv(e),t.blockedOn=n,!1;e.shift()}return!0}function Cx(t,e,n){kd(t)&&n.delete(e)}function RD(){_g=!1,Js!==null&&kd(Js)&&(Js=null),Zs!==null&&kd(Zs)&&(Zs=null),ei!==null&&kd(ei)&&(ei=null),Rc.forEach(Cx),kc.forEach(Cx)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,_g||(_g=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,RD)))}function Dc(t){function e(s){return $l(s,t)}if(0<rd.length){$l(rd[0],t);for(var n=1;n<rd.length;n++){var r=rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Js!==null&&$l(Js,t),Zs!==null&&$l(Zs,t),ei!==null&&$l(ei,t),Rc.forEach(e),kc.forEach(e),n=0;n<Vs.length;n++)r=Vs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vs.length&&(n=Vs[0],n.blockedOn===null);)xT(n),n.blockedOn===null&&Vs.shift()}var fa=ps.ReactCurrentBatchConfig,ch=!0;function kD(t,e,n,r){var s=Pe,i=fa.transition;fa.transition=null;try{Pe=1,ov(t,e,n,r)}finally{Pe=s,fa.transition=i}}function DD(t,e,n,r){var s=Pe,i=fa.transition;fa.transition=null;try{Pe=4,ov(t,e,n,r)}finally{Pe=s,fa.transition=i}}function ov(t,e,n,r){if(ch){var s=Eg(t,e,n,r);if(s===null)up(t,e,r,uh,n),Sx(t,r);else if(PD(s,t,e,n,r))r.stopPropagation();else if(Sx(t,r),e&4&&-1<ND.indexOf(t)){for(;s!==null;){var i=fu(s);if(i!==null&&gT(i),i=Eg(t,e,n,r),i===null&&up(t,e,r,uh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else up(t,e,r,null,n)}}var uh=null;function Eg(t,e,n,r){if(uh=null,t=nv(r),t=Wi(t),t!==null)if(e=bo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uh=t,null}function _T(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xD()){case rv:return 1;case hT:return 4;case ah:case _D:return 16;case fT:return 536870912;default:return 16}default:return 16}}var Ks=null,av=null,Dd=null;function ET(){if(Dd)return Dd;var t,e=av,n=e.length,r,s="value"in Ks?Ks.value:Ks.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Dd=s.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sd(){return!0}function Ax(){return!1}function En(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sd:Ax,this.isPropagationStopped=Ax,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),e}var rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lv=En(rl),hu=Ge({},rl,{view:0,detail:0}),MD=En(hu),tp,np,zl,xf=Ge({},hu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(tp=t.screenX-zl.screenX,np=t.screenY-zl.screenY):np=tp=0,zl=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),Nx=En(xf),jD=Ge({},xf,{dataTransfer:0}),OD=En(jD),LD=Ge({},hu,{relatedTarget:0}),rp=En(LD),VD=Ge({},rl,{animationName:0,elapsedTime:0,pseudoElement:0}),FD=En(VD),UD=Ge({},rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$D=En(UD),zD=Ge({},rl,{data:0}),Px=En(zD),BD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WD[t])?!!e[t]:!1}function cv(){return HD}var GD=Ge({},hu,{key:function(t){if(t.key){var e=BD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cv,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KD=En(GD),QD=Ge({},xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rx=En(QD),YD=Ge({},hu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cv}),XD=En(YD),JD=Ge({},rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZD=En(JD),eM=Ge({},xf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tM=En(eM),nM=[9,13,27,32],uv=rs&&"CompositionEvent"in window,dc=null;rs&&"documentMode"in document&&(dc=document.documentMode);var rM=rs&&"TextEvent"in window&&!dc,IT=rs&&(!uv||dc&&8<dc&&11>=dc),kx=" ",Dx=!1;function TT(t,e){switch(t){case"keyup":return nM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function sM(t,e){switch(t){case"compositionend":return bT(e);case"keypress":return e.which!==32?null:(Dx=!0,kx);case"textInput":return t=e.data,t===kx&&Dx?null:t;default:return null}}function iM(t,e){if(Zo)return t==="compositionend"||!uv&&TT(t,e)?(t=ET(),Dd=av=Ks=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return IT&&e.locale!=="ko"?null:e.data;default:return null}}var oM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oM[t.type]:e==="textarea"}function ST(t,e,n,r){rT(r),e=dh(e,"onChange"),0<e.length&&(n=new lv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,Mc=null;function aM(t){LT(t,0)}function _f(t){var e=na(t);if(YI(e))return t}function lM(t,e){if(t==="change")return e}var CT=!1;if(rs){var sp;if(rs){var ip="oninput"in document;if(!ip){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),ip=typeof jx.oninput=="function"}sp=ip}else sp=!1;CT=sp&&(!document.documentMode||9<document.documentMode)}function Ox(){hc&&(hc.detachEvent("onpropertychange",AT),Mc=hc=null)}function AT(t){if(t.propertyName==="value"&&_f(Mc)){var e=[];ST(e,Mc,t,nv(t)),aT(aM,e)}}function cM(t,e,n){t==="focusin"?(Ox(),hc=e,Mc=n,hc.attachEvent("onpropertychange",AT)):t==="focusout"&&Ox()}function uM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _f(Mc)}function dM(t,e){if(t==="click")return _f(e)}function hM(t,e){if(t==="input"||t==="change")return _f(e)}function fM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:fM;function jc(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sg.call(e,s)||!ir(t[s],e[s]))return!1}return!0}function Lx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vx(t,e){var n=Lx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lx(n)}}function NT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?NT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PT(){for(var t=window,e=sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sh(t.document)}return e}function dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mM(t){var e=PT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&NT(n.ownerDocument.documentElement,n)){if(r!==null&&dv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Vx(n,i);var o=Vx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pM=rs&&"documentMode"in document&&11>=document.documentMode,ea=null,Ig=null,fc=null,Tg=!1;function Fx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tg||ea==null||ea!==sh(r)||(r=ea,"selectionStart"in r&&dv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&jc(fc,r)||(fc=r,r=dh(Ig,"onSelect"),0<r.length&&(e=new lv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ea)))}function id(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ta={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},op={},RT={};rs&&(RT=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Ef(t){if(op[t])return op[t];if(!ta[t])return t;var e=ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RT)return op[t]=e[n];return t}var kT=Ef("animationend"),DT=Ef("animationiteration"),MT=Ef("animationstart"),jT=Ef("transitionend"),OT=new Map,Ux="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){OT.set(t,e),To(e,[t])}for(var ap=0;ap<Ux.length;ap++){var lp=Ux[ap],gM=lp.toLowerCase(),yM=lp[0].toUpperCase()+lp.slice(1);bi(gM,"on"+yM)}bi(kT,"onAnimationEnd");bi(DT,"onAnimationIteration");bi(MT,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(jT,"onTransitionEnd");Da("onMouseEnter",["mouseout","mouseover"]);Da("onMouseLeave",["mouseout","mouseover"]);Da("onPointerEnter",["pointerout","pointerover"]);Da("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function $x(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gD(r,e,void 0,t),t.currentTarget=null}function LT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;$x(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;$x(s,a,c),i=l}}}if(oh)throw t=wg,oh=!1,wg=null,t}function Ue(t,e){var n=e[Ng];n===void 0&&(n=e[Ng]=new Set);var r=t+"__bubble";n.has(r)||(VT(e,t,2,!1),n.add(r))}function cp(t,e,n){var r=0;e&&(r|=4),VT(n,t,r,e)}var od="_reactListening"+Math.random().toString(36).slice(2);function Oc(t){if(!t[od]){t[od]=!0,WI.forEach(function(n){n!=="selectionchange"&&(vM.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[od]||(e[od]=!0,cp("selectionchange",!1,e))}}function VT(t,e,n,r){switch(_T(e)){case 1:var s=kD;break;case 4:s=DD;break;default:s=ov}n=s.bind(null,e,n,t),s=void 0,!vg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function up(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}aT(function(){var c=i,h=nv(n),f=[];e:{var m=OT.get(t);if(m!==void 0){var p=lv,I=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":p=KD;break;case"focusin":I="focus",p=rp;break;case"focusout":I="blur",p=rp;break;case"beforeblur":case"afterblur":p=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XD;break;case kT:case DT:case MT:p=FD;break;case jT:p=ZD;break;case"scroll":p=MD;break;case"wheel":p=tM;break;case"copy":case"cut":case"paste":p=$D;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Rx}var v=(e&4)!==0,x=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var E=c,b;E!==null;){b=E;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,_!==null&&(P=Pc(E,_),P!=null&&v.push(Lc(E,P,b)))),x)break;E=E.return}0<v.length&&(m=new p(m,I,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==gg&&(I=n.relatedTarget||n.fromElement)&&(Wi(I)||I[ss]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(I=n.relatedTarget||n.toElement,p=c,I=I?Wi(I):null,I!==null&&(x=bo(I),I!==x||I.tag!==5&&I.tag!==6)&&(I=null)):(p=null,I=c),p!==I)){if(v=Nx,P="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=Rx,P="onPointerLeave",_="onPointerEnter",E="pointer"),x=p==null?m:na(p),b=I==null?m:na(I),m=new v(P,E+"leave",p,n,h),m.target=x,m.relatedTarget=b,P=null,Wi(h)===c&&(v=new v(_,E+"enter",I,n,h),v.target=b,v.relatedTarget=x,P=v),x=P,p&&I)t:{for(v=p,_=I,E=0,b=v;b;b=zo(b))E++;for(b=0,P=_;P;P=zo(P))b++;for(;0<E-b;)v=zo(v),E--;for(;0<b-E;)_=zo(_),b--;for(;E--;){if(v===_||_!==null&&v===_.alternate)break t;v=zo(v),_=zo(_)}v=null}else v=null;p!==null&&zx(f,m,p,v,!1),I!==null&&x!==null&&zx(f,x,I,v,!0)}}e:{if(m=c?na(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var D=lM;else if(Mx(m))if(CT)D=hM;else{D=uM;var j=cM}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=dM);if(D&&(D=D(t,c))){ST(f,D,n,h);break e}j&&j(t,m,c),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&dg(m,"number",m.value)}switch(j=c?na(c):window,t){case"focusin":(Mx(j)||j.contentEditable==="true")&&(ea=j,Ig=c,fc=null);break;case"focusout":fc=Ig=ea=null;break;case"mousedown":Tg=!0;break;case"contextmenu":case"mouseup":case"dragend":Tg=!1,Fx(f,n,h);break;case"selectionchange":if(pM)break;case"keydown":case"keyup":Fx(f,n,h)}var S;if(uv)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Zo?TT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(IT&&n.locale!=="ko"&&(Zo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Zo&&(S=ET()):(Ks=h,av="value"in Ks?Ks.value:Ks.textContent,Zo=!0)),j=dh(c,T),0<j.length&&(T=new Px(T,t,null,n,h),f.push({event:T,listeners:j}),S?T.data=S:(S=bT(n),S!==null&&(T.data=S)))),(S=rM?sM(t,n):iM(t,n))&&(c=dh(c,"onBeforeInput"),0<c.length&&(h=new Px("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=S))}LT(f,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pc(t,n),i!=null&&r.unshift(Lc(t,i,s)),i=Pc(t,e),i!=null&&r.push(Lc(t,i,s))),t=t.return}return r}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Pc(n,i),l!=null&&o.unshift(Lc(n,l,a))):s||(l=Pc(n,i),l!=null&&o.push(Lc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wM=/\r\n?/g,xM=/\u0000|\uFFFD/g;function Bx(t){return(typeof t=="string"?t:""+t).replace(wM,`
`).replace(xM,"")}function ad(t,e,n){if(e=Bx(e),Bx(t)!==e&&n)throw Error(q(425))}function hh(){}var bg=null,Sg=null;function Cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ag=typeof setTimeout=="function"?setTimeout:void 0,_M=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,EM=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(t){return qx.resolve(null).then(t).catch(IM)}:Ag;function IM(t){setTimeout(function(){throw t})}function dp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dc(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sl=Math.random().toString(36).slice(2),br="__reactFiber$"+sl,Vc="__reactProps$"+sl,ss="__reactContainer$"+sl,Ng="__reactEvents$"+sl,TM="__reactListeners$"+sl,bM="__reactHandles$"+sl;function Wi(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ss]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wx(t);t!==null;){if(n=t[br])return n;t=Wx(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[br]||t[ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function If(t){return t[Vc]||null}var Pg=[],ra=-1;function Si(t){return{current:t}}function $e(t){0>ra||(t.current=Pg[ra],Pg[ra]=null,ra--)}function Le(t,e){ra++,Pg[ra]=t.current,t.current=e}var mi={},Ot=Si(mi),Zt=Si(!1),co=mi;function Ma(t,e){var n=t.type.contextTypes;if(!n)return mi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function en(t){return t=t.childContextTypes,t!=null}function fh(){$e(Zt),$e(Ot)}function Hx(t,e,n){if(Ot.current!==mi)throw Error(q(168));Le(Ot,e),Le(Zt,n)}function FT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,cD(t)||"Unknown",s));return Ge({},n,r)}function mh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mi,co=Ot.current,Le(Ot,t),Le(Zt,Zt.current),!0}function Gx(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=FT(t,e,co),r.__reactInternalMemoizedMergedChildContext=t,$e(Zt),$e(Ot),Le(Ot,t)):$e(Zt),Le(Zt,n)}var Gr=null,Tf=!1,hp=!1;function UT(t){Gr===null?Gr=[t]:Gr.push(t)}function SM(t){Tf=!0,UT(t)}function Ci(){if(!hp&&Gr!==null){hp=!0;var t=0,e=Pe;try{var n=Gr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,Tf=!1}catch(s){throw Gr!==null&&(Gr=Gr.slice(t+1)),dT(rv,Ci),s}finally{Pe=e,hp=!1}}return null}var sa=[],ia=0,ph=null,gh=0,An=[],Nn=0,uo=null,Xr=1,Jr="";function $i(t,e){sa[ia++]=gh,sa[ia++]=ph,ph=t,gh=e}function $T(t,e,n){An[Nn++]=Xr,An[Nn++]=Jr,An[Nn++]=uo,uo=t;var r=Xr;t=Jr;var s=32-nr(r)-1;r&=~(1<<s),n+=1;var i=32-nr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xr=1<<32-nr(e)+s|n<<s|r,Jr=i+t}else Xr=1<<i|n<<s|r,Jr=t}function hv(t){t.return!==null&&($i(t,1),$T(t,1,0))}function fv(t){for(;t===ph;)ph=sa[--ia],sa[ia]=null,gh=sa[--ia],sa[ia]=null;for(;t===uo;)uo=An[--Nn],An[Nn]=null,Jr=An[--Nn],An[Nn]=null,Xr=An[--Nn],An[Nn]=null}var gn=null,pn=null,Be=!1,Zn=null;function zT(t,e){var n=Dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gn=t,pn=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=uo!==null?{id:Xr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gn=t,pn=null,!0):!1;default:return!1}}function Rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kg(t){if(Be){var e=pn;if(e){var n=e;if(!Kx(t,e)){if(Rg(t))throw Error(q(418));e=ti(n.nextSibling);var r=gn;e&&Kx(t,e)?zT(r,n):(t.flags=t.flags&-4097|2,Be=!1,gn=t)}}else{if(Rg(t))throw Error(q(418));t.flags=t.flags&-4097|2,Be=!1,gn=t}}}function Qx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gn=t}function ld(t){if(t!==gn)return!1;if(!Be)return Qx(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cg(t.type,t.memoizedProps)),e&&(e=pn)){if(Rg(t))throw BT(),Error(q(418));for(;e;)zT(t,e),e=ti(e.nextSibling)}if(Qx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=gn?ti(t.stateNode.nextSibling):null;return!0}function BT(){for(var t=pn;t;)t=ti(t.nextSibling)}function ja(){pn=gn=null,Be=!1}function mv(t){Zn===null?Zn=[t]:Zn.push(t)}var CM=ps.ReactCurrentBatchConfig;function Bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function cd(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yx(t){var e=t._init;return e(t._payload)}function qT(t){function e(_,E){if(t){var b=_.deletions;b===null?(_.deletions=[E],_.flags|=16):b.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function s(_,E){return _=ii(_,E),_.index=0,_.sibling=null,_}function i(_,E,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<E?(_.flags|=2,E):b):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,b,P){return E===null||E.tag!==6?(E=wp(b,_.mode,P),E.return=_,E):(E=s(E,b),E.return=_,E)}function l(_,E,b,P){var D=b.type;return D===Jo?h(_,E,b.props.children,P,b.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Os&&Yx(D)===E.type)?(P=s(E,b.props),P.ref=Bl(_,E,b),P.return=_,P):(P=$d(b.type,b.key,b.props,null,_.mode,P),P.ref=Bl(_,E,b),P.return=_,P)}function c(_,E,b,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=xp(b,_.mode,P),E.return=_,E):(E=s(E,b.children||[]),E.return=_,E)}function h(_,E,b,P,D){return E===null||E.tag!==7?(E=io(b,_.mode,P,D),E.return=_,E):(E=s(E,b),E.return=_,E)}function f(_,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=wp(""+E,_.mode,b),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ju:return b=$d(E.type,E.key,E.props,null,_.mode,b),b.ref=Bl(_,null,E),b.return=_,b;case Xo:return E=xp(E,_.mode,b),E.return=_,E;case Os:var P=E._init;return f(_,P(E._payload),b)}if(Jl(E)||Vl(E))return E=io(E,_.mode,b,null),E.return=_,E;cd(_,E)}return null}function m(_,E,b,P){var D=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return D!==null?null:a(_,E,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:return b.key===D?l(_,E,b,P):null;case Xo:return b.key===D?c(_,E,b,P):null;case Os:return D=b._init,m(_,E,D(b._payload),P)}if(Jl(b)||Vl(b))return D!==null?null:h(_,E,b,P,null);cd(_,b)}return null}function p(_,E,b,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(b)||null,a(E,_,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ju:return _=_.get(P.key===null?b:P.key)||null,l(E,_,P,D);case Xo:return _=_.get(P.key===null?b:P.key)||null,c(E,_,P,D);case Os:var j=P._init;return p(_,E,b,j(P._payload),D)}if(Jl(P)||Vl(P))return _=_.get(b)||null,h(E,_,P,D,null);cd(E,P)}return null}function I(_,E,b,P){for(var D=null,j=null,S=E,T=E=0,C=null;S!==null&&T<b.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var A=m(_,S,b[T],P);if(A===null){S===null&&(S=C);break}t&&S&&A.alternate===null&&e(_,S),E=i(A,E,T),j===null?D=A:j.sibling=A,j=A,S=C}if(T===b.length)return n(_,S),Be&&$i(_,T),D;if(S===null){for(;T<b.length;T++)S=f(_,b[T],P),S!==null&&(E=i(S,E,T),j===null?D=S:j.sibling=S,j=S);return Be&&$i(_,T),D}for(S=r(_,S);T<b.length;T++)C=p(S,_,T,b[T],P),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),E=i(C,E,T),j===null?D=C:j.sibling=C,j=C);return t&&S.forEach(function(k){return e(_,k)}),Be&&$i(_,T),D}function v(_,E,b,P){var D=Vl(b);if(typeof D!="function")throw Error(q(150));if(b=D.call(b),b==null)throw Error(q(151));for(var j=D=null,S=E,T=E=0,C=null,A=b.next();S!==null&&!A.done;T++,A=b.next()){S.index>T?(C=S,S=null):C=S.sibling;var k=m(_,S,A.value,P);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(_,S),E=i(k,E,T),j===null?D=k:j.sibling=k,j=k,S=C}if(A.done)return n(_,S),Be&&$i(_,T),D;if(S===null){for(;!A.done;T++,A=b.next())A=f(_,A.value,P),A!==null&&(E=i(A,E,T),j===null?D=A:j.sibling=A,j=A);return Be&&$i(_,T),D}for(S=r(_,S);!A.done;T++,A=b.next())A=p(S,_,T,A.value,P),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?T:A.key),E=i(A,E,T),j===null?D=A:j.sibling=A,j=A);return t&&S.forEach(function(M){return e(_,M)}),Be&&$i(_,T),D}function x(_,E,b,P){if(typeof b=="object"&&b!==null&&b.type===Jo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ju:e:{for(var D=b.key,j=E;j!==null;){if(j.key===D){if(D=b.type,D===Jo){if(j.tag===7){n(_,j.sibling),E=s(j,b.props.children),E.return=_,_=E;break e}}else if(j.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Os&&Yx(D)===j.type){n(_,j.sibling),E=s(j,b.props),E.ref=Bl(_,j,b),E.return=_,_=E;break e}n(_,j);break}else e(_,j);j=j.sibling}b.type===Jo?(E=io(b.props.children,_.mode,P,b.key),E.return=_,_=E):(P=$d(b.type,b.key,b.props,null,_.mode,P),P.ref=Bl(_,E,b),P.return=_,_=P)}return o(_);case Xo:e:{for(j=b.key;E!==null;){if(E.key===j)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(_,E.sibling),E=s(E,b.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=xp(b,_.mode,P),E.return=_,_=E}return o(_);case Os:return j=b._init,x(_,E,j(b._payload),P)}if(Jl(b))return I(_,E,b,P);if(Vl(b))return v(_,E,b,P);cd(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(_,E.sibling),E=s(E,b),E.return=_,_=E):(n(_,E),E=wp(b,_.mode,P),E.return=_,_=E),o(_)):n(_,E)}return x}var Oa=qT(!0),WT=qT(!1),yh=Si(null),vh=null,oa=null,pv=null;function gv(){pv=oa=vh=null}function yv(t){var e=yh.current;$e(yh),t._currentValue=e}function Dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ma(t,e){vh=t,pv=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function Ln(t){var e=t._currentValue;if(pv!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(vh===null)throw Error(q(308));oa=t,vh.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var Hi=null;function vv(t){Hi===null?Hi=[t]:Hi.push(t)}function HT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,vv(e)):(n.next=s.next,s.next=n),e.interleaved=n,is(t,r)}function is(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ls=!1;function wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,is(t,n)}return s=r.interleaved,s===null?(e.next=e,vv(r)):(e.next=s.next,s.next=e),r.interleaved=e,is(t,n)}function jd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}function Xx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wh(t,e,n,r){var s=t.updateQueue;Ls=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,v=a;switch(m=e,p=n,v.tag){case 1:if(I=v.payload,typeof I=="function"){f=I.call(p,f,m);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=v.payload,m=typeof I=="function"?I.call(p,f,m):I,m==null)break e;f=Ge({},f,m);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fo|=o,t.lanes=o,t.memoizedState=f}}function Jx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var mu={},Nr=Si(mu),Fc=Si(mu),Uc=Si(mu);function Gi(t){if(t===mu)throw Error(q(174));return t}function xv(t,e){switch(Le(Uc,e),Le(Fc,t),Le(Nr,mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fg(e,t)}$e(Nr),Le(Nr,e)}function La(){$e(Nr),$e(Fc),$e(Uc)}function KT(t){Gi(Uc.current);var e=Gi(Nr.current),n=fg(e,t.type);e!==n&&(Le(Fc,t),Le(Nr,n))}function _v(t){Fc.current===t&&($e(Nr),$e(Fc))}var We=Si(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fp=[];function Ev(){for(var t=0;t<fp.length;t++)fp[t]._workInProgressVersionPrimary=null;fp.length=0}var Od=ps.ReactCurrentDispatcher,mp=ps.ReactCurrentBatchConfig,ho=0,He=null,dt=null,vt=null,_h=!1,mc=!1,$c=0,AM=0;function Nt(){throw Error(q(321))}function Iv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function Tv(t,e,n,r,s,i){if(ho=i,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Od.current=t===null||t.memoizedState===null?kM:DM,t=n(r,s),mc){i=0;do{if(mc=!1,$c=0,25<=i)throw Error(q(301));i+=1,vt=dt=null,e.updateQueue=null,Od.current=MM,t=n(r,s)}while(mc)}if(Od.current=Eh,e=dt!==null&&dt.next!==null,ho=0,vt=dt=He=null,_h=!1,e)throw Error(q(300));return t}function bv(){var t=$c!==0;return $c=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?He.memoizedState=vt=t:vt=vt.next=t,vt}function Vn(){if(dt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=vt===null?He.memoizedState:vt.next;if(e!==null)vt=e,dt=t;else{if(t===null)throw Error(q(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?He.memoizedState=vt=t:vt=vt.next=t}return vt}function zc(t,e){return typeof e=="function"?e(t):e}function pp(t){var e=Vn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((ho&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,He.lanes|=h,fo|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ir(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,He.lanes|=i,fo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gp(t){var e=Vn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ir(i,e.memoizedState)||(Xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function QT(){}function YT(t,e){var n=He,r=Vn(),s=e(),i=!ir(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,Sv(ZT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Bc(9,JT.bind(null,n,r,s,e),void 0,null),wt===null)throw Error(q(349));ho&30||XT(n,e,s)}return s}function XT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JT(t,e,n,r){e.value=n,e.getSnapshot=r,eb(e)&&tb(t)}function ZT(t,e,n){return n(function(){eb(e)&&tb(t)})}function eb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function tb(t){var e=is(t,1);e!==null&&rr(e,t,1,-1)}function Zx(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=RM.bind(null,He,t),[e.memoizedState,t]}function Bc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nb(){return Vn().memoizedState}function Ld(t,e,n,r){var s=xr();He.flags|=t,s.memoizedState=Bc(1|e,n,void 0,r===void 0?null:r)}function bf(t,e,n,r){var s=Vn();r=r===void 0?null:r;var i=void 0;if(dt!==null){var o=dt.memoizedState;if(i=o.destroy,r!==null&&Iv(r,o.deps)){s.memoizedState=Bc(e,n,i,r);return}}He.flags|=t,s.memoizedState=Bc(1|e,n,i,r)}function e_(t,e){return Ld(8390656,8,t,e)}function Sv(t,e){return bf(2048,8,t,e)}function rb(t,e){return bf(4,2,t,e)}function sb(t,e){return bf(4,4,t,e)}function ib(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ob(t,e,n){return n=n!=null?n.concat([t]):null,bf(4,4,ib.bind(null,e,t),n)}function Cv(){}function ab(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lb(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cb(t,e,n){return ho&21?(ir(n,e)||(n=mT(),He.lanes|=n,fo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function NM(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=mp.transition;mp.transition={};try{t(!1),e()}finally{Pe=n,mp.transition=r}}function ub(){return Vn().memoizedState}function PM(t,e,n){var r=si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},db(t))hb(e,n);else if(n=HT(t,e,n,r),n!==null){var s=zt();rr(n,t,r,s),fb(n,e,r)}}function RM(t,e,n){var r=si(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(db(t))hb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ir(a,o)){var l=e.interleaved;l===null?(s.next=s,vv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=HT(t,e,s,r),n!==null&&(s=zt(),rr(n,t,r,s),fb(n,e,r))}}function db(t){var e=t.alternate;return t===He||e!==null&&e===He}function hb(t,e){mc=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sv(t,n)}}var Eh={readContext:Ln,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},kM={readContext:Ln,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Ln,useEffect:e_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ld(4194308,4,ib.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ld(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ld(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PM.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:Zx,useDebugValue:Cv,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=Zx(!1),e=t[0];return t=NM.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,s=xr();if(Be){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),wt===null)throw Error(q(349));ho&30||XT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,e_(ZT.bind(null,r,i,t),[t]),r.flags|=2048,Bc(9,JT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xr(),e=wt.identifierPrefix;if(Be){var n=Jr,r=Xr;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DM={readContext:Ln,useCallback:ab,useContext:Ln,useEffect:Sv,useImperativeHandle:ob,useInsertionEffect:rb,useLayoutEffect:sb,useMemo:lb,useReducer:pp,useRef:nb,useState:function(){return pp(zc)},useDebugValue:Cv,useDeferredValue:function(t){var e=Vn();return cb(e,dt.memoizedState,t)},useTransition:function(){var t=pp(zc)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:QT,useSyncExternalStore:YT,useId:ub,unstable_isNewReconciler:!1},MM={readContext:Ln,useCallback:ab,useContext:Ln,useEffect:Sv,useImperativeHandle:ob,useInsertionEffect:rb,useLayoutEffect:sb,useMemo:lb,useReducer:gp,useRef:nb,useState:function(){return gp(zc)},useDebugValue:Cv,useDeferredValue:function(t){var e=Vn();return dt===null?e.memoizedState=t:cb(e,dt.memoizedState,t)},useTransition:function(){var t=gp(zc)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:QT,useSyncExternalStore:YT,useId:ub,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sf={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),s=si(t),i=ts(r,s);i.payload=e,n!=null&&(i.callback=n),e=ni(t,i,s),e!==null&&(rr(e,t,s,r),jd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),s=si(t),i=ts(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ni(t,i,s),e!==null&&(rr(e,t,s,r),jd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=si(t),s=ts(n,r);s.tag=2,e!=null&&(s.callback=e),e=ni(t,s,r),e!==null&&(rr(e,t,r,n),jd(e,t,r))}};function t_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(s,i):!0}function mb(t,e,n){var r=!1,s=mi,i=e.contextType;return typeof i=="object"&&i!==null?i=Ln(i):(s=en(e)?co:Ot.current,r=e.contextTypes,i=(r=r!=null)?Ma(t,s):mi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function n_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sf.enqueueReplaceState(e,e.state,null)}function jg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ln(i):(i=en(e)?co:Ot.current,s.context=Ma(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Sf.enqueueReplaceState(s,s.state,null),wh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Va(t,e){try{var n="",r=e;do n+=lD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Og(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jM=typeof WeakMap=="function"?WeakMap:Map;function pb(t,e,n){n=ts(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,Hg=r),Og(t,e)},n}function gb(t,e,n){n=ts(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Og(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Og(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function r_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QM.bind(null,t,e,n),e.then(t,t))}function s_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function i_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ts(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var OM=ps.ReactCurrentOwner,Xt=!1;function Ut(t,e,n,r){e.child=t===null?WT(e,null,n,r):Oa(e,t.child,n,r)}function o_(t,e,n,r,s){n=n.render;var i=e.ref;return ma(e,s),r=Tv(t,e,n,r,i,s),n=bv(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,os(t,e,s)):(Be&&n&&hv(e),e.flags|=1,Ut(t,e,r,s),e.child)}function a_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!jv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,yb(t,e,i,r,s)):(t=$d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(o,r)&&t.ref===e.ref)return os(t,e,s)}return e.flags|=1,t=ii(i,r),t.ref=e.ref,t.return=e,e.child=t}function yb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jc(i,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,os(t,e,s)}return Lg(t,e,n,r,s)}function vb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(la,fn),fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(la,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(la,fn),fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(la,fn),fn|=r;return Ut(t,e,s,n),e.child}function wb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lg(t,e,n,r,s){var i=en(n)?co:Ot.current;return i=Ma(e,i),ma(e,s),n=Tv(t,e,n,r,i,s),r=bv(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,os(t,e,s)):(Be&&r&&hv(e),e.flags|=1,Ut(t,e,n,s),e.child)}function l_(t,e,n,r,s){if(en(n)){var i=!0;mh(e)}else i=!1;if(ma(e,s),e.stateNode===null)Vd(t,e),mb(e,n,r),jg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ln(c):(c=en(n)?co:Ot.current,c=Ma(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&n_(e,o,r,c),Ls=!1;var m=e.memoizedState;o.state=m,wh(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Zt.current||Ls?(typeof h=="function"&&(Mg(e,n,h,r),l=e.memoizedState),(a=Ls||t_(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=en(n)?co:Ot.current,l=Ma(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&n_(e,o,r,l),Ls=!1,m=e.memoizedState,o.state=m,wh(e,r,o,s);var I=e.memoizedState;a!==f||m!==I||Zt.current||Ls?(typeof p=="function"&&(Mg(e,n,p,r),I=e.memoizedState),(c=Ls||t_(e,n,c,r,m,I,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Vg(t,e,n,r,i,s)}function Vg(t,e,n,r,s,i){wb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gx(e,n,!1),os(t,e,i);r=e.stateNode,OM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Oa(e,t.child,null,i),e.child=Oa(e,null,a,i)):Ut(t,e,a,i),e.memoizedState=r.state,s&&Gx(e,n,!0),e.child}function xb(t){var e=t.stateNode;e.pendingContext?Hx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hx(t,e.context,!1),xv(t,e.containerInfo)}function c_(t,e,n,r,s){return ja(),mv(s),e.flags|=256,Ut(t,e,n,r),e.child}var Fg={dehydrated:null,treeContext:null,retryLane:0};function Ug(t){return{baseLanes:t,cachePool:null,transitions:null}}function _b(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(We,s&1),t===null)return kg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Nf(o,r,0,null),t=io(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Ug(n),e.memoizedState=Fg,t):Av(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return LM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ii(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ii(a,i):(i=io(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Ug(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Fg,r}return i=t.child,t=i.sibling,r=ii(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Av(t,e){return e=Nf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ud(t,e,n,r){return r!==null&&mv(r),Oa(e,t.child,null,n),t=Av(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yp(Error(q(422))),ud(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Nf({mode:"visible",children:r.children},s,0,null),i=io(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Oa(e,t.child,null,o),e.child.memoizedState=Ug(o),e.memoizedState=Fg,i);if(!(e.mode&1))return ud(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=yp(i,r,void 0),ud(t,e,o,r)}if(a=(o&t.childLanes)!==0,Xt||a){if(r=wt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,is(t,s),rr(r,t,s,-1))}return Mv(),r=yp(Error(q(421))),ud(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=ti(s.nextSibling),gn=e,Be=!0,Zn=null,t!==null&&(An[Nn++]=Xr,An[Nn++]=Jr,An[Nn++]=uo,Xr=t.id,Jr=t.overflow,uo=e),e=Av(e,r.children),e.flags|=4096,e)}function u_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dg(t.return,e,n)}function vp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Eb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ut(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,n,e);else if(t.tag===19)u_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vp(e,!0,n,null,i);break;case"together":vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VM(t,e,n){switch(e.tag){case 3:xb(e),ja();break;case 5:KT(e);break;case 1:en(e.type)&&mh(e);break;case 4:xv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(yh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?_b(t,e,n):(Le(We,We.current&1),t=os(t,e,n),t!==null?t.sibling:null);Le(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Eb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,vb(t,e,n)}return os(t,e,n)}var Ib,$g,Tb,bb;Ib=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$g=function(){};Tb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Gi(Nr.current);var i=null;switch(n){case"input":s=cg(t,s),r=cg(t,r),i=[];break;case"select":s=Ge({},s,{value:void 0}),r=Ge({},r,{value:void 0}),i=[];break;case"textarea":s=hg(t,s),r=hg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hh)}mg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ac.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ac.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};bb=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FM(t,e,n){var r=e.pendingProps;switch(fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return en(e.type)&&fh(),Pt(e),null;case 3:return r=e.stateNode,La(),$e(Zt),$e(Ot),Ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ld(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(Qg(Zn),Zn=null))),$g(t,e),Pt(e),null;case 5:_v(e);var s=Gi(Uc.current);if(n=e.type,t!==null&&e.stateNode!=null)Tb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Pt(e),null}if(t=Gi(Nr.current),ld(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[br]=e,r[Vc]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<ec.length;s++)Ue(ec[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":wx(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":_x(r,i),Ue("invalid",r)}mg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ad(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ad(r.textContent,a,t),s=["children",""+a]):Ac.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Zu(r),xx(r,i,!0);break;case"textarea":Zu(r),Ex(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[Vc]=r,Ib(t,e,!1,!1),e.stateNode=t;e:{switch(o=pg(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<ec.length;s++)Ue(ec[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":wx(t,r),s=cg(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ge({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":_x(t,r),s=hg(t,r),Ue("invalid",t);break;default:s=r}mg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?nT(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eT(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nc(t,l):typeof l=="number"&&Nc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ac.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&Jy(t,i,l,o))}switch(n){case"input":Zu(t),xx(t,r,!1);break;case"textarea":Zu(t),Ex(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ua(t,!!r.multiple,i,!1):r.defaultValue!=null&&ua(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)bb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Gi(Uc.current),Gi(Nr.current),ld(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(i=r.nodeValue!==n)&&(t=gn,t!==null))switch(t.tag){case 3:ad(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ad(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Pt(e),null;case 13:if($e(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&pn!==null&&e.mode&1&&!(e.flags&128))BT(),ja(),e.flags|=98560,i=!1;else if(i=ld(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[br]=e}else ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Zn!==null&&(Qg(Zn),Zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ht===0&&(ht=3):Mv())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return La(),$g(t,e),t===null&&Oc(e.stateNode.containerInfo),Pt(e),null;case 10:return yv(e.type._context),Pt(e),null;case 17:return en(e.type)&&fh(),Pt(e),null;case 19:if($e(We),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ql(i,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,ql(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>Fa&&(e.flags|=128,r=!0,ql(i,!1),e.lanes=4194304)}else{if(!r)if(t=xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Be)return Pt(e),null}else 2*tt()-i.renderingStartTime>Fa&&n!==1073741824&&(e.flags|=128,r=!0,ql(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=We.current,Le(We,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Dv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function UM(t,e){switch(fv(e),e.tag){case 1:return en(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return La(),$e(Zt),$e(Ot),Ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _v(e),null;case 13:if($e(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(We),null;case 4:return La(),null;case 10:return yv(e.type._context),null;case 22:case 23:return Dv(),null;case 24:return null;default:return null}}var dd=!1,Mt=!1,$M=typeof WeakSet=="function"?WeakSet:Set,X=null;function aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function zg(t,e,n){try{n()}catch(r){Je(t,e,r)}}var d_=!1;function zM(t,e){if(bg=ch,t=PT(),dv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++h===r&&(l=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sg={focusedElem:t,selectionRange:n},ch=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var v=I.memoizedProps,x=I.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Kn(e.type,v),x);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(P){Je(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return I=d_,d_=!1,I}function pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zg(e,n,i)}s=s.next}while(s!==r)}}function Cf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sb(t){var e=t.alternate;e!==null&&(t.alternate=null,Sb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[Vc],delete e[Ng],delete e[TM],delete e[bM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cb(t){return t.tag===5||t.tag===3||t.tag===4}function h_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hh));else if(r!==4&&(t=t.child,t!==null))for(qg(t,e,n),t=t.sibling;t!==null;)qg(t,e,n),t=t.sibling}function Wg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wg(t,e,n),t=t.sibling;t!==null;)Wg(t,e,n),t=t.sibling}var _t=null,Jn=!1;function Ns(t,e,n){for(n=n.child;n!==null;)Ab(t,e,n),n=n.sibling}function Ab(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(wf,n)}catch{}switch(n.tag){case 5:Mt||aa(n,e);case 6:var r=_t,s=Jn;_t=null,Ns(t,e,n),_t=r,Jn=s,_t!==null&&(Jn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Jn?(t=_t,n=n.stateNode,t.nodeType===8?dp(t.parentNode,n):t.nodeType===1&&dp(t,n),Dc(t)):dp(_t,n.stateNode));break;case 4:r=_t,s=Jn,_t=n.stateNode.containerInfo,Jn=!0,Ns(t,e,n),_t=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zg(n,e,o),s=s.next}while(s!==r)}Ns(t,e,n);break;case 1:if(!Mt&&(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Ns(t,e,n);break;case 21:Ns(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Ns(t,e,n),Mt=r):Ns(t,e,n);break;default:Ns(t,e,n)}}function f_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $M),e.forEach(function(r){var s=XM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Jn=!1;break e;case 3:_t=a.stateNode.containerInfo,Jn=!0;break e;case 4:_t=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(_t===null)throw Error(q(160));Ab(i,o,s),_t=null,Jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Je(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nb(e,t),e=e.sibling}function Nb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),wr(t),r&4){try{pc(3,t,t.return),Cf(3,t)}catch(v){Je(t,t.return,v)}try{pc(5,t,t.return)}catch(v){Je(t,t.return,v)}}break;case 1:Wn(e,t),wr(t),r&512&&n!==null&&aa(n,n.return);break;case 5:if(Wn(e,t),wr(t),r&512&&n!==null&&aa(n,n.return),t.flags&32){var s=t.stateNode;try{Nc(s,"")}catch(v){Je(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&XI(s,i),pg(a,o);var c=pg(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?nT(s,f):h==="dangerouslySetInnerHTML"?eT(s,f):h==="children"?Nc(s,f):Jy(s,h,f,c)}switch(a){case"input":ug(s,i);break;case"textarea":JI(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ua(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?ua(s,!!i.multiple,i.defaultValue,!0):ua(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vc]=i}catch(v){Je(t,t.return,v)}}break;case 6:if(Wn(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Je(t,t.return,v)}}break;case 3:if(Wn(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(v){Je(t,t.return,v)}break;case 4:Wn(e,t),wr(t);break;case 13:Wn(e,t),wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Rv=tt())),r&4&&f_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(c=Mt)||h,Wn(e,t),Mt=c):Wn(e,t),wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(m=X,p=m.child,m.tag){case 0:case 11:case 14:case 15:pc(4,m,m.return);break;case 1:aa(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(v){Je(r,n,v)}}break;case 5:aa(m,m.return);break;case 22:if(m.memoizedState!==null){p_(f);continue}}p!==null?(p.return=m,X=p):p_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tT("display",o))}catch(v){Je(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Je(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wn(e,t),wr(t),r&4&&f_(t);break;case 21:break;default:Wn(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cb(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nc(s,""),r.flags&=-33);var i=h_(t);Wg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=h_(t);qg(t,a,o);break;default:throw Error(q(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BM(t,e,n){X=t,Pb(t)}function Pb(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=dd;var c=Mt;if(dd=o,(Mt=l)&&!c)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?g_(s):l!==null?(l.return=o,X=l):g_(s);for(;i!==null;)X=i,Pb(i),i=i.sibling;X=s,dd=a,Mt=c}m_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):m_(t)}}function m_(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||Cf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Mt||e.flags&512&&Bg(e)}catch(m){Je(e,e.return,m)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function p_(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function g_(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cf(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{Bg(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{Bg(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var qM=Math.ceil,Ih=ps.ReactCurrentDispatcher,Nv=ps.ReactCurrentOwner,Mn=ps.ReactCurrentBatchConfig,Te=0,wt=null,st=null,bt=0,fn=0,la=Si(0),ht=0,qc=null,fo=0,Af=0,Pv=0,gc=null,Yt=null,Rv=0,Fa=1/0,Hr=null,Th=!1,Hg=null,ri=null,hd=!1,Qs=null,bh=0,yc=0,Gg=null,Fd=-1,Ud=0;function zt(){return Te&6?tt():Fd!==-1?Fd:Fd=tt()}function si(t){return t.mode&1?Te&2&&bt!==0?bt&-bt:CM.transition!==null?(Ud===0&&(Ud=mT()),Ud):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:_T(t.type)),t):1}function rr(t,e,n,r){if(50<yc)throw yc=0,Gg=null,Error(q(185));du(t,n,r),(!(Te&2)||t!==wt)&&(t===wt&&(!(Te&2)&&(Af|=n),ht===4&&Fs(t,bt)),tn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Fa=tt()+500,Tf&&Ci()))}function tn(t,e){var n=t.callbackNode;CD(t,e);var r=lh(t,t===wt?bt:0);if(r===0)n!==null&&bx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bx(n),e===1)t.tag===0?SM(y_.bind(null,t)):UT(y_.bind(null,t)),EM(function(){!(Te&6)&&Ci()}),n=null;else{switch(pT(r)){case 1:n=rv;break;case 4:n=hT;break;case 16:n=ah;break;case 536870912:n=fT;break;default:n=ah}n=Vb(n,Rb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rb(t,e){if(Fd=-1,Ud=0,Te&6)throw Error(q(327));var n=t.callbackNode;if(pa()&&t.callbackNode!==n)return null;var r=lh(t,t===wt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sh(t,r);else{e=r;var s=Te;Te|=2;var i=Db();(wt!==t||bt!==e)&&(Hr=null,Fa=tt()+500,so(t,e));do try{GM();break}catch(a){kb(t,a)}while(!0);gv(),Ih.current=i,Te=s,st!==null?e=0:(wt=null,bt=0,e=ht)}if(e!==0){if(e===2&&(s=xg(t),s!==0&&(r=s,e=Kg(t,s))),e===1)throw n=qc,so(t,0),Fs(t,r),tn(t,tt()),n;if(e===6)Fs(t,r);else{if(s=t.current.alternate,!(r&30)&&!WM(s)&&(e=Sh(t,r),e===2&&(i=xg(t),i!==0&&(r=i,e=Kg(t,i))),e===1))throw n=qc,so(t,0),Fs(t,r),tn(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:zi(t,Yt,Hr);break;case 3:if(Fs(t,r),(r&130023424)===r&&(e=Rv+500-tt(),10<e)){if(lh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ag(zi.bind(null,t,Yt,Hr),e);break}zi(t,Yt,Hr);break;case 4:if(Fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-nr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qM(r/1960))-r,10<r){t.timeoutHandle=Ag(zi.bind(null,t,Yt,Hr),r);break}zi(t,Yt,Hr);break;case 5:zi(t,Yt,Hr);break;default:throw Error(q(329))}}}return tn(t,tt()),t.callbackNode===n?Rb.bind(null,t):null}function Kg(t,e){var n=gc;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=Yt,Yt=n,e!==null&&Qg(e)),t}function Qg(t){Yt===null?Yt=t:Yt.push.apply(Yt,t)}function WM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ir(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~Pv,e&=~Af,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function y_(t){if(Te&6)throw Error(q(327));pa();var e=lh(t,0);if(!(e&1))return tn(t,tt()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=xg(t);r!==0&&(e=r,n=Kg(t,r))}if(n===1)throw n=qc,so(t,0),Fs(t,e),tn(t,tt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Yt,Hr),tn(t,tt()),null}function kv(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Fa=tt()+500,Tf&&Ci())}}function mo(t){Qs!==null&&Qs.tag===0&&!(Te&6)&&pa();var e=Te;Te|=1;var n=Mn.transition,r=Pe;try{if(Mn.transition=null,Pe=1,t)return t()}finally{Pe=r,Mn.transition=n,Te=e,!(Te&6)&&Ci()}}function Dv(){fn=la.current,$e(la)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_M(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:La(),$e(Zt),$e(Ot),Ev();break;case 5:_v(r);break;case 4:La();break;case 13:$e(We);break;case 19:$e(We);break;case 10:yv(r.type._context);break;case 22:case 23:Dv()}n=n.return}if(wt=t,st=t=ii(t.current,null),bt=fn=e,ht=0,qc=null,Pv=Af=fo=0,Yt=gc=null,Hi!==null){for(e=0;e<Hi.length;e++)if(n=Hi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hi=null}return t}function kb(t,e){do{var n=st;try{if(gv(),Od.current=Eh,_h){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_h=!1}if(ho=0,vt=dt=He=null,mc=!1,$c=0,Nv.current=null,n===null||n.return===null){ht=1,qc=e,st=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=s_(o);if(p!==null){p.flags&=-257,i_(p,o,a,i,e),p.mode&1&&r_(i,c,e),e=p,l=c;var I=e.updateQueue;if(I===null){var v=new Set;v.add(l),e.updateQueue=v}else I.add(l);break e}else{if(!(e&1)){r_(i,c,e),Mv();break e}l=Error(q(426))}}else if(Be&&a.mode&1){var x=s_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),i_(x,o,a,i,e),mv(Va(l,a));break e}}i=l=Va(l,a),ht!==4&&(ht=2),gc===null?gc=[i]:gc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=pb(i,l,e);Xx(i,_);break e;case 1:a=l;var E=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ri===null||!ri.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=gb(i,a,e);Xx(i,P);break e}}i=i.return}while(i!==null)}jb(n)}catch(D){e=D,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function Db(){var t=Ih.current;return Ih.current=Eh,t===null?Eh:t}function Mv(){(ht===0||ht===3||ht===2)&&(ht=4),wt===null||!(fo&268435455)&&!(Af&268435455)||Fs(wt,bt)}function Sh(t,e){var n=Te;Te|=2;var r=Db();(wt!==t||bt!==e)&&(Hr=null,so(t,e));do try{HM();break}catch(s){kb(t,s)}while(!0);if(gv(),Te=n,Ih.current=r,st!==null)throw Error(q(261));return wt=null,bt=0,ht}function HM(){for(;st!==null;)Mb(st)}function GM(){for(;st!==null&&!vD();)Mb(st)}function Mb(t){var e=Lb(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?jb(t):st=e,Nv.current=null}function jb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UM(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,st=null;return}}else if(n=FM(n,e,fn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ht===0&&(ht=5)}function zi(t,e,n){var r=Pe,s=Mn.transition;try{Mn.transition=null,Pe=1,KM(t,e,n,r)}finally{Mn.transition=s,Pe=r}return null}function KM(t,e,n,r){do pa();while(Qs!==null);if(Te&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(AD(t,i),t===wt&&(st=wt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hd||(hd=!0,Vb(ah,function(){return pa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mn.transition,Mn.transition=null;var o=Pe;Pe=1;var a=Te;Te|=4,Nv.current=null,zM(t,n),Nb(n,t),mM(Sg),ch=!!bg,Sg=bg=null,t.current=n,BM(n),wD(),Te=a,Pe=o,Mn.transition=i}else t.current=n;if(hd&&(hd=!1,Qs=t,bh=s),i=t.pendingLanes,i===0&&(ri=null),ED(n.stateNode),tn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Th)throw Th=!1,t=Hg,Hg=null,t;return bh&1&&t.tag!==0&&pa(),i=t.pendingLanes,i&1?t===Gg?yc++:(yc=0,Gg=t):yc=0,Ci(),null}function pa(){if(Qs!==null){var t=pT(bh),e=Mn.transition,n=Pe;try{if(Mn.transition=null,Pe=16>t?16:t,Qs===null)var r=!1;else{if(t=Qs,Qs=null,bh=0,Te&6)throw Error(q(331));var s=Te;for(Te|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:pc(8,h,i)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var m=h.sibling,p=h.return;if(Sb(h),h===c){X=null;break}if(m!==null){m.return=p,X=m;break}X=p}}}var I=i.alternate;if(I!==null){var v=I.child;if(v!==null){I.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,X=_;break e}X=i.return}}var E=t.current;for(X=E;X!==null;){o=X;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,X=b;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cf(9,a)}}catch(D){Je(a,a.return,D)}if(a===o){X=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,X=P;break e}X=a.return}}if(Te=s,Ci(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(wf,t)}catch{}r=!0}return r}finally{Pe=n,Mn.transition=e}}return!1}function v_(t,e,n){e=Va(n,e),e=pb(t,e,1),t=ni(t,e,1),e=zt(),t!==null&&(du(t,1,e),tn(t,e))}function Je(t,e,n){if(t.tag===3)v_(t,t,n);else for(;e!==null;){if(e.tag===3){v_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=Va(n,t),t=gb(e,t,1),e=ni(e,t,1),t=zt(),e!==null&&(du(e,1,t),tn(e,t));break}}e=e.return}}function QM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(bt&n)===n&&(ht===4||ht===3&&(bt&130023424)===bt&&500>tt()-Rv?so(t,0):Pv|=n),tn(t,e)}function Ob(t,e){e===0&&(t.mode&1?(e=nd,nd<<=1,!(nd&130023424)&&(nd=4194304)):e=1);var n=zt();t=is(t,e),t!==null&&(du(t,e,n),tn(t,n))}function YM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ob(t,n)}function XM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),Ob(t,n)}var Lb;Lb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,VM(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,Be&&e.flags&1048576&&$T(e,gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vd(t,e),t=e.pendingProps;var s=Ma(e,Ot.current);ma(e,n),s=Tv(null,e,r,t,s,n);var i=bv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(r)?(i=!0,mh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wv(e),s.updater=Sf,e.stateNode=s,s._reactInternals=e,jg(e,r,t,n),e=Vg(null,e,r,!0,i,n)):(e.tag=0,Be&&i&&hv(e),Ut(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZM(r),t=Kn(r,t),s){case 0:e=Lg(null,e,r,t,n);break e;case 1:e=l_(null,e,r,t,n);break e;case 11:e=o_(null,e,r,t,n);break e;case 14:e=a_(null,e,r,Kn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),Lg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),l_(t,e,r,s,n);case 3:e:{if(xb(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,GT(t,e),wh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Va(Error(q(423)),e),e=c_(t,e,r,n,s);break e}else if(r!==s){s=Va(Error(q(424)),e),e=c_(t,e,r,n,s);break e}else for(pn=ti(e.stateNode.containerInfo.firstChild),gn=e,Be=!0,Zn=null,n=WT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ja(),r===s){e=os(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return KT(e),t===null&&kg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cg(r,s)?o=null:i!==null&&Cg(r,i)&&(e.flags|=32),wb(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&kg(e),null;case 13:return _b(t,e,n);case 4:return xv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Oa(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),o_(t,e,r,s,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(yh,r._currentValue),r._currentValue=o,i!==null)if(ir(i.value,o)){if(i.children===s.children&&!Zt.current){e=os(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ts(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Dg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ma(e,n),s=Ln(s),r=r(s),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,s=Kn(r,e.pendingProps),s=Kn(r.type,s),a_(t,e,r,s,n);case 15:return yb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),Vd(t,e),e.tag=1,en(r)?(t=!0,mh(e)):t=!1,ma(e,n),mb(e,r,s),jg(e,r,s,n),Vg(null,e,r,!0,t,n);case 19:return Eb(t,e,n);case 22:return vb(t,e,n)}throw Error(q(156,e.tag))};function Vb(t,e){return dT(t,e)}function JM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,n,r){return new JM(t,e,n,r)}function jv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZM(t){if(typeof t=="function")return jv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ev)return 11;if(t===tv)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=Dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $d(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")jv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jo:return io(n.children,s,i,e);case Zy:o=8,s|=8;break;case ig:return t=Dn(12,n,e,s|2),t.elementType=ig,t.lanes=i,t;case og:return t=Dn(13,n,e,s),t.elementType=og,t.lanes=i,t;case ag:return t=Dn(19,n,e,s),t.elementType=ag,t.lanes=i,t;case KI:return Nf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HI:o=10;break e;case GI:o=9;break e;case ev:o=11;break e;case tv:o=14;break e;case Os:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Dn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function io(t,e,n,r){return t=Dn(7,t,r,e),t.lanes=n,t}function Nf(t,e,n,r){return t=Dn(22,t,r,e),t.elementType=KI,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=Dn(6,t,null,e),t.lanes=n,t}function xp(t,e,n){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ej(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ov(t,e,n,r,s,i,o,a,l){return t=new ej(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wv(i),t}function tj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fb(t){if(!t)return mi;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(en(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(en(n))return FT(t,n,e)}return e}function Ub(t,e,n,r,s,i,o,a,l){return t=Ov(n,r,!0,t,s,i,o,a,l),t.context=Fb(null),n=t.current,r=zt(),s=si(n),i=ts(r,s),i.callback=e??null,ni(n,i,s),t.current.lanes=s,du(t,s,r),tn(t,r),t}function Pf(t,e,n,r){var s=e.current,i=zt(),o=si(s);return n=Fb(n),e.context===null?e.context=n:e.pendingContext=n,e=ts(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(s,e,o),t!==null&&(rr(t,s,o,i),jd(t,s,o)),o}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function w_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lv(t,e){w_(t,e),(t=t.alternate)&&w_(t,e)}function nj(){return null}var $b=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vv(t){this._internalRoot=t}Rf.prototype.render=Vv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Pf(t,e,null,null)};Rf.prototype.unmount=Vv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){Pf(null,t,null,null)}),e[ss]=null}};function Rf(t){this._internalRoot=t}Rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=vT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vs.length&&e!==0&&e<Vs[n].priority;n++);Vs.splice(n,0,t),n===0&&xT(t)}};function Fv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function x_(){}function rj(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ch(o);i.call(c)}}var o=Ub(e,r,t,0,null,!1,!1,"",x_);return t._reactRootContainer=o,t[ss]=o.current,Oc(t.nodeType===8?t.parentNode:t),mo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ch(l);a.call(c)}}var l=Ov(t,0,!1,null,null,!1,!1,"",x_);return t._reactRootContainer=l,t[ss]=l.current,Oc(t.nodeType===8?t.parentNode:t),mo(function(){Pf(e,l,n,r)}),l}function Df(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ch(o);a.call(l)}}Pf(e,o,t,s)}else o=rj(n,e,t,s,r);return Ch(o)}gT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(sv(e,n|1),tn(e,tt()),!(Te&6)&&(Fa=tt()+500,Ci()))}break;case 13:mo(function(){var r=is(t,1);if(r!==null){var s=zt();rr(r,t,1,s)}}),Lv(t,1)}};iv=function(t){if(t.tag===13){var e=is(t,134217728);if(e!==null){var n=zt();rr(e,t,134217728,n)}Lv(t,134217728)}};yT=function(t){if(t.tag===13){var e=si(t),n=is(t,e);if(n!==null){var r=zt();rr(n,t,e,r)}Lv(t,e)}};vT=function(){return Pe};wT=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};yg=function(t,e,n){switch(e){case"input":if(ug(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=If(r);if(!s)throw Error(q(90));YI(r),ug(r,s)}}}break;case"textarea":JI(t,n);break;case"select":e=n.value,e!=null&&ua(t,!!n.multiple,e,!1)}};iT=kv;oT=mo;var sj={usingClientEntryPoint:!1,Events:[fu,na,If,rT,sT,kv]},Wl={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ij={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cT(t),t===null?null:t.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||nj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{wf=fd.inject(ij),Ar=fd}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sj;_n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fv(e))throw Error(q(200));return tj(t,e,null,n)};_n.createRoot=function(t,e){if(!Fv(t))throw Error(q(299));var n=!1,r="",s=$b;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ov(t,1,!1,null,null,n,!1,r,s),t[ss]=e.current,Oc(t.nodeType===8?t.parentNode:t),new Vv(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=cT(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return mo(t)};_n.hydrate=function(t,e,n){if(!kf(e))throw Error(q(200));return Df(null,t,e,!0,n)};_n.hydrateRoot=function(t,e,n){if(!Fv(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$b;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ub(e,null,t,1,n??null,s,!1,i,o),t[ss]=e.current,Oc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Rf(e)};_n.render=function(t,e,n){if(!kf(e))throw Error(q(200));return Df(null,t,e,!1,n)};_n.unmountComponentAtNode=function(t){if(!kf(t))throw Error(q(40));return t._reactRootContainer?(mo(function(){Df(null,null,t,!1,function(){t._reactRootContainer=null,t[ss]=null})}),!0):!1};_n.unstable_batchedUpdates=kv;_n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Df(t,e,n,!1,r)};_n.version="18.3.1-next-f1338f8080-20240426";function zb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zb)}catch(t){console.error(t)}}zb(),zI.exports=_n;var pu=zI.exports;const Bb=PI(pu);var qb,__=pu;qb=__.createRoot,__.hydrateRoot;const oj=1,aj=1e6;let _p=0;function lj(){return _p=(_p+1)%Number.MAX_SAFE_INTEGER,_p.toString()}const Ep=new Map,E_=t=>{if(Ep.has(t))return;const e=setTimeout(()=>{Ep.delete(t),vc({type:"REMOVE_TOAST",toastId:t})},aj);Ep.set(t,e)},cj=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,oj)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?E_(n):t.toasts.forEach(r=>{E_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zd=[];let Bd={toasts:[]};function vc(t){Bd=cj(Bd,t),zd.forEach(e=>{e(Bd)})}function uj({...t}){const e=lj(),n=s=>vc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>vc({type:"DISMISS_TOAST",toastId:e});return vc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function cn(){const[t,e]=y.useState(Bd);return y.useEffect(()=>(zd.push(e),()=>{const n=zd.indexOf(e);n>-1&&zd.splice(n,1)}),[t]),{...t,toast:uj,dismiss:n=>vc({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function I_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=I_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():I_(t[s],null)}}}}function Ke(...t){return y.useCallback(Mf(...t),t)}function dj(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,l=y.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ur(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),l=n.length;n=[...n,o];const c=f=>{var _;const{scope:m,children:p,...I}=f,v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,x=y.useMemo(()=>I,Object.values(I));return u.jsx(v.Provider,{value:x,children:p})};c.displayName=i+"Provider";function h(f,m){var v;const p=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,I=y.useContext(p);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,hj(s,...e)]}function hj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function po(t){const e=mj(t),n=y.forwardRef((r,s)=>{const{children:i,...o}=r,a=y.Children.toArray(i),l=a.find(gj);if(l){const c=l.props.children,h=a.map(f=>f===l?y.Children.count(c)>1?y.Children.only(null):y.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:y.isValidElement(c)?y.cloneElement(c,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var fj=po("Slot");function mj(t){const e=y.forwardRef((n,r)=>{const{children:s,...i}=n;if(y.isValidElement(s)){const o=vj(s),a=yj(i,s.props);return s.type!==y.Fragment&&(a.ref=r?Mf(r,o):o),y.cloneElement(s,a)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wb=Symbol("radix.slottable");function pj(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Wb,e}function gj(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wb}function yj(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function vj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Uv(t){const e=t+"CollectionProvider",[n,r]=ur(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:_}=v,E=W.useRef(null),b=W.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:b,collectionRef:E,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=po(a),c=W.forwardRef((v,x)=>{const{scope:_,children:E}=v,b=i(a,_),P=Ke(x,b.collectionRef);return u.jsx(l,{ref:P,children:E})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=po(h),p=W.forwardRef((v,x)=>{const{scope:_,children:E,...b}=v,P=W.useRef(null),D=Ke(x,P),j=i(h,_);return W.useEffect(()=>(j.itemMap.set(P,{ref:P,...b}),()=>void j.itemMap.delete(P))),u.jsx(m,{[f]:"",ref:D,children:E})});p.displayName=h;function I(v){const x=i(t+"CollectionConsumer",v);return W.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const b=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,S)=>b.indexOf(j.ref.current)-b.indexOf(S.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},I,r]}var wj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=wj.reduce((t,e)=>{const n=po(`Primitive.${e}`),r=y.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $v(t,e){t&&pu.flushSync(()=>t.dispatchEvent(e))}function ln(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xj(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var _j="DismissableLayer",Yg="dismissableLayer.update",Ej="dismissableLayer.pointerDownOutside",Ij="dismissableLayer.focusOutside",T_,Hb=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),il=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=y.useContext(Hb),[h,f]=y.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),I=Ke(e,S=>f(S)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),E=h?v.indexOf(h):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,P=E>=_,D=bj(S=>{const T=S.target,C=[...c.branches].some(A=>A.contains(T));!P||C||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},m),j=Sj(S=>{const T=S.target;[...c.branches].some(A=>A.contains(T))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},m);return xj(S=>{E===c.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},m),y.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(T_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),b_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=T_)}},[h,m,n,c]),y.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),b_())},[h,c]),y.useEffect(()=>{const S=()=>p({});return document.addEventListener(Yg,S),()=>document.removeEventListener(Yg,S)},[]),u.jsx(ve.div,{...l,ref:I,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,j.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,D.onPointerDownCapture)})});il.displayName=_j;var Tj="DismissableLayerBranch",Gb=y.forwardRef((t,e)=>{const n=y.useContext(Hb),r=y.useRef(null),s=Ke(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ve.div,{...t,ref:s})});Gb.displayName=Tj;function bj(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){Kb(Ej,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Sj(t,e=globalThis==null?void 0:globalThis.document){const n=ln(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&Kb(Ij,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function b_(){const t=new CustomEvent(Yg);document.dispatchEvent(t)}function Kb(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$v(s,i):s.dispatchEvent(i)}var Cj=il,Aj=Gb,Fn=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Nj="Portal",gu=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);Fn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Bb.createPortal(u.jsx(ve.div,{...r,ref:e}),o):null});gu.displayName=Nj;function Pj(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var In=t=>{const{present:e,children:n}=t,r=Rj(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ke(r.ref,kj(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};In.displayName="Presence";function Rj(t){const[e,n]=y.useState(),r=y.useRef(null),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Pj(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const c=md(r.current);i.current=a==="mounted"?c:"none"},[a]),Fn(()=>{const c=r.current,h=s.current;if(h!==t){const m=i.current,p=md(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Fn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=p=>{const v=md(r.current).includes(p.animationName);if(p.target===e&&v&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=p=>{p.target===e&&(i.current=md(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function md(t){return(t==null?void 0:t.animationName)||"none"}function kj(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Dj=Qy[" useInsertionEffect ".trim().toString()]||Fn;function ol({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Mj({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=y.useRef(t!==void 0);y.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=y.useCallback(h=>{var f;if(a){const m=jj(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,c]}function Mj({defaultProp:t,onChange:e}){const[n,r]=y.useState(t),s=y.useRef(n),i=y.useRef(e);return Dj(()=>{i.current=e},[e]),y.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function jj(t){return typeof t=="function"}var Oj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Lj="VisuallyHidden",jf=y.forwardRef((t,e)=>u.jsx(ve.span,{...t,ref:e,style:{...Oj,...t.style}}));jf.displayName=Lj;var Vj=jf,zv="ToastProvider",[Bv,Fj,Uj]=Uv("Toast"),[Qb,kK]=ur("Toast",[Uj]),[$j,Of]=Qb(zv),Yb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=y.useState(null),[c,h]=y.useState(0),f=y.useRef(!1),m=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zv}\`. Expected non-empty \`string\`.`),u.jsx(Bv.Provider,{scope:e,children:u.jsx($j,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:y.useCallback(()=>h(p=>p+1),[]),onToastRemove:y.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};Yb.displayName=zv;var Xb="ToastViewport",zj=["F8"],Xg="toast.viewportPause",Jg="toast.viewportResume",Jb=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=zj,label:s="Notifications ({hotkey})",...i}=t,o=Of(Xb,n),a=Fj(n),l=y.useRef(null),c=y.useRef(null),h=y.useRef(null),f=y.useRef(null),m=Ke(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;y.useEffect(()=>{const x=_=>{var b;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=l.current,_=f.current;if(I&&x&&_){const E=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Xg);_.dispatchEvent(j),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Jg);_.dispatchEvent(j),o.isClosePausedRef.current=!1}},P=j=>{!x.contains(j.relatedTarget)&&b()},D=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",E),x.addEventListener("focusout",P),x.addEventListener("pointermove",E),x.addEventListener("pointerleave",D),window.addEventListener("blur",E),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",E),x.removeEventListener("focusout",P),x.removeEventListener("pointermove",E),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",E),window.removeEventListener("focus",b)}}},[I,o.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:x})=>{const E=a().map(b=>{const P=b.ref.current,D=[P,...tO(P)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?E.reverse():E).flat()},[a]);return y.useEffect(()=>{const x=f.current;if(x){const _=E=>{var D,j,S;const b=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!b){const T=document.activeElement,C=E.shiftKey;if(E.target===x&&C){(D=c.current)==null||D.focus();return}const M=v({tabbingDirection:C?"backwards":"forwards"}),R=M.findIndex(B=>B===T);Ip(M.slice(R+1))?E.preventDefault():C?(j=c.current)==null||j.focus():(S=h.current)==null||S.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,v]),u.jsxs(Aj,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&u.jsx(Zg,{ref:c,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});Ip(x)}}),u.jsx(Bv.Slot,{scope:n,children:u.jsx(ve.ol,{tabIndex:-1,...i,ref:m})}),I&&u.jsx(Zg,{ref:h,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});Ip(x)}})]})});Jb.displayName=Xb;var Zb="ToastFocusProxy",Zg=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Of(Zb,n);return u.jsx(jf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Zg.displayName=Zb;var yu="Toast",Bj="toast.swipeStart",qj="toast.swipeMove",Wj="toast.swipeCancel",Hj="toast.swipeEnd",eS=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=ol({prop:r,defaultProp:s??!0,onChange:i,caller:yu});return u.jsx(In,{present:n||a,children:u.jsx(Qj,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ln(t.onPause),onResume:ln(t.onResume),onSwipeStart:ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});eS.displayName=yu;var[Gj,Kj]=Qb(yu,{onClose(){}}),Qj=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...I}=t,v=Of(yu,n),[x,_]=y.useState(null),E=Ke(e,B=>_(B)),b=y.useRef(null),P=y.useRef(null),D=s||v.duration,j=y.useRef(0),S=y.useRef(D),T=y.useRef(0),{onToastAdd:C,onToastRemove:A}=v,k=ln(()=>{var re;(x==null?void 0:x.contains(document.activeElement))&&((re=v.viewport)==null||re.focus()),o()}),M=y.useCallback(B=>{!B||B===1/0||(window.clearTimeout(T.current),j.current=new Date().getTime(),T.current=window.setTimeout(k,B))},[k]);y.useEffect(()=>{const B=v.viewport;if(B){const re=()=>{M(S.current),c==null||c()},H=()=>{const te=new Date().getTime()-j.current;S.current=S.current-te,window.clearTimeout(T.current),l==null||l()};return B.addEventListener(Xg,H),B.addEventListener(Jg,re),()=>{B.removeEventListener(Xg,H),B.removeEventListener(Jg,re)}}},[v.viewport,D,l,c,M]),y.useEffect(()=>{i&&!v.isClosePausedRef.current&&M(D)},[i,D,v.isClosePausedRef,M]),y.useEffect(()=>(C(),()=>A()),[C,A]);const R=y.useMemo(()=>x?aS(x):null,[x]);return v.viewport?u.jsxs(u.Fragment,{children:[R&&u.jsx(Yj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),u.jsx(Gj,{scope:n,onClose:k,children:pu.createPortal(u.jsx(Bv.ItemSlot,{scope:n,children:u.jsx(Cj,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...I,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ee(t.onPointerDown,B=>{B.button===0&&(b.current={x:B.clientX,y:B.clientY})}),onPointerMove:ee(t.onPointerMove,B=>{if(!b.current)return;const re=B.clientX-b.current.x,H=B.clientY-b.current.y,te=!!P.current,F=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,G=F?L(0,re):0,ne=F?0:L(0,H),Z=B.pointerType==="touch"?10:2,de={x:G,y:ne},ce={originalEvent:B,delta:de};te?(P.current=de,pd(qj,f,ce,{discrete:!1})):S_(de,v.swipeDirection,Z)?(P.current=de,pd(Bj,h,ce,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>Z||Math.abs(H)>Z)&&(b.current=null)}),onPointerUp:ee(t.onPointerUp,B=>{const re=P.current,H=B.target;if(H.hasPointerCapture(B.pointerId)&&H.releasePointerCapture(B.pointerId),P.current=null,b.current=null,re){const te=B.currentTarget,F={originalEvent:B,delta:re};S_(re,v.swipeDirection,v.swipeThreshold)?pd(Hj,p,F,{discrete:!0}):pd(Wj,m,F,{discrete:!0}),te.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Yj=t=>{const{__scopeToast:e,children:n,...r}=t,s=Of(yu,e),[i,o]=y.useState(!1),[a,l]=y.useState(!1);return Zj(()=>o(!0)),y.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(gu,{asChild:!0,children:u.jsx(jf,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},Xj="ToastTitle",tS=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ve.div,{...r,ref:e})});tS.displayName=Xj;var Jj="ToastDescription",nS=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ve.div,{...r,ref:e})});nS.displayName=Jj;var rS="ToastAction",sS=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(oS,{altText:n,asChild:!0,children:u.jsx(qv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rS}\`. Expected non-empty \`string\`.`),null)});sS.displayName=rS;var iS="ToastClose",qv=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Kj(iS,n);return u.jsx(oS,{asChild:!0,children:u.jsx(ve.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});qv.displayName=iS;var oS=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function aS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),eO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...aS(r))}}),e}function pd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?$v(s,i):s.dispatchEvent(i)}var S_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function Zj(t=()=>{}){const e=ln(t);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function eO(t){return t.nodeType===t.ELEMENT_NODE}function tO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ip(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var nO=Yb,lS=Jb,cS=eS,uS=tS,dS=nS,hS=sS,fS=qv;function mS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=mS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=mS(t))&&(r&&(r+=" "),r+=e);return r}const C_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,A_=pS,Lf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return A_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const m=C_(h)||C_(f);return s[c][m]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,m]=h;return m===void 0||(c[f]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(I=>{let[v,x]=I;return Array.isArray(x)?x.includes({...i,...a}[v]):{...i,...a}[v]===x})?[...c,f,m]:c},[]);return A_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>y.createElement("svg",{ref:l,...sO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gS("lucide",s),...a},[...o.map(([c,h])=>y.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(iO,{ref:i,iconNode:e,className:gS(`lucide-${rO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=Re("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=Re("Badge",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=Re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=Re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Re("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Re("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Re("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Re("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Re("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=Re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=Re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Re("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=Re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Re("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=Re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wv="-",vO=t=>{const e=xO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Wv);return a[0]===""&&a.length!==1&&a.shift(),TS(a,e)||wO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},TS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?TS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Wv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},N_=/^\[(.+)\]$/,wO=t=>{if(N_.test(t)){const e=N_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return EO(Object.entries(t.classGroups),n).forEach(([i,o])=>{ty(o,r,i,e)}),r},ty=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:P_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(_O(s)){ty(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ty(o,P_(e,i),n,r)})})},P_=(t,e)=>{let n=t;return e.split(Wv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_O=t=>t.isThemeGetter,EO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,IO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},bS="!",TO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let x=0;x<a.length;x++){let _=a[x];if(c===0){if(_===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(h,x)),h=x+i;continue}if(_==="/"){f=x;continue}}_==="["?c++:_==="]"&&c--}const m=l.length===0?a:a.substring(h),p=m.startsWith(bS),I=p?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:I,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},bO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},SO=t=>({cache:IO(t.cacheSize),parseClassName:TO(t),...vO(t)}),CO=/\s+/,AO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(CO);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(c);let I=!!p,v=r(I?m.substring(0,p):m);if(!v){if(!I){a=c+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=c+(a.length>0?" "+a:a);continue}I=!1}const x=bO(h).join(":"),_=f?x+bS:x,E=_+v;if(i.includes(E))continue;i.push(E);const b=s(v,I);for(let P=0;P<b.length;++P){const D=b[P];i.push(_+D)}a=c+(a.length>0?" "+a:a)}return a};function NO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SS(e))&&(r&&(r+=" "),r+=n);return r}const SS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SS(t[r]))&&(n&&(n+=" "),n+=e);return n};function PO(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=SO(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=AO(l,n);return s(l,h),h}return function(){return i(NO.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},CS=/^\[(?:([a-z-]+):)?(.+)\]$/i,RO=/^\d+\/\d+$/,kO=new Set(["px","full","screen"]),DO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,MO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,OO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=t=>ga(t)||kO.has(t)||RO.test(t),Ps=t=>ll(t,"length",WO),ga=t=>!!t&&!Number.isNaN(Number(t)),Tp=t=>ll(t,"number",ga),Hl=t=>!!t&&Number.isInteger(Number(t)),VO=t=>t.endsWith("%")&&ga(t.slice(0,-1)),pe=t=>CS.test(t),Rs=t=>DO.test(t),FO=new Set(["length","size","percentage"]),UO=t=>ll(t,FO,AS),$O=t=>ll(t,"position",AS),zO=new Set(["image","url"]),BO=t=>ll(t,zO,GO),qO=t=>ll(t,"",HO),Gl=()=>!0,ll=(t,e,n)=>{const r=CS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},WO=t=>MO.test(t)&&!jO.test(t),AS=()=>!1,HO=t=>OO.test(t),GO=t=>LO.test(t),KO=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),h=Fe("hueRotate"),f=Fe("invert"),m=Fe("gap"),p=Fe("gradientColorStops"),I=Fe("gradientColorStopPositions"),v=Fe("inset"),x=Fe("margin"),_=Fe("opacity"),E=Fe("padding"),b=Fe("saturate"),P=Fe("scale"),D=Fe("sepia"),j=Fe("skew"),S=Fe("space"),T=Fe("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",pe,e],M=()=>[pe,e],R=()=>["",qr,Ps],B=()=>["auto",ga,pe],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",pe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[ga,pe];return{cacheSize:500,separator:":",theme:{colors:[Gl],spacing:[qr,Ps],blur:["none","",Rs,pe],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Rs,pe],borderSpacing:M(),borderWidth:R(),contrast:ne(),grayscale:L(),hueRotate:ne(),invert:L(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[VO,Ps],inset:k(),margin:k(),opacity:ne(),padding:M(),saturate:ne(),scale:ne(),sepia:L(),skew:ne(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),pe]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hl,pe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Hl,pe]}],"grid-cols":[{"grid-cols":[Gl]}],"col-start-end":[{col:["auto",{span:["full",Hl,pe]},pe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Gl]}],"row-start-end":[{row:["auto",{span:[Hl,pe]},pe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,e]}],"min-w":[{"min-w":[pe,e,"min","max","fit"]}],"max-w":[{"max-w":[pe,e,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,Ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tp]}],"font-family":[{font:[Gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",ga,Tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,Ps]}],"underline-offset":[{"underline-offset":["auto",qr,pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),$O]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[qr,pe]}],"outline-w":[{outline:[qr,Ps]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[qr,Ps]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rs,qO]}],"shadow-color":[{shadow:[Gl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Rs,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Hl,pe]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qr,Ps,Tp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QO=PO(KO);function le(...t){return QO(pS(t))}const YO=nO,NS=y.forwardRef(({className:t,...e},n)=>u.jsx(lS,{ref:n,className:le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));NS.displayName=lS.displayName;const XO=Lf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PS=y.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(cS,{ref:r,className:le(XO({variant:e}),t),...n}));PS.displayName=cS.displayName;const JO=y.forwardRef(({className:t,...e},n)=>u.jsx(hS,{ref:n,className:le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));JO.displayName=hS.displayName;const RS=y.forwardRef(({className:t,...e},n)=>u.jsx(fS,{ref:n,className:le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(as,{className:"h-4 w-4"})}));RS.displayName=fS.displayName;const kS=y.forwardRef(({className:t,...e},n)=>u.jsx(uS,{ref:n,className:le("text-sm font-semibold",t),...e}));kS.displayName=uS.displayName;const DS=y.forwardRef(({className:t,...e},n)=>u.jsx(dS,{ref:n,className:le("text-sm opacity-90",t),...e}));DS.displayName=dS.displayName;function ZO(){const{toasts:t}=cn();return u.jsxs(YO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(PS,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(kS,{children:n}),r&&u.jsx(DS,{children:r})]}),s,u.jsx(RS,{})]},e)}),u.jsx(NS,{})]})}var R_=["light","dark"],e4="(prefers-color-scheme: dark)",t4=y.createContext(void 0),n4={setTheme:t=>{},themes:[]},r4=()=>{var t;return(t=y.useContext(t4))!=null?t:n4};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(I=>`'${I}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?R_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(I,v=!1,x=!0)=>{let _=o?o[I]:I,E=v?I+"|| ''":`'${_}'`,b="";return s&&x&&!v&&R_.includes(I)&&(b+=`d.style.colorScheme = '${I}';`),n==="class"?v||_?b+=`c.add(${E})`:b+="null":_&&(b+=`d[s](n,${E})`),b},p=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${e4}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var s4=t=>{switch(t){case"success":return a4;case"info":return c4;case"warning":return l4;case"error":return u4;default:return null}},i4=Array(12).fill(0),o4=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},i4.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),a4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),l4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),c4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),u4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),d4=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),h4=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ny=1,f4=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:ny++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],W.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(p4(c)&&!c.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,h)=>a.then(()=>o[0]==="reject"?h(o[1]):c(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||ny++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Kt=new f4,m4=(t,e)=>{let n=(e==null?void 0:e.id)||ny++;return Kt.addToast({title:t,...e,id:n}),n},p4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",g4=m4,y4=()=>Kt.toasts,v4=()=>Kt.getActiveToasts();Object.assign(g4,{success:Kt.success,info:Kt.info,warning:Kt.warning,error:Kt.error,custom:Kt.custom,message:Kt.message,promise:Kt.promise,dismiss:Kt.dismiss,loading:Kt.loading},{getHistory:y4,getToasts:v4});function w4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}w4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gd(t){return t.label!==void 0}var x4=3,_4="32px",E4="16px",k_=4e3,I4=356,T4=14,b4=20,S4=200;function Hn(...t){return t.filter(Boolean).join(" ")}function C4(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var A4=t=>{var e,n,r,s,i,o,a,l,c,h,f;let{invert:m,toast:p,unstyled:I,interacting:v,setHeights:x,visibleToasts:_,heights:E,index:b,toasts:P,expanded:D,removeToast:j,defaultRichColors:S,closeButton:T,style:C,cancelButtonStyle:A,actionButtonStyle:k,className:M="",descriptionClassName:R="",duration:B,position:re,gap:H,loadingIcon:te,expandByDefault:F,classNames:L,icons:G,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:Z}=t,[de,ce]=W.useState(null),[ke,Me]=W.useState(null),[me,un]=W.useState(!1),[Ze,Tn]=W.useState(!1),[hr,$r]=W.useState(!1),[bn,Di]=W.useState(!1),[Il,xs]=W.useState(!1),[Mi,_s]=W.useState(0),[qe,mt]=W.useState(0),fr=W.useRef(p.duration||B||k_),Lu=W.useRef(null),mr=W.useRef(null),km=b===0,ji=b+1<=_,Vt=p.type,zr=p.dismissible!==!1,Tl=p.className||"",Dm=p.descriptionClassName||"",Lo=W.useMemo(()=>E.findIndex(ie=>ie.toastId===p.id)||0,[E,p.id]),Vu=W.useMemo(()=>{var ie;return(ie=p.closeButton)!=null?ie:T},[p.closeButton,T]),bl=W.useMemo(()=>p.duration||B||k_,[p.duration,B]),Br=W.useRef(0),pr=W.useRef(0),Vo=W.useRef(0),Ht=W.useRef(null),[Fu,Fo]=re.split("-"),Sl=W.useMemo(()=>E.reduce((ie,Se,je)=>je>=Lo?ie:ie+Se.height,0),[E,Lo]),Es=h4(),Uu=p.invert||m,ct=Vt==="loading";pr.current=W.useMemo(()=>Lo*H+Sl,[Lo,Sl]),W.useEffect(()=>{fr.current=bl},[bl]),W.useEffect(()=>{un(!0)},[]),W.useEffect(()=>{let ie=mr.current;if(ie){let Se=ie.getBoundingClientRect().height;return mt(Se),x(je=>[{toastId:p.id,height:Se,position:p.position},...je]),()=>x(je=>je.filter(pt=>pt.toastId!==p.id))}},[x,p.id]),W.useLayoutEffect(()=>{if(!me)return;let ie=mr.current,Se=ie.style.height;ie.style.height="auto";let je=ie.getBoundingClientRect().height;ie.style.height=Se,mt(je),x(pt=>pt.find(dn=>dn.toastId===p.id)?pt.map(dn=>dn.toastId===p.id?{...dn,height:je}:dn):[{toastId:p.id,height:je,position:p.position},...pt])},[me,p.title,p.description,x,p.id]);let Bn=W.useCallback(()=>{Tn(!0),_s(pr.current),x(ie=>ie.filter(Se=>Se.toastId!==p.id)),setTimeout(()=>{j(p)},S4)},[p,j,x,pr]);W.useEffect(()=>{if(p.promise&&Vt==="loading"||p.duration===1/0||p.type==="loading")return;let ie;return D||v||Z&&Es?(()=>{if(Vo.current<Br.current){let Se=new Date().getTime()-Br.current;fr.current=fr.current-Se}Vo.current=new Date().getTime()})():fr.current!==1/0&&(Br.current=new Date().getTime(),ie=setTimeout(()=>{var Se;(Se=p.onAutoClose)==null||Se.call(p,p),Bn()},fr.current)),()=>clearTimeout(ie)},[D,v,p,Vt,Z,Es,Bn]),W.useEffect(()=>{p.delete&&Bn()},[Bn,p.delete]);function Oi(){var ie,Se,je;return G!=null&&G.loading?W.createElement("div",{className:Hn(L==null?void 0:L.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Vt==="loading"},G.loading):te?W.createElement("div",{className:Hn(L==null?void 0:L.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Vt==="loading"},te):W.createElement(o4,{className:Hn(L==null?void 0:L.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader),visible:Vt==="loading"})}return W.createElement("li",{tabIndex:0,ref:mr,className:Hn(M,Tl,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Vt],(n=p==null?void 0:p.classNames)==null?void 0:n[Vt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:S,"data-styled":!(p.jsx||p.unstyled||I),"data-mounted":me,"data-promise":!!p.promise,"data-swiped":Il,"data-removed":Ze,"data-visible":ji,"data-y-position":Fu,"data-x-position":Fo,"data-index":b,"data-front":km,"data-swiping":hr,"data-dismissible":zr,"data-type":Vt,"data-invert":Uu,"data-swipe-out":bn,"data-swipe-direction":ke,"data-expanded":!!(D||F&&me),style:{"--index":b,"--toasts-before":b,"--z-index":P.length-b,"--offset":`${Ze?Mi:pr.current}px`,"--initial-height":F?"auto":`${qe}px`,...C,...p.style},onDragEnd:()=>{$r(!1),ce(null),Ht.current=null},onPointerDown:ie=>{ct||!zr||(Lu.current=new Date,_s(pr.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&($r(!0),Ht.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Se,je,pt;if(bn||!zr)return;Ht.current=null;let dn=Number(((ie=mr.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gr=Number(((Se=mr.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Sn=new Date().getTime()-((je=Lu.current)==null?void 0:je.getTime()),Gt=de==="x"?dn:gr,qn=Math.abs(Gt)/Sn;if(Math.abs(Gt)>=b4||qn>.11){_s(pr.current),(pt=p.onDismiss)==null||pt.call(p,p),Me(de==="x"?dn>0?"right":"left":gr>0?"down":"up"),Bn(),Di(!0),xs(!1);return}$r(!1),ce(null)},onPointerMove:ie=>{var Se,je,pt,dn;if(!Ht.current||!zr||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let gr=ie.clientY-Ht.current.y,Sn=ie.clientX-Ht.current.x,Gt=(je=t.swipeDirections)!=null?je:C4(re);!de&&(Math.abs(Sn)>1||Math.abs(gr)>1)&&ce(Math.abs(Sn)>Math.abs(gr)?"x":"y");let qn={x:0,y:0};de==="y"?(Gt.includes("top")||Gt.includes("bottom"))&&(Gt.includes("top")&&gr<0||Gt.includes("bottom")&&gr>0)&&(qn.y=gr):de==="x"&&(Gt.includes("left")||Gt.includes("right"))&&(Gt.includes("left")&&Sn<0||Gt.includes("right")&&Sn>0)&&(qn.x=Sn),(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&xs(!0),(pt=mr.current)==null||pt.style.setProperty("--swipe-amount-x",`${qn.x}px`),(dn=mr.current)==null||dn.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},Vu&&!p.jsx?W.createElement("button",{"aria-label":ne,"data-disabled":ct,"data-close-button":!0,onClick:ct||!zr?()=>{}:()=>{var ie;Bn(),(ie=p.onDismiss)==null||ie.call(p,p)},className:Hn(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:d4):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:W.createElement(W.Fragment,null,Vt||p.icon||p.promise?W.createElement("div",{"data-icon":"",className:Hn(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Oi():null,p.type!=="loading"?p.icon||(G==null?void 0:G[Vt])||s4(Vt):null):null,W.createElement("div",{"data-content":"",className:Hn(L==null?void 0:L.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Hn(L==null?void 0:L.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?W.createElement("div",{"data-description":"",className:Hn(R,Dm,L==null?void 0:L.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&gd(p.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:ie=>{var Se,je;gd(p.cancel)&&zr&&((je=(Se=p.cancel).onClick)==null||je.call(Se,ie),Bn())},className:Hn(L==null?void 0:L.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&gd(p.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||k,onClick:ie=>{var Se,je;gd(p.action)&&((je=(Se=p.action).onClick)==null||je.call(Se,ie),!ie.defaultPrevented&&Bn())},className:Hn(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function D_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function N4(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?E4:_4;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var P4=y.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:I=x4,toastOptions:v,dir:x=D_(),gap:_=T4,loadingIcon:E,icons:b,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:D}=t,[j,S]=W.useState([]),T=W.useMemo(()=>Array.from(new Set([r].concat(j.filter(Z=>Z.position).map(Z=>Z.position)))),[j,r]),[C,A]=W.useState([]),[k,M]=W.useState(!1),[R,B]=W.useState(!1),[re,H]=W.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=W.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),G=W.useRef(!1),ne=W.useCallback(Z=>{S(de=>{var ce;return(ce=de.find(ke=>ke.id===Z.id))!=null&&ce.delete||Kt.dismiss(Z.id),de.filter(({id:ke})=>ke!==Z.id)})},[]);return W.useEffect(()=>Kt.subscribe(Z=>{if(Z.dismiss){S(de=>de.map(ce=>ce.id===Z.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{Bb.flushSync(()=>{S(de=>{let ce=de.findIndex(ke=>ke.id===Z.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...Z},...de.slice(ce+1)]:[Z,...de]})})})}),[]),W.useEffect(()=>{if(h!=="system"){H(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:de})=>{H(de?"dark":"light")})}catch{Z.addListener(({matches:ce})=>{try{H(ce?"dark":"light")}catch(ke){console.error(ke)}})}},[h]),W.useEffect(()=>{j.length<=1&&M(!1)},[j]),W.useEffect(()=>{let Z=de=>{var ce,ke;s.every(Me=>de[Me]||de.code===Me)&&(M(!0),(ce=te.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===te.current||(ke=te.current)!=null&&ke.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),W.useEffect(()=>{if(te.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,G.current=!1)}},[te.current]),W.createElement("section",{ref:e,"aria-label":`${P} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((Z,de)=>{var ce;let[ke,Me]=Z.split("-");return j.length?W.createElement("ol",{key:Z,dir:x==="auto"?D_():x,tabIndex:-1,ref:te,className:a,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":ke,"data-lifted":k&&j.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((ce=C[0])==null?void 0:ce.height)||0}px`,"--width":`${I4}px`,"--gap":`${_}px`,...p,...N4(l,c)},onBlur:me=>{G.current&&!me.currentTarget.contains(me.relatedTarget)&&(G.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||G.current||(G.current=!0,L.current=me.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{R||M(!1)},onDragEnd:()=>M(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},j.filter(me=>!me.position&&de===0||me.position===Z).map((me,un)=>{var Ze,Tn;return W.createElement(A4,{key:me.id,icons:b,index:un,toast:me,defaultRichColors:f,duration:(Ze=v==null?void 0:v.duration)!=null?Ze:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:I,closeButton:(Tn=v==null?void 0:v.closeButton)!=null?Tn:o,interacting:R,position:Z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ne,toasts:j.filter(hr=>hr.position==me.position),heights:C.filter(hr=>hr.position==me.position),setHeights:A,expandByDefault:i,gap:_,loadingIcon:E,expanded:k,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const R4=({...t})=>{const{theme:e="system"}=r4();return u.jsx(P4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var k4=Qy[" useId ".trim().toString()]||(()=>{}),D4=0;function oi(t){const[e,n]=y.useState(k4());return Fn(()=>{t||n(r=>r??String(D4++))},[t]),t||(e?`radix-${e}`:"")}const M4=["top","right","bottom","left"],yi=Math.min,mn=Math.max,Nh=Math.round,yd=Math.floor,Pr=t=>({x:t,y:t}),j4={left:"right",right:"left",bottom:"top",top:"bottom"},O4={start:"end",end:"start"};function ry(t,e,n){return mn(t,yi(e,n))}function ls(t,e){return typeof t=="function"?t(e):t}function cs(t){return t.split("-")[0]}function cl(t){return t.split("-")[1]}function Hv(t){return t==="x"?"y":"x"}function Gv(t){return t==="y"?"height":"width"}const L4=new Set(["top","bottom"]);function Cr(t){return L4.has(cs(t))?"y":"x"}function Kv(t){return Hv(Cr(t))}function V4(t,e,n){n===void 0&&(n=!1);const r=cl(t),s=Kv(t),i=Gv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ph(o)),[o,Ph(o)]}function F4(t){const e=Ph(t);return[sy(t),e,sy(e)]}function sy(t){return t.replace(/start|end/g,e=>O4[e])}const M_=["left","right"],j_=["right","left"],U4=["top","bottom"],$4=["bottom","top"];function z4(t,e,n){switch(t){case"top":case"bottom":return n?e?j_:M_:e?M_:j_;case"left":case"right":return e?U4:$4;default:return[]}}function B4(t,e,n,r){const s=cl(t);let i=z4(cs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(sy)))),i}function Ph(t){return t.replace(/left|right|bottom|top/g,e=>j4[e])}function q4(t){return{top:0,right:0,bottom:0,left:0,...t}}function MS(t){return typeof t!="number"?q4(t):{top:t,right:t,bottom:t,left:t}}function Rh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function O_(t,e,n){let{reference:r,floating:s}=t;const i=Cr(e),o=Kv(e),a=Gv(o),l=cs(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(cl(e)){case"start":p[o]-=m*(n&&c?-1:1);break;case"end":p[o]+=m*(n&&c?-1:1);break}return p}const W4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=O_(c,r,l),m=r,p={},I=0;for(let v=0;v<a.length;v++){const{name:x,fn:_}=a[v],{x:E,y:b,data:P,reset:D}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});h=E??h,f=b??f,p={...p,[x]:{...p[x],...P}},D&&I<=50&&(I++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=O_(c,m,l)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Wc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ls(e,t),I=MS(p),x=a[m?f==="floating"?"reference":"floating":f],_=Rh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),E=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},D=Rh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:b,strategy:l}):E);return{top:(_.top-D.top+I.top)/P.y,bottom:(D.bottom-_.bottom+I.bottom)/P.y,left:(_.left-D.left+I.left)/P.x,right:(D.right-_.right+I.right)/P.x}}const H4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=ls(t,e)||{};if(c==null)return{};const f=MS(h),m={x:n,y:r},p=Kv(s),I=Gv(p),v=await o.getDimensions(c),x=p==="y",_=x?"top":"left",E=x?"bottom":"right",b=x?"clientHeight":"clientWidth",P=i.reference[I]+i.reference[p]-m[p]-i.floating[I],D=m[p]-i.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let S=j?j[b]:0;(!S||!await(o.isElement==null?void 0:o.isElement(j)))&&(S=a.floating[b]||i.floating[I]);const T=P/2-D/2,C=S/2-v[I]/2-1,A=yi(f[_],C),k=yi(f[E],C),M=A,R=S-v[I]-k,B=S/2-v[I]/2+T,re=ry(M,B,R),H=!l.arrow&&cl(s)!=null&&B!==re&&i.reference[I]/2-(B<M?A:k)-v[I]/2<0,te=H?B<M?B-M:B-R:0;return{[p]:m[p]+te,data:{[p]:re,centerOffset:B-re-te,...H&&{alignmentOffset:te}},reset:H}}}),G4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:v=!0,...x}=ls(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=cs(s),E=Cr(a),b=cs(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=m||(b||!v?[Ph(a)]:F4(a)),j=I!=="none";!m&&j&&D.push(...B4(a,v,I,P));const S=[a,...D],T=await Wc(e,x),C=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&C.push(T[_]),f){const B=V4(s,o,P);C.push(T[B[0]],T[B[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(B=>B<=0)){var k,M;const B=(((k=i.flip)==null?void 0:k.index)||0)+1,re=S[B];if(re&&(!(f==="alignment"?E!==Cr(re):!1)||A.every(F=>F.overflows[0]>0&&Cr(F.placement)===E)))return{data:{index:B,overflows:A},reset:{placement:re}};let H=(M=A.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:M.placement;if(!H)switch(p){case"bestFit":{var R;const te=(R=A.filter(F=>{if(j){const L=Cr(F.placement);return L===E||L==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(L=>L>0).reduce((L,G)=>L+G,0)]).sort((F,L)=>F[1]-L[1])[0])==null?void 0:R[0];te&&(H=te);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function L_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function V_(t){return M4.some(e=>t[e]>=0)}const K4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ls(t,e);switch(r){case"referenceHidden":{const i=await Wc(e,{...s,elementContext:"reference"}),o=L_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:V_(o)}}}case"escaped":{const i=await Wc(e,{...s,altBoundary:!0}),o=L_(i,n.floating);return{data:{escapedOffsets:o,escaped:V_(o)}}}default:return{}}}}},jS=new Set(["left","top"]);async function Q4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cs(n),a=cl(n),l=Cr(n)==="y",c=jS.has(o)?-1:1,h=i&&l?-1:1,f=ls(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(p=a==="end"?I*-1:I),l?{x:p*h,y:m*c}:{x:m*c,y:p*h}}const Y4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Q4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},X4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y:E}=x;return{x:_,y:E}}},...l}=ls(t,e),c={x:n,y:r},h=await Wc(e,l),f=Cr(cs(s)),m=Hv(f);let p=c[m],I=c[f];if(i){const x=m==="y"?"top":"left",_=m==="y"?"bottom":"right",E=p+h[x],b=p-h[_];p=ry(E,p,b)}if(o){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",E=I+h[x],b=I-h[_];I=ry(E,I,b)}const v=a.fn({...e,[m]:p,[f]:I});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},J4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ls(t,e),h={x:n,y:r},f=Cr(s),m=Hv(f);let p=h[m],I=h[f];const v=ls(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=m==="y"?"height":"width",P=i.reference[m]-i.floating[b]+x.mainAxis,D=i.reference[m]+i.reference[b]-x.mainAxis;p<P?p=P:p>D&&(p=D)}if(c){var _,E;const b=m==="y"?"width":"height",P=jS.has(cs(s)),D=i.reference[f]-i.floating[b]+(P&&((_=o.offset)==null?void 0:_[f])||0)+(P?0:x.crossAxis),j=i.reference[f]+i.reference[b]+(P?0:((E=o.offset)==null?void 0:E[f])||0)-(P?x.crossAxis:0);I<D?I=D:I>j&&(I=j)}return{[m]:p,[f]:I}}}},Z4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ls(t,e),h=await Wc(e,c),f=cs(s),m=cl(s),p=Cr(s)==="y",{width:I,height:v}=i.floating;let x,_;f==="top"||f==="bottom"?(x=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,x=m==="end"?"top":"bottom");const E=v-h.top-h.bottom,b=I-h.left-h.right,P=yi(v-h[x],E),D=yi(I-h[_],b),j=!e.middlewareData.shift;let S=P,T=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=E),j&&!m){const A=mn(h.left,0),k=mn(h.right,0),M=mn(h.top,0),R=mn(h.bottom,0);p?T=I-2*(A!==0||k!==0?A+k:mn(h.left,h.right)):S=v-2*(M!==0||R!==0?M+R:mn(h.top,h.bottom))}await l({...e,availableWidth:T,availableHeight:S});const C=await o.getDimensions(a.floating);return I!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function Vf(){return typeof window<"u"}function ul(t){return OS(t)?(t.nodeName||"").toLowerCase():"#document"}function yn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ur(t){var e;return(e=(OS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function OS(t){return Vf()?t instanceof Node||t instanceof yn(t).Node:!1}function or(t){return Vf()?t instanceof Element||t instanceof yn(t).Element:!1}function Lr(t){return Vf()?t instanceof HTMLElement||t instanceof yn(t).HTMLElement:!1}function F_(t){return!Vf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof yn(t).ShadowRoot}const eL=new Set(["inline","contents"]);function wu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!eL.has(s)}const tL=new Set(["table","td","th"]);function nL(t){return tL.has(ul(t))}const rL=[":popover-open",":modal"];function Ff(t){return rL.some(e=>{try{return t.matches(e)}catch{return!1}})}const sL=["transform","translate","scale","rotate","perspective"],iL=["transform","translate","scale","rotate","perspective","filter"],oL=["paint","layout","strict","content"];function Qv(t){const e=Yv(),n=or(t)?ar(t):t;return sL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||iL.some(r=>(n.willChange||"").includes(r))||oL.some(r=>(n.contain||"").includes(r))}function aL(t){let e=vi(t);for(;Lr(e)&&!$a(e);){if(Qv(e))return e;if(Ff(e))return null;e=vi(e)}return null}function Yv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lL=new Set(["html","body","#document"]);function $a(t){return lL.has(ul(t))}function ar(t){return yn(t).getComputedStyle(t)}function Uf(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function vi(t){if(ul(t)==="html")return t;const e=t.assignedSlot||t.parentNode||F_(t)&&t.host||Ur(t);return F_(e)?e.host:e}function LS(t){const e=vi(t);return $a(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&wu(e)?e:LS(e)}function Hc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=LS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=yn(s);if(i){const a=iy(o);return e.concat(o,o.visualViewport||[],wu(s)?s:[],a&&n?Hc(a):[])}return e.concat(s,Hc(s,[],n))}function iy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function VS(t){const e=ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Lr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Nh(n)!==i||Nh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Xv(t){return or(t)?t:t.contextElement}function ya(t){const e=Xv(t);if(!Lr(e))return Pr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=VS(e);let o=(i?Nh(n.width):n.width)/r,a=(i?Nh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const cL=Pr(0);function FS(t){const e=yn(t);return!Yv()||!e.visualViewport?cL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function uL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==yn(t)?!1:e}function go(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Xv(t);let o=Pr(1);e&&(r?or(r)&&(o=ya(r)):o=ya(t));const a=uL(i,n,r)?FS(i):Pr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=yn(i),p=r&&or(r)?yn(r):r;let I=m,v=iy(I);for(;v&&r&&p!==I;){const x=ya(v),_=v.getBoundingClientRect(),E=ar(v),b=_.left+(v.clientLeft+parseFloat(E.paddingLeft))*x.x,P=_.top+(v.clientTop+parseFloat(E.paddingTop))*x.y;l*=x.x,c*=x.y,h*=x.x,f*=x.y,l+=b,c+=P,I=yn(v),v=iy(I)}}return Rh({width:h,height:f,x:l,y:c})}function Jv(t,e){const n=Uf(t).scrollLeft;return e?e.left+n:go(Ur(t)).left+n}function US(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Jv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function dL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ur(r),a=e?Ff(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Pr(1);const h=Pr(0),f=Lr(r);if((f||!f&&!i)&&((ul(r)!=="body"||wu(o))&&(l=Uf(r)),Lr(r))){const p=go(r);c=ya(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=o&&!f&&!i?US(o,l,!0):Pr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+m.x,y:n.y*c.y-l.scrollTop*c.y+h.y+m.y}}function hL(t){return Array.from(t.getClientRects())}function fL(t){const e=Ur(t),n=Uf(t),r=t.ownerDocument.body,s=mn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=mn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Jv(t);const a=-n.scrollTop;return ar(r).direction==="rtl"&&(o+=mn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function mL(t,e){const n=yn(t),r=Ur(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Yv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const pL=new Set(["absolute","fixed"]);function gL(t,e){const n=go(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Lr(t)?ya(t):Pr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function U_(t,e,n){let r;if(e==="viewport")r=mL(t,n);else if(e==="document")r=fL(Ur(t));else if(or(e))r=gL(e,n);else{const s=FS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Rh(r)}function $S(t,e){const n=vi(t);return n===e||!or(n)||$a(n)?!1:ar(n).position==="fixed"||$S(n,e)}function yL(t,e){const n=e.get(t);if(n)return n;let r=Hc(t,[],!1).filter(a=>or(a)&&ul(a)!=="body"),s=null;const i=ar(t).position==="fixed";let o=i?vi(t):t;for(;or(o)&&!$a(o);){const a=ar(o),l=Qv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&pL.has(s.position)||wu(o)&&!l&&$S(t,o))?r=r.filter(h=>h!==o):s=a,o=vi(o)}return e.set(t,r),r}function vL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Ff(e)?[]:yL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=U_(e,h,s);return c.top=mn(f.top,c.top),c.right=yi(f.right,c.right),c.bottom=yi(f.bottom,c.bottom),c.left=mn(f.left,c.left),c},U_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wL(t){const{width:e,height:n}=VS(t);return{width:e,height:n}}function xL(t,e,n){const r=Lr(e),s=Ur(e),i=n==="fixed",o=go(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Pr(0);function c(){l.x=Jv(s)}if(r||!r&&!i)if((ul(e)!=="body"||wu(s))&&(a=Uf(e)),r){const p=go(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?US(s,a):Pr(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function bp(t){return ar(t).position==="static"}function $_(t,e){if(!Lr(t)||ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ur(t)===n&&(n=n.ownerDocument.body),n}function zS(t,e){const n=yn(t);if(Ff(t))return n;if(!Lr(t)){let s=vi(t);for(;s&&!$a(s);){if(or(s)&&!bp(s))return s;s=vi(s)}return n}let r=$_(t,e);for(;r&&nL(r)&&bp(r);)r=$_(r,e);return r&&$a(r)&&bp(r)&&!Qv(r)?n:r||aL(t)||n}const _L=async function(t){const e=this.getOffsetParent||zS,n=this.getDimensions,r=await n(t.floating);return{reference:xL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function EL(t){return ar(t).direction==="rtl"}const IL={convertOffsetParentRelativeRectToViewportRelativeRect:dL,getDocumentElement:Ur,getClippingRect:vL,getOffsetParent:zS,getElementRects:_L,getClientRects:hL,getDimensions:wL,getScale:ya,isElement:or,isRTL:EL};function BS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TL(t,e){let n=null,r;const s=Ur(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=c;if(a||e(),!m||!p)return;const I=yd(f),v=yd(s.clientWidth-(h+m)),x=yd(s.clientHeight-(f+p)),_=yd(h),b={rootMargin:-I+"px "+-v+"px "+-x+"px "+-_+"px",threshold:mn(0,yi(1,l))||1};let P=!0;function D(j){const S=j[0].intersectionRatio;if(S!==l){if(!P)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!BS(c,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(D,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,b)}n.observe(t)}return o(!0),i}function bL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Xv(t),h=s||i?[...c?Hc(c):[],...Hc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=c&&a?TL(c,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[E]=_;E&&E.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let I,v=l?go(t):null;l&&x();function x(){const _=go(t);v&&!BS(v,_)&&n(),v=_,I=requestAnimationFrame(x)}return n(),()=>{var _;h.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,l&&cancelAnimationFrame(I)}}const SL=Y4,CL=X4,AL=G4,NL=Z4,PL=K4,z_=H4,RL=J4,kL=(t,e,n)=>{const r=new Map,s={platform:IL,...n},i={...s.platform,_c:r};return W4(t,e,{...s,platform:i})};var DL=typeof document<"u",ML=function(){},qd=DL?y.useLayoutEffect:ML;function kh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!kh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function qS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B_(t,e){const n=qS(t);return Math.round(e*n)/n}function Sp(t){const e=y.useRef(t);return qd(()=>{e.current=t}),e}function jL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=y.useState(r);kh(m,r)||p(r);const[I,v]=y.useState(null),[x,_]=y.useState(null),E=y.useCallback(F=>{F!==j.current&&(j.current=F,v(F))},[]),b=y.useCallback(F=>{F!==S.current&&(S.current=F,_(F))},[]),P=i||I,D=o||x,j=y.useRef(null),S=y.useRef(null),T=y.useRef(h),C=l!=null,A=Sp(l),k=Sp(s),M=Sp(c),R=y.useCallback(()=>{if(!j.current||!S.current)return;const F={placement:e,strategy:n,middleware:m};k.current&&(F.platform=k.current),kL(j.current,S.current,F).then(L=>{const G={...L,isPositioned:M.current!==!1};B.current&&!kh(T.current,G)&&(T.current=G,pu.flushSync(()=>{f(G)}))})},[m,e,n,k,M]);qd(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[c]);const B=y.useRef(!1);qd(()=>(B.current=!0,()=>{B.current=!1}),[]),qd(()=>{if(P&&(j.current=P),D&&(S.current=D),P&&D){if(A.current)return A.current(P,D,R);R()}},[P,D,R,A,C]);const re=y.useMemo(()=>({reference:j,floating:S,setReference:E,setFloating:b}),[E,b]),H=y.useMemo(()=>({reference:P,floating:D}),[P,D]),te=y.useMemo(()=>{const F={position:n,left:0,top:0};if(!H.floating)return F;const L=B_(H.floating,h.x),G=B_(H.floating,h.y);return a?{...F,transform:"translate("+L+"px, "+G+"px)",...qS(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:G}},[n,a,H.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:R,refs:re,elements:H,floatingStyles:te}),[h,R,re,H,te])}const OL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?z_({element:r.current,padding:s}).fn(n):{}:r?z_({element:r,padding:s}).fn(n):{}}}},LL=(t,e)=>({...SL(t),options:[t,e]}),VL=(t,e)=>({...CL(t),options:[t,e]}),FL=(t,e)=>({...RL(t),options:[t,e]}),UL=(t,e)=>({...AL(t),options:[t,e]}),$L=(t,e)=>({...NL(t),options:[t,e]}),zL=(t,e)=>({...PL(t),options:[t,e]}),BL=(t,e)=>({...OL(t),options:[t,e]});var qL="Arrow",WS=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});WS.displayName=qL;var WL=WS;function HL(t){const[e,n]=y.useState(void 0);return Fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Zv="Popper",[HS,dl]=ur(Zv),[GL,GS]=HS(Zv),KS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=y.useState(null);return u.jsx(GL,{scope:e,anchor:r,onAnchorChange:s,children:n})};KS.displayName=Zv;var QS="PopperAnchor",YS=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=GS(QS,n),o=y.useRef(null),a=Ke(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ve.div,{...s,ref:a})});YS.displayName=QS;var ew="PopperContent",[KL,QL]=HS(ew),XS=y.forwardRef((t,e)=>{var me,un,Ze,Tn,hr,$r;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:I,...v}=t,x=GS(ew,n),[_,E]=y.useState(null),b=Ke(e,bn=>E(bn)),[P,D]=y.useState(null),j=HL(P),S=(j==null?void 0:j.width)??0,T=(j==null?void 0:j.height)??0,C=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],M=k.length>0,R={padding:A,boundary:k.filter(XL),altBoundary:M},{refs:B,floatingStyles:re,placement:H,isPositioned:te,middlewareData:F}=jL({strategy:"fixed",placement:C,whileElementsMounted:(...bn)=>bL(...bn,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[LL({mainAxis:s+T,alignmentAxis:o}),l&&VL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FL():void 0,...R}),l&&UL({...R}),$L({...R,apply:({elements:bn,rects:Di,availableWidth:Il,availableHeight:xs})=>{const{width:Mi,height:_s}=Di.reference,qe=bn.floating.style;qe.setProperty("--radix-popper-available-width",`${Il}px`),qe.setProperty("--radix-popper-available-height",`${xs}px`),qe.setProperty("--radix-popper-anchor-width",`${Mi}px`),qe.setProperty("--radix-popper-anchor-height",`${_s}px`)}}),P&&BL({element:P,padding:a}),JL({arrowWidth:S,arrowHeight:T}),m&&zL({strategy:"referenceHidden",...R})]}),[L,G]=eC(H),ne=ln(I);Fn(()=>{te&&(ne==null||ne())},[te,ne]);const Z=(me=F.arrow)==null?void 0:me.x,de=(un=F.arrow)==null?void 0:un.y,ce=((Ze=F.arrow)==null?void 0:Ze.centerOffset)!==0,[ke,Me]=y.useState();return Fn(()=>{_&&Me(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:te?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[(Tn=F.transformOrigin)==null?void 0:Tn.x,(hr=F.transformOrigin)==null?void 0:hr.y].join(" "),...(($r=F.hide)==null?void 0:$r.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(KL,{scope:n,placedSide:L,onArrowChange:D,arrowX:Z,arrowY:de,shouldHideArrow:ce,children:u.jsx(ve.div,{"data-side":L,"data-align":G,...v,ref:b,style:{...v.style,animation:te?void 0:"none"}})})})});XS.displayName=ew;var JS="PopperArrow",YL={top:"bottom",right:"left",bottom:"top",left:"right"},ZS=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=QL(JS,r),o=YL[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(WL,{...s,ref:n,style:{...s.style,display:"block"}})})});ZS.displayName=JS;function XL(t){return t!==null}var JL=t=>({name:"transformOrigin",options:t,fn(e){var x,_,E;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=eC(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,p=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let I="",v="";return c==="bottom"?(I=o?f:`${m}px`,v=`${-l}px`):c==="top"?(I=o?f:`${m}px`,v=`${r.floating.height+l}px`):c==="right"?(I=`${-l}px`,v=o?f:`${p}px`):c==="left"&&(I=`${r.floating.width+l}px`,v=o?f:`${p}px`),{data:{x:I,y:v}}}});function eC(t){const[e,n="center"]=t.split("-");return[e,n]}var tC=KS,$f=YS,tw=XS,nw=ZS,[zf,MK]=ur("Tooltip",[dl]),rw=dl(),nC="TooltipProvider",ZL=700,q_="tooltip.open",[eV,rC]=zf(nC),sC=t=>{const{__scopeTooltip:e,delayDuration:n=ZL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=y.useRef(!0),a=y.useRef(!1),l=y.useRef(0);return y.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(eV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:y.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};sC.displayName=nC;var iC="Tooltip",[jK,Bf]=zf(iC),oy="TooltipTrigger",tV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Bf(oy,n),i=rC(oy,n),o=rw(n),a=y.useRef(null),l=Ke(e,a,s.onTriggerChange),c=y.useRef(!1),h=y.useRef(!1),f=y.useCallback(()=>c.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx($f,{asChild:!0,...o,children:u.jsx(ve.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});tV.displayName=oy;var nV="TooltipPortal",[OK,rV]=zf(nV,{forceMount:void 0}),za="TooltipContent",oC=y.forwardRef((t,e)=>{const n=rV(za,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Bf(za,t.__scopeTooltip);return u.jsx(In,{present:r||o.open,children:o.disableHoverableContent?u.jsx(aC,{side:s,...i,ref:e}):u.jsx(sV,{side:s,...i,ref:e})})}),sV=y.forwardRef((t,e)=>{const n=Bf(za,t.__scopeTooltip),r=rC(za,t.__scopeTooltip),s=y.useRef(null),i=Ke(e,s),[o,a]=y.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,m=y.useCallback(()=>{a(null),f(!1)},[f]),p=y.useCallback((I,v)=>{const x=I.currentTarget,_={x:I.clientX,y:I.clientY},E=cV(_,x.getBoundingClientRect()),b=uV(_,E),P=dV(v.getBoundingClientRect()),D=fV([...b,...P]);a(D),f(!0)},[f]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(l&&h){const I=x=>p(x,h),v=x=>p(x,l);return l.addEventListener("pointerleave",I),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",I),h.removeEventListener("pointerleave",v)}}},[l,h,p,m]),y.useEffect(()=>{if(o){const I=v=>{const x=v.target,_={x:v.clientX,y:v.clientY},E=(l==null?void 0:l.contains(x))||(h==null?void 0:h.contains(x)),b=!hV(_,o);E?m():b&&(m(),c())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[l,h,o,c,m]),u.jsx(aC,{...t,ref:i})}),[iV,oV]=zf(iC,{isInside:!1}),aV=pj("TooltipContent"),aC=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Bf(za,n),c=rw(n),{onClose:h}=l;return y.useEffect(()=>(document.addEventListener(q_,h),()=>document.removeEventListener(q_,h)),[h]),y.useEffect(()=>{if(l.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),u.jsx(il,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:u.jsxs(tw,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(aV,{children:r}),u.jsx(iV,{scope:n,isInside:!0,children:u.jsx(Vj,{id:l.contentId,role:"tooltip",children:s||r})})]})})});oC.displayName=za;var lC="TooltipArrow",lV=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rw(n);return oV(lC,n).isInside?null:u.jsx(nw,{...s,...r,ref:e})});lV.displayName=lC;function cV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function dV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function hV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-c)*(r-h)/(m-h)+c&&(s=!s)}return s}function fV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mV(e)}function mV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var pV=sC,cC=oC;const gV=pV,yV=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(cC,{ref:r,sideOffset:e,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));yV.displayName=cC.displayName;var qf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wf=typeof window>"u"||"Deno"in globalThis;function Qn(){}function vV(t,e){return typeof t=="function"?t(e):t}function wV(t){return typeof t=="number"&&t>=0&&t!==1/0}function xV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ay(t,e){return typeof t=="function"?t(e):t}function _V(t,e){return typeof t=="function"?t(e):t}function W_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==sw(o,e.options))return!1}else if(!Kc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function H_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Gc(e.options.mutationKey)!==Gc(i))return!1}else if(!Kc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function sw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gc)(t)}function Gc(t){return JSON.stringify(t,(e,n)=>ly(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Kc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Kc(t[n],e[n])):!1}function uC(t,e){if(t===e)return t;const n=G_(t)&&G_(e);if(n||ly(t)&&ly(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=uC(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function G_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ly(t){if(!K_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!K_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function K_(t){return Object.prototype.toString.call(t)==="[object Object]"}function EV(t){return new Promise(e=>{setTimeout(e,t)})}function IV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uC(t,e):e}function TV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var iw=Symbol();function dC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===iw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ji,Bs,ba,EI,SV=(EI=class extends qf{constructor(){super();be(this,Ji);be(this,Bs);be(this,ba);fe(this,ba,e=>{if(!Wf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Bs)||this.setEventListener(U(this,ba))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Bs))==null||e.call(this),fe(this,Bs,void 0))}setEventListener(e){var n;fe(this,ba,e),(n=U(this,Bs))==null||n.call(this),fe(this,Bs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Ji)!==e&&(fe(this,Ji,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Ji)=="boolean"?U(this,Ji):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ji=new WeakMap,Bs=new WeakMap,ba=new WeakMap,EI),hC=new SV,Sa,qs,Ca,II,CV=(II=class extends qf{constructor(){super();be(this,Sa,!0);be(this,qs);be(this,Ca);fe(this,Ca,e=>{if(!Wf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,qs)||this.setEventListener(U(this,Ca))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,qs))==null||e.call(this),fe(this,qs,void 0))}setEventListener(e){var n;fe(this,Ca,e),(n=U(this,qs))==null||n.call(this),fe(this,qs,e(this.setOnline.bind(this)))}setOnline(e){U(this,Sa)!==e&&(fe(this,Sa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Sa)}},Sa=new WeakMap,qs=new WeakMap,Ca=new WeakMap,II),Dh=new CV;function AV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function NV(t){return Math.min(1e3*2**t,3e4)}function fC(t){return(t??"online")==="online"?Dh.isOnline():!0}var mC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Cp(t){return t instanceof mC}function pC(t){let e=!1,n=0,r=!1,s;const i=AV(),o=v=>{var x;r||(m(new mC(v)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>hC.isFocused()&&(t.networkMode==="always"||Dh.isOnline())&&t.canRun(),h=()=>fC(t.networkMode)&&t.canRun(),f=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),s==null||s(),i.reject(v))},p=()=>new Promise(v=>{var x;s=_=>{(r||c())&&v(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),I=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var j;if(r)return;const E=t.retry??(Wf?0:3),b=t.retryDelay??NV,P=typeof b=="function"?b(n,_):b,D=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(e||!D){m(_);return}n++,(j=t.onFail)==null||j.call(t,n,_),EV(P).then(()=>c()?void 0:p()).then(()=>{e?m(_):I()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?I():p().then(I),i)}}var PV=t=>setTimeout(t,0);function RV(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=PV;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var $t=RV(),Zi,TI,gC=(TI=class{constructor(){be(this,Zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wV(this.gcTime)&&fe(this,Zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Wf?1/0:5*60*1e3))}clearGcTimeout(){U(this,Zi)&&(clearTimeout(U(this,Zi)),fe(this,Zi,void 0))}},Zi=new WeakMap,TI),Aa,eo,Cn,to,kt,lu,no,Yn,Wr,bI,kV=(bI=class extends gC{constructor(n){super();be(this,Yn);be(this,Aa);be(this,eo);be(this,Cn);be(this,to);be(this,kt);be(this,lu);be(this,no);fe(this,no,!1),fe(this,lu,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,to,n.client),fe(this,Cn,U(this,to).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,Aa,MV(this.options)),this.state=n.state??U(this,Aa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,kt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,lu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Cn).remove(this)}setData(n,r){const s=IV(this.state.data,n,this.options);return At(this,Yn,Wr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){At(this,Yn,Wr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,kt))==null?void 0:s.promise;return(i=U(this,kt))==null||i.cancel(n),r?r.then(Qn).catch(Qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Aa))}isActive(){return this.observers.some(n=>_V(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ay(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!xV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,kt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,kt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Cn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,kt)&&(U(this,no)?U(this,kt).cancel({revert:!0}):U(this,kt).cancelRetry()),this.scheduleGc()),U(this,Cn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Yn,Wr).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,kt))return U(this,kt).continueRetry(),U(this,kt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(I=>I.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(fe(this,no,!0),s.signal)})},o=()=>{const p=dC(this.options,r),v=(()=>{const x={client:U(this,to),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return fe(this,no,!1),this.options.persister?this.options.persister(p,v,this):p(v)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,to),state:this.state,fetchFn:o};return i(p),p})();(h=this.options.behavior)==null||h.onFetch(l,this),fe(this,eo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&At(this,Yn,Wr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=p=>{var I,v,x,_;Cp(p)&&p.silent||At(this,Yn,Wr).call(this,{type:"error",error:p}),Cp(p)||((v=(I=U(this,Cn).config).onError)==null||v.call(I,p,this),(_=(x=U(this,Cn).config).onSettled)==null||_.call(x,this.state.data,p,this)),this.scheduleGc()};return fe(this,kt,pC({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var I,v,x,_;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){c(E);return}(v=(I=U(this,Cn).config).onSuccess)==null||v.call(I,p,this),(_=(x=U(this,Cn).config).onSettled)==null||_.call(x,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,I)=>{At(this,Yn,Wr).call(this,{type:"failed",failureCount:p,error:I})},onPause:()=>{At(this,Yn,Wr).call(this,{type:"pause"})},onContinue:()=>{At(this,Yn,Wr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,kt).start()}},Aa=new WeakMap,eo=new WeakMap,Cn=new WeakMap,to=new WeakMap,kt=new WeakMap,lu=new WeakMap,no=new WeakMap,Yn=new WeakSet,Wr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...DV(s.data,this.options),fetchMeta:n.meta??null};case"success":return fe(this,eo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Cp(i)&&i.revert&&U(this,eo)?{...U(this,eo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),$t.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Cn).notify({query:this,type:"updated",action:n})})},bI);function DV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function MV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Er,SI,jV=(SI=class extends qf{constructor(e={}){super();be(this,Er);this.config=e,fe(this,Er,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??sw(s,n);let o=this.get(i);return o||(o=new kV({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Er).has(e.queryHash)||(U(this,Er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Er).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$t.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Er).get(e)}getAll(){return[...U(this,Er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>W_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>W_(e,r)):n}notify(e){$t.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){$t.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$t.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Er=new WeakMap,SI),Ir,Ft,ro,Tr,Ds,CI,OV=(CI=class extends gC{constructor(n){super();be(this,Tr);be(this,Ir);be(this,Ft);be(this,ro);this.mutationId=n.mutationId,fe(this,Ft,n.mutationCache),fe(this,Ir,[]),this.state=n.state||LV(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Ir).includes(n)||(U(this,Ir).push(n),this.clearGcTimeout(),U(this,Ft).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,Ir,U(this,Ir).filter(r=>r!==n)),this.scheduleGc(),U(this,Ft).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():U(this,Ft).remove(this))}continue(){var n;return((n=U(this,ro))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,h,f,m,p,I,v,x,_,E,b,P,D,j,S,T,C;const r=()=>{At(this,Tr,Ds).call(this,{type:"continue"})};fe(this,ro,pC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,k)=>{At(this,Tr,Ds).call(this,{type:"failed",failureCount:A,error:k})},onPause:()=>{At(this,Tr,Ds).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Ft).canRun(this)}));const s=this.state.status==="pending",i=!U(this,ro).canStart();try{if(s)r();else{At(this,Tr,Ds).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Ft).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));k!==this.state.context&&At(this,Tr,Ds).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const A=await U(this,ro).start();return await((f=(h=U(this,Ft).config).onSuccess)==null?void 0:f.call(h,A,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,A,n,this.state.context)),await((v=(I=U(this,Ft).config).onSettled)==null?void 0:v.call(I,A,null,this.state.variables,this.state.context,this)),await((_=(x=this.options).onSettled)==null?void 0:_.call(x,A,null,n,this.state.context)),At(this,Tr,Ds).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(E=U(this,Ft).config).onError)==null?void 0:b.call(E,A,n,this.state.context,this)),await((D=(P=this.options).onError)==null?void 0:D.call(P,A,n,this.state.context)),await((S=(j=U(this,Ft).config).onSettled)==null?void 0:S.call(j,void 0,A,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,A,n,this.state.context)),A}finally{At(this,Tr,Ds).call(this,{type:"error",error:A})}}finally{U(this,Ft).runNext(this)}}},Ir=new WeakMap,Ft=new WeakMap,ro=new WeakMap,Tr=new WeakSet,Ds=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),$t.batch(()=>{U(this,Ir).forEach(s=>{s.onMutationUpdate(n)}),U(this,Ft).notify({mutation:this,type:"updated",action:n})})},CI);function LV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kr,Xn,cu,AI,VV=(AI=class extends qf{constructor(e={}){super();be(this,Kr);be(this,Xn);be(this,cu);this.config=e,fe(this,Kr,new Set),fe(this,Xn,new Map),fe(this,cu,0)}build(e,n,r){const s=new OV({mutationCache:this,mutationId:++Yu(this,cu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Kr).add(e);const n=vd(e);if(typeof n=="string"){const r=U(this,Xn).get(n);r?r.push(e):U(this,Xn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Kr).delete(e)){const n=vd(e);if(typeof n=="string"){const r=U(this,Xn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Xn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=vd(e);if(typeof n=="string"){const r=U(this,Xn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=vd(e);if(typeof n=="string"){const s=(r=U(this,Xn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$t.batch(()=>{U(this,Kr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Kr).clear(),U(this,Xn).clear()})}getAll(){return Array.from(U(this,Kr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>H_(n,r))}findAll(e={}){return this.getAll().filter(n=>H_(e,n))}notify(e){$t.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return $t.batch(()=>Promise.all(e.map(n=>n.continue().catch(Qn))))}},Kr=new WeakMap,Xn=new WeakMap,cu=new WeakMap,AI);function vd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Q_(t){return{onFetch:(e,n)=>{var h,f,m,p,I;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=dC(e.options,e.fetchOptions),E=async(b,P,D)=>{if(v)return Promise.reject();if(P==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:P,direction:D?"backward":"forward",meta:e.options.meta};return x(k),k})(),T=await _(S),{maxPages:C}=e.options,A=D?bV:TV;return{pages:A(b.pages,T,C),pageParams:A(b.pageParams,P,C)}};if(s&&i.length){const b=s==="backward",P=b?FV:Y_,D={pages:i,pageParams:o},j=P(r,D);a=await E(D,j,b)}else{const b=t??i.length;do{const P=l===0?o[0]??r.initialPageParam:Y_(r,a);if(l>0&&P==null)break;a=await E(a,P),l++}while(l<b)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Y_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function FV(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,Ws,Hs,Na,Pa,Gs,Ra,ka,NI,UV=(NI=class{constructor(t={}){be(this,Xe);be(this,Ws);be(this,Hs);be(this,Na);be(this,Pa);be(this,Gs);be(this,Ra);be(this,ka);fe(this,Xe,t.queryCache||new jV),fe(this,Ws,t.mutationCache||new VV),fe(this,Hs,t.defaultOptions||{}),fe(this,Na,new Map),fe(this,Pa,new Map),fe(this,Gs,0)}mount(){Yu(this,Gs)._++,U(this,Gs)===1&&(fe(this,Ra,hC.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onFocus())})),fe(this,ka,Dh.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onOnline())})))}unmount(){var t,e;Yu(this,Gs)._--,U(this,Gs)===0&&((t=U(this,Ra))==null||t.call(this),fe(this,Ra,void 0),(e=U(this,ka))==null||e.call(this),fe(this,ka,void 0))}isFetching(t){return U(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Ws).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ay(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=vV(e,i);if(o!==void 0)return U(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return $t.batch(()=>U(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Xe);$t.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Xe);return $t.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=$t.batch(()=>U(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Qn).catch(Qn)}invalidateQueries(t,e={}){return $t.batch(()=>(U(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=$t.batch(()=>U(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Qn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Qn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Xe).build(this,e);return n.isStaleByTime(ay(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Qn).catch(Qn)}fetchInfiniteQuery(t){return t.behavior=Q_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Qn).catch(Qn)}ensureInfiniteQueryData(t){return t.behavior=Q_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Dh.isOnline()?U(this,Ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Xe)}getMutationCache(){return U(this,Ws)}getDefaultOptions(){return U(this,Hs)}setDefaultOptions(t){fe(this,Hs,t)}setQueryDefaults(t,e){U(this,Na).set(Gc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Na).values()],n={};return e.forEach(r=>{Kc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Pa).set(Gc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Pa).values()],n={};return e.forEach(r=>{Kc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Hs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===iw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Hs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Xe).clear(),U(this,Ws).clear()}},Xe=new WeakMap,Ws=new WeakMap,Hs=new WeakMap,Na=new WeakMap,Pa=new WeakMap,Gs=new WeakMap,Ra=new WeakMap,ka=new WeakMap,NI),$V=y.createContext(void 0),zV=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx($V.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qc.apply(this,arguments)}var Ys;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ys||(Ys={}));const X_="popstate";function BV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return cy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mh(s)}return WV(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qV(){return Math.random().toString(36).substr(2,8)}function J_(t,e){return{usr:t.state,key:t.key,idx:e}}function cy(t,e,n,r){return n===void 0&&(n=null),Qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hl(e):e,{state:n,key:e&&e.key||r||qV()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function WV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ys.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Qc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Ys.Pop;let x=h(),_=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:_})}function m(x,_){a=Ys.Push;let E=cy(v.location,x,_);c=h()+1;let b=J_(E,c),P=v.createHref(E);try{o.pushState(b,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}i&&l&&l({action:a,location:v.location,delta:1})}function p(x,_){a=Ys.Replace;let E=cy(v.location,x,_);c=h();let b=J_(E,c),P=v.createHref(E);o.replaceState(b,"",P),i&&l&&l({action:a,location:v.location,delta:0})}function I(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof x=="string"?x:Mh(x);return E=E.replace(/ $/,"%20"),at(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let v={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(X_,f),l=x,()=>{s.removeEventListener(X_,f),l=null}},createHref(x){return e(s,x)},createURL:I,encodeLocation(x){let _=I(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(x){return o.go(x)}};return v}var Z_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Z_||(Z_={}));function HV(t,e,n){return n===void 0&&(n="/"),GV(t,e,n,!1)}function GV(t,e,n,r){let s=typeof e=="string"?hl(e):e,i=ow(s.pathname||"/",n);if(i==null)return null;let o=vC(t);KV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=iF(i);a=rF(o[l],c,r)}return a}function vC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(at(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ai([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vC(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:tF(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of wC(i.path))s(i,o,l)}),e}function wC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=wC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QV=/^:[\w-]+$/,YV=3,XV=2,JV=1,ZV=10,eF=-2,eE=t=>t==="*";function tF(t,e){let n=t.split("/"),r=n.length;return n.some(eE)&&(r+=eF),e&&(r+=XV),n.filter(s=>!eE(s)).reduce((s,i)=>s+(QV.test(i)?YV:i===""?JV:ZV),r)}function nF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function rF(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=tE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),m=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=tE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ai([i,f.pathname]),pathnameBase:cF(ai([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=ai([i,f.pathnameBase]))}return o}function tE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:p}=h;if(m==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const I=a[f];return p&&!I?c[m]=void 0:c[m]=(I||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function sF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function iF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ow(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?hl(t):t;return{pathname:n?n.startsWith("/")?n:aF(n,e):e,search:uF(r),hash:dF(s)}}function aF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ap(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xC(t,e){let n=lF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _C(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=hl(t):(s=Qc({},t),at(!s.pathname||!s.pathname.includes("?"),Ap("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Ap("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Ap("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=oF(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ai=t=>t.join("/").replace(/\/\/+/g,"/"),cF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const EC=["post","put","patch","delete"];new Set(EC);const fF=["get",...EC];new Set(fF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}const aw=y.createContext(null),mF=y.createContext(null),Co=y.createContext(null),Hf=y.createContext(null),gs=y.createContext({outlet:null,matches:[],isDataRoute:!1}),IC=y.createContext(null);function pF(t,e){let{relative:n}=e===void 0?{}:e;xu()||at(!1);let{basename:r,navigator:s}=y.useContext(Co),{hash:i,pathname:o,search:a}=bC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ai([r,o])),s.createHref({pathname:l,search:a,hash:i})}function xu(){return y.useContext(Hf)!=null}function Ao(){return xu()||at(!1),y.useContext(Hf).location}function TC(t){y.useContext(Co).static||y.useLayoutEffect(t)}function fl(){let{isDataRoute:t}=y.useContext(gs);return t?RF():gF()}function gF(){xu()||at(!1);let t=y.useContext(aw),{basename:e,future:n,navigator:r}=y.useContext(Co),{matches:s}=y.useContext(gs),{pathname:i}=Ao(),o=JSON.stringify(xC(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return TC(()=>{a.current=!0}),y.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=_C(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ai([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}const yF=y.createContext(null);function vF(t){let e=y.useContext(gs).outlet;return e&&y.createElement(yF.Provider,{value:t},e)}function wF(){let{matches:t}=y.useContext(gs),e=t[t.length-1];return e?e.params:{}}function bC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(Co),{matches:s}=y.useContext(gs),{pathname:i}=Ao(),o=JSON.stringify(xC(s,r.v7_relativeSplatPath));return y.useMemo(()=>_C(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function xF(t,e){return _F(t,e)}function _F(t,e,n,r){xu()||at(!1);let{navigator:s}=y.useContext(Co),{matches:i}=y.useContext(gs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ao(),h;if(e){var f;let x=typeof e=="string"?hl(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||at(!1),h=x}else h=c;let m=h.pathname||"/",p=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let I=HV(t,{pathname:p}),v=SF(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:ai([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ai([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?y.createElement(Hf.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ys.Pop}},v):v}function EF(){let t=PF(),e=hF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const IF=y.createElement(EF,null);class TF extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(gs.Provider,{value:this.props.routeContext},y.createElement(IC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bF(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(aw);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(gs.Provider,{value:e},r)}function SF(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||at(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:p}=n,I=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||I){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let p,I=!1,v=null,x=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||IF,l&&(c<0&&m===0?(I=!0,x=null):c===m&&(I=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),E=()=>{let b;return p?b=v:I?b=x:f.route.Component?b=y.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,y.createElement(bF,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(TF,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var SC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SC||{}),jh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jh||{});function CF(t){let e=y.useContext(aw);return e||at(!1),e}function AF(t){let e=y.useContext(mF);return e||at(!1),e}function NF(t){let e=y.useContext(gs);return e||at(!1),e}function CC(t){let e=NF(),n=e.matches[e.matches.length-1];return n.route.id||at(!1),n.route.id}function PF(){var t;let e=y.useContext(IC),n=AF(jh.UseRouteError),r=CC(jh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RF(){let{router:t}=CF(SC.UseNavigateStable),e=CC(jh.UseNavigateStable),n=y.useRef(!1);return TC(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Yc({fromRouteId:e},i)))},[t,e])}function kF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function DF(t){return vF(t.context)}function Ms(t){at(!1)}function MF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ys.Pop,navigator:i,static:o=!1,future:a}=t;xu()&&at(!1);let l=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:i,static:o,future:Yc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=hl(r));let{pathname:h="/",search:f="",hash:m="",state:p=null,key:I="default"}=r,v=y.useMemo(()=>{let x=ow(h,l);return x==null?null:{location:{pathname:x,search:f,hash:m,state:p,key:I},navigationType:s}},[l,h,f,m,p,I,s]);return v==null?null:y.createElement(Co.Provider,{value:c},y.createElement(Hf.Provider,{children:n,value:v}))}function jF(t){let{children:e,location:n}=t;return xF(uy(e),n)}new Promise(()=>{});function uy(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,uy(r.props.children,i));return}r.type!==Ms&&at(!1),!r.props.index||!r.props.children||at(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dy.apply(this,arguments)}function OF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function LF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VF(t,e){return t.button===0&&(!e||e==="_self")&&!LF(t)}const FF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UF="6";try{window.__reactRouterVersion=UF}catch{}const $F="startTransition",nE=Qy[$F];function zF(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=BV({window:s,v5Compat:!0}));let o=i.current,[a,l]=y.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=y.useCallback(f=>{c&&nE?nE(()=>l(f)):l(f)},[l,c]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.useEffect(()=>kF(r),[r]),y.createElement(MF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const BF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AC=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,m=OF(e,FF),{basename:p}=y.useContext(Co),I,v=!1;if(typeof c=="string"&&qF.test(c)&&(I=c,BF))try{let b=new URL(window.location.href),P=c.startsWith("//")?new URL(b.protocol+c):new URL(c),D=ow(P.pathname,p);P.origin===b.origin&&D!=null?c=D+P.search+P.hash:v=!0}catch{}let x=pF(c,{relative:s}),_=WF(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function E(b){r&&r(b),b.defaultPrevented||_(b)}return y.createElement("a",dy({},m,{href:I||x,onClick:v||i?r:E,ref:n,target:l}))});var rE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rE||(rE={}));var sE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sE||(sE={}));function WF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=fl(),c=Ao(),h=bC(t,{relative:o});return y.useCallback(f=>{if(VF(f,n)){f.preventDefault();let m=r!==void 0?r:Mh(c)===Mh(h);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}const HF=()=>{};var iE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},GF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},PC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(n[h],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new KF;const m=i<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),f!==64){const I=c<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QF=function(t){const e=NC(t);return PC.encodeByteArray(e,!0)},Oh=function(t){return QF(t).replace(/\./g,"")},RC=function(t){try{return PC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=()=>YF().__FIREBASE_DEFAULTS__,JF=()=>{if(typeof process>"u"||typeof iE>"u")return;const t=iE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&RC(t[1]);return e&&JSON.parse(e)},Gf=()=>{try{return HF()||XF()||JF()||ZF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kC=t=>{var e,n;return(n=(e=Gf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},DC=t=>{const e=kC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MC=()=>{var t;return(t=Gf())==null?void 0:t.config},jC=t=>{var e;return(e=Gf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Oh(JSON.stringify(n)),Oh(JSON.stringify(o)),""].join(".")}const wc={};function n3(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function r3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let oE=!1;function cw(t,e){if(typeof window>"u"||typeof document>"u"||!Ai(window.location.host)||wc[t]===e||wc[t]||oE)return;wc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=n3().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{oE=!0,o()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=r3(r),p=n("text"),I=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;a(b),h(x,v);const P=c();l(E,_),b.append(E,I,x,P),document.body.appendChild(b)}i?(I.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function i3(){var e;const t=(e=Gf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l3(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c3(){return!i3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LC(){try{return typeof indexedDB=="object"}catch{return!1}}function VC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function u3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="FirebaseError";class $n extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d3,Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?h3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new $n(s,a,r)}}function h3(t,e){return t.replace(f3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const f3=/\{\$([^}]+)}/g;function m3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function us(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(aE(i)&&aE(o)){if(!us(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function aE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function p3(t,e){const n=new g3(t,e);return n.subscribe.bind(n)}class g3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");y3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Np),s.error===void 0&&(s.error=Np),s.complete===void 0&&(s.complete=Np);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Np(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=1e3,w3=2,x3=4*60*60*1e3,_3=.5;function lE(t,e=v3,n=w3){const r=e*Math.pow(n,t),s=Math.round(_3*r*(Math.random()-.5)*2);return Math.min(x3,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T3(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I3(t){return t===Bi?void 0:t}function T3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const S3={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},C3=xe.INFO,A3={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},N3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=A3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kf{constructor(e){this.name=e,this._logLevel=C3,this._logHandler=N3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const P3=(t,e)=>e.some(n=>t instanceof n);let cE,uE;function R3(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k3(){return uE||(uE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FC=new WeakMap,hy=new WeakMap,UC=new WeakMap,Pp=new WeakMap,uw=new WeakMap;function D3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(li(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FC.set(n,t)}).catch(()=>{}),uw.set(e,t),e}function M3(t){if(hy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hy.set(t,e)}let fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function j3(t){fy=t(fy)}function O3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rp(this),e,...n);return UC.set(r,e.sort?e.sort():[e]),li(r)}:k3().includes(t)?function(...e){return t.apply(Rp(this),e),li(FC.get(this))}:function(...e){return li(t.apply(Rp(this),e))}}function L3(t){return typeof t=="function"?O3(t):(t instanceof IDBTransaction&&M3(t),P3(t,R3())?new Proxy(t,fy):t)}function li(t){if(t instanceof IDBRequest)return D3(t);if(Pp.has(t))return Pp.get(t);const e=L3(t);return e!==t&&(Pp.set(t,e),uw.set(e,t)),e}const Rp=t=>uw.get(t);function $C(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(li(o.result),l.oldVersion,l.newVersion,li(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const V3=["get","getKey","getAll","getAllKeys","count"],F3=["put","add","delete","clear"],kp=new Map;function dE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=F3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||V3.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return kp.set(e,i),i}j3(t=>({...t,get:(e,n,r)=>dE(e,n)||t.get(e,n,r),has:(e,n)=>!!dE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const my="@firebase/app",hE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Kf("@firebase/app"),z3="@firebase/app-compat",B3="@firebase/analytics-compat",q3="@firebase/analytics",W3="@firebase/app-check-compat",H3="@firebase/app-check",G3="@firebase/auth",K3="@firebase/auth-compat",Q3="@firebase/database",Y3="@firebase/data-connect",X3="@firebase/database-compat",J3="@firebase/functions",Z3="@firebase/functions-compat",e6="@firebase/installations",t6="@firebase/installations-compat",n6="@firebase/messaging",r6="@firebase/messaging-compat",s6="@firebase/performance",i6="@firebase/performance-compat",o6="@firebase/remote-config",a6="@firebase/remote-config-compat",l6="@firebase/storage",c6="@firebase/storage-compat",u6="@firebase/firestore",d6="@firebase/ai",h6="@firebase/firestore-compat",f6="firebase",m6="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="[DEFAULT]",p6={[my]:"fire-core",[z3]:"fire-core-compat",[q3]:"fire-analytics",[B3]:"fire-analytics-compat",[H3]:"fire-app-check",[W3]:"fire-app-check-compat",[G3]:"fire-auth",[K3]:"fire-auth-compat",[Q3]:"fire-rtdb",[Y3]:"fire-data-connect",[X3]:"fire-rtdb-compat",[J3]:"fire-fn",[Z3]:"fire-fn-compat",[e6]:"fire-iid",[t6]:"fire-iid-compat",[n6]:"fire-fcm",[r6]:"fire-fcm-compat",[s6]:"fire-perf",[i6]:"fire-perf-compat",[o6]:"fire-rc",[a6]:"fire-rc-compat",[l6]:"fire-gcs",[c6]:"fire-gcs-compat",[u6]:"fire-fst",[h6]:"fire-fst-compat",[d6]:"fire-vertex","fire-js":"fire-js",[f6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Map,g6=new Map,gy=new Map;function fE(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){const e=t.name;if(gy.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;gy.set(e,t);for(const n of Lh.values())fE(n,t);for(const n of g6.values())fE(n,t);return!0}function Ni(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new No("app","Firebase",y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=m6;function zC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:py,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ci.create("bad-app-name",{appName:String(s)});if(n||(n=MC()),!n)throw ci.create("no-options");const i=Lh.get(s);if(i){if(us(n,i.options)&&us(r,i.config))return i;throw ci.create("duplicate-app",{appName:s})}const o=new b3(s);for(const l of gy.values())o.addComponent(l);const a=new v6(n,r,o);return Lh.set(s,a),a}function Qf(t=py){const e=Lh.get(t);if(!e&&t===py&&MC())return zC();if(!e)throw ci.create("no-app",{appName:t});return e}function nn(t,e,n){let r=p6[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(o.join(" "));return}lr(new Un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="firebase-heartbeat-database",x6=1,Xc="firebase-heartbeat-store";let Dp=null;function BC(){return Dp||(Dp=$C(w6,x6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ci.create("idb-open",{originalErrorMessage:t.message})})),Dp}async function _6(t){try{const n=(await BC()).transaction(Xc),r=await n.objectStore(Xc).get(qC(t));return await n.done,r}catch(e){if(e instanceof $n)ds.warn(e.message);else{const n=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function mE(t,e){try{const r=(await BC()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,qC(t)),await r.done}catch(n){if(n instanceof $n)ds.warn(n.message);else{const r=ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function qC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=1024,I6=30;class T6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>I6){const o=C6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pE(),{heartbeatsToSend:r,unsentEntries:s}=b6(this._heartbeatsCache.heartbeats),i=Oh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ds.warn(n),""}}}function pE(){return new Date().toISOString().substring(0,10)}function b6(t,e=E6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),gE(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),gE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class S6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LC()?VC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return mE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gE(t){return Oh(JSON.stringify({version:2,heartbeats:t})).length}function C6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){lr(new Un("platform-logger",e=>new U3(e),"PRIVATE")),lr(new Un("heartbeat",e=>new T6(e),"PRIVATE")),nn(my,hE,t),nn(my,hE,"esm2020"),nn("fire-js","")}A6("");function WC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N6=WC,HC=new No("auth","Firebase",WC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Kf("@firebase/auth");function P6(t,...e){Vh.logLevel<=xe.WARN&&Vh.warn(`Auth (${ml}): ${t}`,...e)}function Wd(t,...e){Vh.logLevel<=xe.ERROR&&Vh.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t,...e){throw hw(t,...e)}function sr(t,...e){return hw(t,...e)}function dw(t,e,n){const r={...N6(),[e]:n};return new No("auth","Firebase",r).create(e,{appName:t.name})}function oo(t){return dw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vr(t,"argument-error"),dw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HC.create(t,...e)}function ae(t,e,...n){if(!t)throw hw(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wd(e),new Error(e)}function hs(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function k6(){return yE()==="http:"||yE()==="https:"}function yE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k6()||OC()||"connection"in navigator)?navigator.onLine:!0}function M6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hs(n>e,"Short delay should be less than long delay!"),this.isMobile=s3()||a3()}get(){return D6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e){hs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L6=new Eu(3e4,6e4);function mw(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pl(t,e,n,r,s={}){return KC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=_u({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return o3()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Ai(t.emulatorConfig.host)&&(c.credentials="include"),GC.fetch()(await QC(t,t.config.apiHost,n,a),c)})}async function KC(t,e,n){t._canInitEmulator=!1;const r={...j6,...e};try{const s=new F6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw wd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw wd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw wd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dw(t,h,c);Vr(t,h)}}catch(s){if(s instanceof $n)throw s;Vr(t,"network-request-failed",{message:String(s)})}}async function V6(t,e,n,r,s={}){const i=await pl(t,e,n,r,s);return"mfaPendingCredential"in i&&Vr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function QC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?fw(t.config,s):`${t.config.apiScheme}://${s}`;return O6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class F6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),L6.get())})}}function wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=sr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e){return pl(t,"POST","/v1/accounts:delete",e)}async function Fh(t,e){return pl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $6(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=pw(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xc(Mp(s.auth_time)),issuedAtTime:xc(Mp(s.iat)),expirationTime:xc(Mp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mp(t){return Number(t)*1e3}function pw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const s=RC(n);return s?JSON.parse(s):(Wd("Failed to decode base64 JWT payload"),null)}catch(s){return Wd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vE(t){const e=pw(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $n&&z6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Jc(t,Fh(e,{idToken:n}));ae(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?YC(s.providerUserInfo):[],o=W6(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new vy(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function q6(t){const e=lt(t);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function YC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H6(t,e){const n=await KC(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await QC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ai(t.emulatorConfig.host)&&(l.credentials="include"),GC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G6(t,e){return pl(t,"POST","/v2/accounts:revokeToken",mw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=vE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await H6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new va;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new va,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new B6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Jc(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $6(this,e)}reload(){return q6(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await Jc(this,U6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:I,stsTokenManager:v}=n;ae(f&&v,e,"internal-error");const x=va.fromJSON(this.name,v);ae(typeof f=="string",e,"internal-error"),ks(r,e.name),ks(s,e.name),ae(typeof m=="boolean",e,"internal-error"),ae(typeof p=="boolean",e,"internal-error"),ks(i,e.name),ks(o,e.name),ks(a,e.name),ks(l,e.name),ks(c,e.name),ks(h,e.name);const _=new er({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:c,lastLoginAt:h});return I&&Array.isArray(I)&&(_.providerData=I.map(E=>({...E}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new va;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Uh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?YC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new va;a.updateFromIdToken(r);const l=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new vy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function es(t){hs(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XC.type="NONE";const xE=XC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Hd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Hd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(es(xE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||es(xE);const o=Hd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const m=await Fh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await er._fromGetAccountInfoResponse(e,m,h)}else f=er._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new wa(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new wa(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rA(e))return"Blackberry";if(sA(e))return"Webos";if(ZC(e))return"Safari";if((e.includes("chrome/")||eA(e))&&!e.includes("edge/"))return"Chrome";if(nA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JC(t=Lt()){return/firefox\//i.test(t)}function ZC(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eA(t=Lt()){return/crios\//i.test(t)}function tA(t=Lt()){return/iemobile/i.test(t)}function nA(t=Lt()){return/android/i.test(t)}function rA(t=Lt()){return/blackberry/i.test(t)}function sA(t=Lt()){return/webos/i.test(t)}function gw(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K6(t=Lt()){var e;return gw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Q6(){return l3()&&document.documentMode===10}function iA(t=Lt()){return gw(t)||nA(t)||sA(t)||rA(t)||/windows phone/i.test(t)||tA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e=[]){let n;switch(t){case"Browser":n=_E(Lt());break;case"Worker":n=`${_E(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e={}){return pl(t,"GET","/v2/passwordPolicy",mw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=6;class Z6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??J6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new Y6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fh(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(oo(this));const n=e?lt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X6(this),n=new Z6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&P6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yf(t){return lt(t)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=p3(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yw={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t5(t){yw=t}function n5(t){return yw.loadJS(t)}function r5(){return yw.gapiScript}function s5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t,e){const n=Ni(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(us(i,e??{}))return s;Vr(s,"already-initialized")}return n.initialize({options:e})}function o5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function a5(t,e,n){const r=Yf(t);ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=aA(e),{host:o,port:a}=l5(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ae(us(c,r.config.emulator)&&us(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ai(o)?(lw(`${i}//${o}${l}`),cw("Auth",!0)):c5()}function aA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l5(t){const e=aA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:IE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:IE(o)}}}function IE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t,e){return V6(t,"POST","/v1/accounts:signInWithIdp",mw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="http://localhost";class yo extends lA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new yo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xa(e,n)}buildRequest(){const e={requestUri:u5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends vw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends Iu{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return yo._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Iu{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Iu{constructor(){super("twitter.com")}static credential(e,n){return yo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.TWITTER_SIGN_IN_METHOD="twitter.com";zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=TE(r);return new Ba({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=TE(r);return new Ba({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function TE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends $n{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $h(e,n,r,s)}}function cA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,i,e,r):i})}async function d5(t,e,n=!1){const r=await Jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(oo(r));const s="reauthenticate";try{const i=await Jc(t,cA(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=pw(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Ba._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,e,n=!1){if(Pn(t.app))return Promise.reject(oo(t));const r="signIn",s=await cA(t,r,e),i=await Ba._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function m5(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function p5(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function g5(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function y5(t){return lt(t).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=1e3,w5=10;class dA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Q6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,w5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},v5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dA.type="LOCAL";const x5=dA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hA.type="SESSION";const fA=hA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Xf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await _5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=ww("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function I5(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function T5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function S5(){return mA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebaseLocalStorageDb",C5=1,Bh="firebaseLocalStorage",gA="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function A5(){const t=indexedDB.deleteDatabase(pA);return new Tu(t).toPromise()}function wy(){const t=indexedDB.open(pA,C5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bh,{keyPath:gA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await A5(),e(await wy()))})})}async function bE(t,e,n){const r=Jf(t,!0).put({[gA]:e,value:n});return new Tu(r).toPromise()}async function N5(t,e){const n=Jf(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=Jf(t,!0).delete(e);return new Tu(n).toPromise()}const P5=800,R5=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>R5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xf._getInstance(S5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await T5(),!this.activeServiceWorker)return;this.sender=new E5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await bE(e,zh,"1"),await SE(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jf(s,!1).getAll();return new Tu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const k5=yA;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){return e?es(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends lA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D5(t){return f5(t.auth,new xw(t),t.bypassAuthState)}function M5(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),h5(n,new xw(t),t.bypassAuthState)}async function j5(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),d5(n,new xw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D5;case"linkViaPopup":case"linkViaRedirect":return j5;case"reauthViaPopup":case"reauthViaRedirect":return M5;default:Vr(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new Eu(2e3,1e4);async function L5(t,e,n){if(Pn(t.app))return Promise.reject(sr(t,"operation-not-supported-in-this-environment"));const r=Yf(t);R6(t,e,vw);const s=vA(r,n);return new Ki(r,"signInViaPopup",e,s).executeNotNull()}class Ki extends wA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ki.currentPopupAction&&Ki.currentPopupAction.cancel(),Ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=ww();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O5.get())};e()}}Ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5="pendingRedirect",Gd=new Map;class F5 extends wA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const r=await U5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U5(t,e){const n=B5(e),r=z5(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function $5(t,e){Gd.set(t._key(),e)}function z5(t){return es(t._redirectPersistence)}function B5(t){return Hd(V5,t.config.apiKey,t.name)}async function q5(t,e,n=!1){if(Pn(t.app))return Promise.reject(oo(t));const r=Yf(t),s=vA(r,e),o=await new F5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5=10*60*1e3;class H5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xA(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=W5&&this.cachedEventUids.clear(),this.cachedEventUids.has(CE(e))}saveEventToCache(e){this.cachedEventUids.add(CE(e)),this.lastProcessedEventTime=Date.now()}}function CE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function G5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(t,e={}){return pl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y5=/^https?/;async function X5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await K5(t);for(const n of e)try{if(J5(n))return}catch{}Vr(t,"unauthorized-domain")}function J5(t){const e=yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Y5.test(n))return!1;if(Q5.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=new Eu(3e4,6e4);function AE(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eU(t){return new Promise((e,n)=>{var s,i,o;function r(){AE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AE(),n(sr(t,"network-request-failed"))},timeout:Z5.get()})}if((i=(s=Rr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Rr().gapi)!=null&&o.load)r();else{const a=s5("iframefcb");return Rr()[a]=()=>{gapi.load?r():n(sr(t,"network-request-failed"))},n5(`${r5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kd=null,e})}let Kd=null;function tU(t){return Kd=Kd||eU(t),Kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=new Eu(5e3,15e3),rU="__/auth/iframe",sU="emulator/auth/iframe",iU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aU(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fw(e,sU):`https://${t.config.authDomain}/${rU}`,r={apiKey:e.apiKey,appName:t.name,v:ml},s=oU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_u(r).slice(1)}`}async function lU(t){const e=await tU(t),n=Rr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:aU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=Rr().setTimeout(()=>{i(o)},nU.get());function l(){Rr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uU=500,dU=600,hU="_blank",fU="http://localhost";class NE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mU(t,e,n,r=uU,s=dU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...cU,width:r.toString(),height:s.toString(),top:i,left:o},c=Lt().toLowerCase();n&&(a=eA(c)?hU:n),JC(c)&&(e=e||fU,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[p,I])=>`${m}${p}=${I},`,"");if(K6(c)&&a!=="_self")return pU(e||"",a),new NE(null);const f=window.open(e||"",a,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new NE(f)}function pU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="__/auth/handler",yU="emulator/auth/handler",vU=encodeURIComponent("fac");async function PE(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:s};if(e instanceof vw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",m3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Iu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${vU}=${encodeURIComponent(l)}`:"";return`${wU(t)}?${_u(a).slice(1)}${c}`}function wU({config:t}){return t.emulator?fw(t,yU):`https://${t.authDomain}/${gU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="webStorageSupport";class xU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=q5,this._overrideRedirectResult=$5}async _openPopup(e,n,r,s){var o;hs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await PE(e,n,r,yy(),s);return mU(e,i,ww())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await PE(e,n,r,yy(),s);return I5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lU(e),r=new H5(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jp,{type:jp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[jp];i!==void 0&&n(!!i),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=X5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iA()||ZC()||gw()}}const _U=xU;var RE="@firebase/auth",kE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TU(t){lr(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oA(t)},c=new e5(r,s,i,l);return o5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lr(new Un("auth-internal",e=>{const n=Yf(e.getProvider("auth").getImmediate());return(r=>new EU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nn(RE,kE,IU(t)),nn(RE,kE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=5*60,SU=jC("authIdTokenMaxAge")||bU;let DE=null;const CU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SU)return;const s=n==null?void 0:n.token;DE!==s&&(DE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function AU(t=Qf()){const e=Ni(t,"auth");if(e.isInitialized())return e.getImmediate();const n=i5(t,{popupRedirectResolver:_U,persistence:[k5,x5,fA]}),r=jC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=CU(i.toString());p5(n,o,()=>o(n.currentUser)),m5(n,a=>o(a))}}const s=kC("auth");return s&&a5(n,`http://${s}`),n}function NU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}t5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",NU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TU("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function PU(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(h){try{c(r.next(h))}catch(f){o(f)}}function l(h){try{c(r.throw(h))}catch(f){o(f)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((r=r.apply(t,[])).next())})}function RU(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,s=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){n.label=c[1];break}if(c[0]===6&&n.label<i[1]){n.label=i[1],i=c;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(c);break}i[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],s=0}finally{r=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ca=function(){return ca=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ca.apply(this,arguments)},_A=function(t){return{loading:t==null,value:t}},kU=function(){return function(t,e){switch(e.type){case"error":return ca(ca({},t),{error:e.error,loading:!1,value:void 0});case"reset":return _A(e.defaultValue);case"value":return ca(ca({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},DU=function(t){var e=t?t():void 0,n=y.useReducer(kU(),_A(e)),r=n[0],s=n[1],i=y.useCallback(function(){var l=t?t():void 0;s({type:"reset",defaultValue:l})},[t]),o=y.useCallback(function(l){s({type:"error",error:l})},[]),a=y.useCallback(function(l){s({type:"value",value:l})},[]);return y.useMemo(function(){return{error:r.error,loading:r.loading,reset:i,setError:o,setValue:a,value:r.value}},[r.error,r.loading,i,o,a,r.value])},MU=function(t,e){var n=DU(function(){return t.currentUser}),r=n.error,s=n.loading,i=n.setError,o=n.setValue,a=n.value;return y.useEffect(function(){var l=g5(t,function(c){return PU(void 0,void 0,void 0,function(){var h;return RU(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return f.sent(),[3,4];case 3:return h=f.sent(),i(h),[3,4];case 4:return o(c),[2]}})})},i);return function(){l()}},[t]),[a,s,r]},jU="firebase",OU="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn(jU,OU,"app");const EA="@firebase/installations",_w="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=1e4,TA=`w:${_w}`,bA="FIS_v2",LU="https://firebaseinstallations.googleapis.com/v1",VU=60*60*1e3,FU="installations",UU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new No(FU,UU,$U);function SA(t){return t instanceof $n&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA({projectId:t}){return`${LU}/projects/${t}/installations`}function AA(t){return{token:t.token,requestStatus:2,expiresIn:BU(t.expiresIn),creationTime:Date.now()}}async function NA(t,e){const r=(await e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function PA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zU(t,{refreshToken:e}){const n=PA(t);return n.append("Authorization",qU(e)),n}async function RA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function BU(t){return Number(t.replace("s","000"))}function qU(t){return`${bA} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=CA(t),s=PA(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:bA,appId:t.appId,sdkVersion:TA},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await RA(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:AA(c.authToken)}}else throw await NA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=/^[cdef][\w-]{21}$/,xy="";function KU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=QU(t);return GU.test(n)?n:xy}catch{return xy}}function QU(t){return HU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Map;function MA(t,e){const n=Zf(t);jA(n,e),YU(n,e)}function jA(t,e){const n=DA.get(t);if(n)for(const r of n)r(e)}function YU(t,e){const n=XU();n&&n.postMessage({key:t,fid:e}),JU()}let Qi=null;function XU(){return!Qi&&"BroadcastChannel"in self&&(Qi=new BroadcastChannel("[Firebase] FID Change"),Qi.onmessage=t=>{jA(t.data.key,t.data.fid)}),Qi}function JU(){DA.size===0&&Qi&&(Qi.close(),Qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="firebase-installations-database",e9=1,wo="firebase-installations-store";let Op=null;function Ew(){return Op||(Op=$C(ZU,e9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wo)}}})),Op}async function qh(t,e){const n=Zf(t),s=(await Ew()).transaction(wo,"readwrite"),i=s.objectStore(wo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&MA(t,e.fid),e}async function OA(t){const e=Zf(t),r=(await Ew()).transaction(wo,"readwrite");await r.objectStore(wo).delete(e),await r.done}async function em(t,e){const n=Zf(t),s=(await Ew()).transaction(wo,"readwrite"),i=s.objectStore(wo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&MA(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iw(t){let e;const n=await em(t.appConfig,r=>{const s=t9(r),i=n9(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===xy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function t9(t){const e=t||{fid:KU(),registrationStatus:0};return LA(e)}function n9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:s9(t)}:{installationEntry:e}}async function r9(t,e){try{const n=await WU(t,e);return qh(t.appConfig,n)}catch(n){throw SA(n)&&n.customData.serverCode===409?await OA(t.appConfig):await qh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function s9(t){let e=await ME(t.appConfig);for(;e.registrationStatus===1;)await kA(100),e=await ME(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Iw(t);return r||n}return e}function ME(t){return em(t,e=>{if(!e)throw vo.create("installation-not-found");return LA(e)})}function LA(t){return i9(t)?{fid:t.fid,registrationStatus:0}:t}function i9(t){return t.registrationStatus===1&&t.registrationTime+IA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9({appConfig:t,heartbeatServiceProvider:e},n){const r=a9(t,n),s=zU(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:TA,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await RA(()=>fetch(r,a));if(l.ok){const c=await l.json();return AA(c)}else throw await NA("Generate Auth Token",l)}function a9(t,{fid:e}){return`${CA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(t,e=!1){let n;const r=await em(t.appConfig,i=>{if(!VA(i))throw vo.create("not-registered");const o=i.authToken;if(!e&&u9(o))return i;if(o.requestStatus===1)return n=l9(t,e),i;{if(!navigator.onLine)throw vo.create("app-offline");const a=h9(i);return n=c9(t,a),a}});return n?await n:r.authToken}async function l9(t,e){let n=await jE(t.appConfig);for(;n.authToken.requestStatus===1;)await kA(100),n=await jE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Tw(t,e):r}function jE(t){return em(t,e=>{if(!VA(e))throw vo.create("not-registered");const n=e.authToken;return f9(n)?{...e,authToken:{requestStatus:0}}:e})}async function c9(t,e){try{const n=await o9(t,e),r={...e,authToken:n};return await qh(t.appConfig,r),n}catch(n){if(SA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OA(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await qh(t.appConfig,r)}throw n}}function VA(t){return t!==void 0&&t.registrationStatus===2}function u9(t){return t.requestStatus===2&&!d9(t)}function d9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+VU}function h9(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function f9(t){return t.requestStatus===1&&t.requestTime+IA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t){const e=t,{installationEntry:n,registrationPromise:r}=await Iw(e);return r?r.catch(console.error):Tw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e=!1){const n=t;return await g9(n),(await Tw(n,e)).token}async function g9(t){const{registrationPromise:e}=await Iw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){if(!t||!t.options)throw Lp("App Configuration");if(!t.name)throw Lp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Lp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Lp(t){return vo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="installations",v9="installations-internal",w9=t=>{const e=t.getProvider("app").getImmediate(),n=y9(e),r=Ni(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},x9=t=>{const e=t.getProvider("app").getImmediate(),n=Ni(e,FA).getImmediate();return{getId:()=>m9(n),getToken:s=>p9(n,s)}};function _9(){lr(new Un(FA,w9,"PUBLIC")),lr(new Un(v9,x9,"PRIVATE"))}_9();nn(EA,_w);nn(EA,_w,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="analytics",E9="firebase_id",I9="origin",T9=60*1e3,b9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new Kf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new No("analytics","Analytics",S9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){if(!t.startsWith(bw)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return rn.warn(e.message),""}return t}function UA(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function A9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function N9(t,e){const n=A9("firebase-js-sdk-policy",{createScriptURL:C9}),r=document.createElement("script"),s=`${bw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function P9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function R9(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await UA(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){rn.error(a)}t("config",s,i)}async function k9(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await UA(n);for(const l of o){const c=a.find(f=>f.measurementId===l),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){rn.error(i)}}function D9(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await k9(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await R9(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){rn.error(a)}}return s}function M9(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=D9(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function j9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(bw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=30,L9=1e3;class V9{constructor(e={},n=L9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $A=new V9;function F9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function U9(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:F9(n)},s=b9.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function $9(t,e=$A,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw vn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new q9;return setTimeout(async()=>{a.abort()},T9),zA({appId:r,apiKey:s,measurementId:i},o,a,e)}async function zA(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=$A){var a;const{appId:i,measurementId:o}=t;try{await z9(r,e)}catch(l){if(o)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await U9(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!B9(c)){if(s.deleteThrottleMetadata(i),o)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?lE(n,s.intervalMillis,O9):lE(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),rn.debug(`Calling attemptFetch again in ${h} millis`),zA(t,f,r,s)}}function z9(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function B9(t){if(!(t instanceof $n)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class q9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function W9(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(){if(LC())try{await VC()}catch(t){return rn.warn(vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return rn.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function G9(t,e,n,r,s,i,o){const a=$9(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>rn.error(m)),e.push(a);const l=H9().then(m=>{if(m)return r.getId()}),[c,h]=await Promise.all([a,l]);j9(i)||N9(i,c.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[I9]="firebase",f.update=!0,h!=null&&(f[E9]=h),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(e){this.app=e}_delete(){return delete _c[this.app.options.appId],Promise.resolve()}}let _c={},OE=[];const LE={};let Vp="dataLayer",Q9="gtag",VE,BA,FE=!1;function Y9(){const t=[];if(OC()&&t.push("This is a browser extension environment."),u3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});rn.warn(n.message)}}function X9(t,e,n){Y9();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(_c[r]!=null)throw vn.create("already-exists",{id:r});if(!FE){P9(Vp);const{wrappedGtag:i,gtagCore:o}=M9(_c,OE,LE,Vp,Q9);BA=i,VE=o,FE=!0}return _c[r]=G9(t,OE,LE,e,VE,Vp,n),new K9(t)}function J9(t=Qf()){t=lt(t);const e=Ni(t,Wh);return e.isInitialized()?e.getImmediate():Z9(t)}function Z9(t,e={}){const n=Ni(t,Wh);if(n.isInitialized()){const s=n.getImmediate();if(us(e,n.getOptions()))return s;throw vn.create("already-initialized")}return n.initialize({options:e})}function e$(t,e,n,r){t=lt(t),W9(BA,_c[t.app.options.appId],e,n,r).catch(s=>rn.error(s))}const UE="@firebase/analytics",$E="0.10.18";function t$(){lr(new Un(Wh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return X9(r,s,n)},"PUBLIC")),lr(new Un("analytics-internal",t,"PRIVATE")),nn(UE,$E),nn(UE,$E,"esm2020");function t(e){try{const n=e.getProvider(Wh).getImmediate();return{logEvent:(r,s,i)=>e$(n,r,s,i)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}t$();var zE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ui,qA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function C(){}C.prototype=T.prototype,S.F=T.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(A,k,M){for(var R=Array(arguments.length-2),B=2;B<arguments.length;B++)R[B-2]=arguments[B];return T.prototype[k].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,T,C){C||(C=0);const A=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)A[k]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(k=0;k<16;++k)A[k]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=S.g[0],C=S.g[1],k=S.g[2];let M=S.g[3],R;R=T+(M^C&(k^M))+A[0]+3614090360&4294967295,T=C+(R<<7&4294967295|R>>>25),R=M+(k^T&(C^k))+A[1]+3905402710&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(C^M&(T^C))+A[2]+606105819&4294967295,k=M+(R<<17&4294967295|R>>>15),R=C+(T^k&(M^T))+A[3]+3250441966&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(M^C&(k^M))+A[4]+4118548399&4294967295,T=C+(R<<7&4294967295|R>>>25),R=M+(k^T&(C^k))+A[5]+1200080426&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(C^M&(T^C))+A[6]+2821735955&4294967295,k=M+(R<<17&4294967295|R>>>15),R=C+(T^k&(M^T))+A[7]+4249261313&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(M^C&(k^M))+A[8]+1770035416&4294967295,T=C+(R<<7&4294967295|R>>>25),R=M+(k^T&(C^k))+A[9]+2336552879&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(C^M&(T^C))+A[10]+4294925233&4294967295,k=M+(R<<17&4294967295|R>>>15),R=C+(T^k&(M^T))+A[11]+2304563134&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(M^C&(k^M))+A[12]+1804603682&4294967295,T=C+(R<<7&4294967295|R>>>25),R=M+(k^T&(C^k))+A[13]+4254626195&4294967295,M=T+(R<<12&4294967295|R>>>20),R=k+(C^M&(T^C))+A[14]+2792965006&4294967295,k=M+(R<<17&4294967295|R>>>15),R=C+(T^k&(M^T))+A[15]+1236535329&4294967295,C=k+(R<<22&4294967295|R>>>10),R=T+(k^M&(C^k))+A[1]+4129170786&4294967295,T=C+(R<<5&4294967295|R>>>27),R=M+(C^k&(T^C))+A[6]+3225465664&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(M^T))+A[11]+643717713&4294967295,k=M+(R<<14&4294967295|R>>>18),R=C+(M^T&(k^M))+A[0]+3921069994&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(k^M&(C^k))+A[5]+3593408605&4294967295,T=C+(R<<5&4294967295|R>>>27),R=M+(C^k&(T^C))+A[10]+38016083&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(M^T))+A[15]+3634488961&4294967295,k=M+(R<<14&4294967295|R>>>18),R=C+(M^T&(k^M))+A[4]+3889429448&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(k^M&(C^k))+A[9]+568446438&4294967295,T=C+(R<<5&4294967295|R>>>27),R=M+(C^k&(T^C))+A[14]+3275163606&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(M^T))+A[3]+4107603335&4294967295,k=M+(R<<14&4294967295|R>>>18),R=C+(M^T&(k^M))+A[8]+1163531501&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(k^M&(C^k))+A[13]+2850285829&4294967295,T=C+(R<<5&4294967295|R>>>27),R=M+(C^k&(T^C))+A[2]+4243563512&4294967295,M=T+(R<<9&4294967295|R>>>23),R=k+(T^C&(M^T))+A[7]+1735328473&4294967295,k=M+(R<<14&4294967295|R>>>18),R=C+(M^T&(k^M))+A[12]+2368359562&4294967295,C=k+(R<<20&4294967295|R>>>12),R=T+(C^k^M)+A[5]+4294588738&4294967295,T=C+(R<<4&4294967295|R>>>28),R=M+(T^C^k)+A[8]+2272392833&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^C)+A[11]+1839030562&4294967295,k=M+(R<<16&4294967295|R>>>16),R=C+(k^M^T)+A[14]+4259657740&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(C^k^M)+A[1]+2763975236&4294967295,T=C+(R<<4&4294967295|R>>>28),R=M+(T^C^k)+A[4]+1272893353&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^C)+A[7]+4139469664&4294967295,k=M+(R<<16&4294967295|R>>>16),R=C+(k^M^T)+A[10]+3200236656&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(C^k^M)+A[13]+681279174&4294967295,T=C+(R<<4&4294967295|R>>>28),R=M+(T^C^k)+A[0]+3936430074&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^C)+A[3]+3572445317&4294967295,k=M+(R<<16&4294967295|R>>>16),R=C+(k^M^T)+A[6]+76029189&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(C^k^M)+A[9]+3654602809&4294967295,T=C+(R<<4&4294967295|R>>>28),R=M+(T^C^k)+A[12]+3873151461&4294967295,M=T+(R<<11&4294967295|R>>>21),R=k+(M^T^C)+A[15]+530742520&4294967295,k=M+(R<<16&4294967295|R>>>16),R=C+(k^M^T)+A[2]+3299628645&4294967295,C=k+(R<<23&4294967295|R>>>9),R=T+(k^(C|~M))+A[0]+4096336452&4294967295,T=C+(R<<6&4294967295|R>>>26),R=M+(C^(T|~k))+A[7]+1126891415&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~C))+A[14]+2878612391&4294967295,k=M+(R<<15&4294967295|R>>>17),R=C+(M^(k|~T))+A[5]+4237533241&4294967295,C=k+(R<<21&4294967295|R>>>11),R=T+(k^(C|~M))+A[12]+1700485571&4294967295,T=C+(R<<6&4294967295|R>>>26),R=M+(C^(T|~k))+A[3]+2399980690&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~C))+A[10]+4293915773&4294967295,k=M+(R<<15&4294967295|R>>>17),R=C+(M^(k|~T))+A[1]+2240044497&4294967295,C=k+(R<<21&4294967295|R>>>11),R=T+(k^(C|~M))+A[8]+1873313359&4294967295,T=C+(R<<6&4294967295|R>>>26),R=M+(C^(T|~k))+A[15]+4264355552&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~C))+A[6]+2734768916&4294967295,k=M+(R<<15&4294967295|R>>>17),R=C+(M^(k|~T))+A[13]+1309151649&4294967295,C=k+(R<<21&4294967295|R>>>11),R=T+(k^(C|~M))+A[4]+4149444226&4294967295,T=C+(R<<6&4294967295|R>>>26),R=M+(C^(T|~k))+A[11]+3174756917&4294967295,M=T+(R<<10&4294967295|R>>>22),R=k+(T^(M|~C))+A[2]+718787259&4294967295,k=M+(R<<15&4294967295|R>>>17),R=C+(M^(k|~T))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+M&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const C=T-this.blockSize,A=this.C;let k=this.h,M=0;for(;M<T;){if(k==0)for(;M<=C;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<T;)if(A[k++]=S.charCodeAt(M++),k==this.blockSize){s(this,A),k=0;break}}else for(;M<T;)if(A[k++]=S[M++],k==this.blockSize){s(this,A),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,C=0;C<4;++C)for(let A=0;A<32;A+=8)S[T++]=this.g[C]>>>A&255;return S};function i(S,T){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=T(S)}function o(S,T){this.h=T;const C=[];let A=!0;for(let k=S.length-1;k>=0;k--){const M=S[k]|0;A&&M==T||(C[k]=M,A=!1)}this.g=C}var a={};function l(S){return-128<=S&&S<128?i(S,function(T){return new o([T|0],T<0?-1:0)}):new o([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return x(c(-S));const T=[];let C=1;for(let A=0;S>=C;A++)T[A]=S/C|0,C*=4294967296;return new o(T,0)}function h(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return x(h(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(T,8));let A=f;for(let M=0;M<S.length;M+=8){var k=Math.min(8,S.length-M);const R=parseInt(S.substring(M,M+k),T);k<8?(k=c(Math.pow(T,k)),A=A.j(k).add(c(R))):(A=A.j(C),A=A.add(c(R)))}return A}var f=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let S=0,T=1;for(let C=0;C<this.g.length;C++){const A=this.i(C);S+=(A>=0?A:4294967296+A)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(v(this))return"-"+x(this).toString(S);const T=c(Math.pow(S,6));var C=this;let A="";for(;;){const k=P(C,T).g;C=_(C,k.j(T));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=k,I(C))return M+A;for(;M.length<6;)M="0"+M;A=M+A}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function v(S){return S.h==-1}t.l=function(S){return S=_(this,S),v(S)?-1:I(S)?0:1};function x(S){const T=S.g.length,C=[];for(let A=0;A<T;A++)C[A]=~S.g[A];return new o(C,~S.h).add(m)}t.abs=function(){return v(this)?x(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),C=[];let A=0;for(let k=0;k<=T;k++){let M=A+(this.i(k)&65535)+(S.i(k)&65535),R=(M>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);A=R>>>16,M&=65535,R&=65535,C[k]=R<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(S,T){return S.add(x(T))}t.j=function(S){if(I(this)||I(S))return f;if(v(this))return v(S)?x(this).j(x(S)):x(x(this).j(S));if(v(S))return x(this.j(x(S)));if(this.l(p)<0&&S.l(p)<0)return c(this.m()*S.m());const T=this.g.length+S.g.length,C=[];for(var A=0;A<2*T;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(let k=0;k<S.g.length;k++){const M=this.i(A)>>>16,R=this.i(A)&65535,B=S.i(k)>>>16,re=S.i(k)&65535;C[2*A+2*k]+=R*re,E(C,2*A+2*k),C[2*A+2*k+1]+=M*re,E(C,2*A+2*k+1),C[2*A+2*k+1]+=R*B,E(C,2*A+2*k+1),C[2*A+2*k+2]+=M*B,E(C,2*A+2*k+2)}for(S=0;S<T;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=T;S<2*T;S++)C[S]=0;return new o(C,0)};function E(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function b(S,T){this.g=S,this.h=T}function P(S,T){if(I(T))throw Error("division by zero");if(I(S))return new b(f,f);if(v(S))return T=P(x(S),T),new b(x(T.g),x(T.h));if(v(T))return T=P(S,x(T)),new b(x(T.g),T.h);if(S.g.length>30){if(v(S)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var C=m,A=T;A.l(S)<=0;)C=D(C),A=D(A);var k=j(C,1),M=j(A,1);for(A=j(A,2),C=j(C,2);!I(A);){var R=M.add(A);R.l(S)<=0&&(k=k.add(C),M=R),A=j(A,1),C=j(C,1)}return T=_(S,k.j(T)),new b(k,T)}for(k=f;S.l(T)>=0;){for(C=Math.max(1,Math.floor(S.m()/T.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),M=c(C),R=M.j(T);v(R)||R.l(S)>0;)C-=A,M=c(C),R=M.j(T);I(M)&&(M=m),k=k.add(M),S=_(S,R)}return new b(k,S)}t.B=function(S){return P(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)&S.i(A);return new o(C,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)|S.i(A);return new o(C,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let A=0;A<T;A++)C[A]=this.i(A)^S.i(A);return new o(C,this.h^S.h)};function D(S){const T=S.g.length+1,C=[];for(let A=0;A<T;A++)C[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(C,S.h)}function j(S,T){const C=T>>5;T%=32;const A=S.g.length-C,k=[];for(let M=0;M<A;M++)k[M]=T>0?S.i(M+C)>>>T|S.i(M+C+1)<<32-T:S.i(M+C);return new o(k,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ui=o}).apply(typeof zE<"u"?zE:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WA,tc,HA,Qd,_y,GA,KA,QA;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var g=0;g<d.length;++g){var w=d[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var w=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var O=d[N];if(!(O in w))break e;w=w[O]}d=d[d.length-1],N=w[d],g=g(N),g!=N&&g!=null&&e(w,d,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(g){var w=[],N;for(N in g)Object.prototype.hasOwnProperty.call(g,N)&&w.push([N,g[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function l(d,g,w){return d.call.apply(d.bind,arguments)}function c(d,g,w){return c=l,c.apply(null,arguments)}function h(d,g){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function f(d,g){function w(){}w.prototype=g.prototype,d.Z=g.prototype,d.prototype=new w,d.prototype.constructor=d,d.Ob=function(N,O,V){for(var K=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)K[ge-2]=arguments[ge];return g.prototype[O].apply(N,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function p(d){const g=d.length;if(g>0){const w=Array(g);for(let N=0;N<g;N++)w[N]=d[N];return w}return[]}function I(d,g){for(let N=1;N<arguments.length;N++){const O=arguments[N];var w=typeof O;if(w=w!="object"?w:O?Array.isArray(O)?"array":w:"null",w=="array"||w=="object"&&typeof O.length=="number"){w=d.length||0;const V=O.length||0;d.length=w+V;for(let K=0;K<V;K++)d[w+K]=O[K]}else d.push(O)}}class v{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(d){o.setTimeout(()=>{throw d},0)}function _(){var d=S;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class E{constructor(){this.h=this.g=null}add(g,w){const N=b.get();N.set(g,w),this.h?this.h.next=N:this.g=N,this.h=N}}var b=new v(()=>new P,d=>d.reset());class P{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let D,j=!1,S=new E,T=()=>{const d=Promise.resolve(void 0);D=()=>{d.then(C)}};function C(){for(var d;d=_();){try{d.h.call(d.g)}catch(w){x(w)}var g=b;g.j(d),g.h<100&&(g.h++,d.next=g.g,g.g=d)}j=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};o.addEventListener("test",w,g),o.removeEventListener("test",w,g)}catch{}return d}();function R(d){return/^[\s\xa0]*$/.test(d)}function B(d,g){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,g)}f(B,k),B.prototype.init=function(d,g){const w=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget,g||(w=="mouseover"?g=d.fromElement:w=="mouseout"&&(g=d.toElement)),this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&B.Z.h.call(this)},B.prototype.h=function(){B.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(d,g,w,N,O){this.listener=d,this.proxy=null,this.src=g,this.type=w,this.capture=!!N,this.ha=O,this.key=++H,this.da=this.fa=!1}function F(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function L(d,g,w){for(const N in d)g.call(w,d[N],N,d)}function G(d,g){for(const w in d)g.call(void 0,d[w],w,d)}function ne(d){const g={};for(const w in d)g[w]=d[w];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(d,g){let w,N;for(let O=1;O<arguments.length;O++){N=arguments[O];for(w in N)d[w]=N[w];for(let V=0;V<Z.length;V++)w=Z[V],Object.prototype.hasOwnProperty.call(N,w)&&(d[w]=N[w])}}function ce(d){this.src=d,this.g={},this.h=0}ce.prototype.add=function(d,g,w,N,O){const V=d.toString();d=this.g[V],d||(d=this.g[V]=[],this.h++);const K=Me(d,g,N,O);return K>-1?(g=d[K],w||(g.fa=!1)):(g=new te(g,this.src,V,!!N,O),g.fa=w,d.push(g)),g};function ke(d,g){const w=g.type;if(w in d.g){var N=d.g[w],O=Array.prototype.indexOf.call(N,g,void 0),V;(V=O>=0)&&Array.prototype.splice.call(N,O,1),V&&(F(g),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Me(d,g,w,N){for(let O=0;O<d.length;++O){const V=d[O];if(!V.da&&V.listener==g&&V.capture==!!w&&V.ha==N)return O}return-1}var me="closure_lm_"+(Math.random()*1e6|0),un={};function Ze(d,g,w,N,O){if(Array.isArray(g)){for(let V=0;V<g.length;V++)Ze(d,g[V],w,N,O);return null}return w=_s(w),d&&d[re]?d.J(g,w,a(N)?!!N.capture:!!N,O):Tn(d,g,w,!1,N,O)}function Tn(d,g,w,N,O,V){if(!g)throw Error("Invalid event type");const K=a(O)?!!O.capture:!!O;let ge=xs(d);if(ge||(d[me]=ge=new ce(d)),w=ge.add(g,w,N,K,V),w.proxy)return w;if(N=hr(),w.proxy=N,N.src=d,N.listener=w,d.addEventListener)M||(O=K),O===void 0&&(O=!1),d.addEventListener(g.toString(),N,O);else if(d.attachEvent)d.attachEvent(Di(g.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function hr(){function d(w){return g.call(d.src,d.listener,w)}const g=Il;return d}function $r(d,g,w,N,O){if(Array.isArray(g))for(var V=0;V<g.length;V++)$r(d,g[V],w,N,O);else N=a(N)?!!N.capture:!!N,w=_s(w),d&&d[re]?(d=d.i,V=String(g).toString(),V in d.g&&(g=d.g[V],w=Me(g,w,N,O),w>-1&&(F(g[w]),Array.prototype.splice.call(g,w,1),g.length==0&&(delete d.g[V],d.h--)))):d&&(d=xs(d))&&(g=d.g[g.toString()],d=-1,g&&(d=Me(g,w,N,O)),(w=d>-1?g[d]:null)&&bn(w))}function bn(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[re])ke(g.i,d);else{var w=d.type,N=d.proxy;g.removeEventListener?g.removeEventListener(w,N,d.capture):g.detachEvent?g.detachEvent(Di(w),N):g.addListener&&g.removeListener&&g.removeListener(N),(w=xs(g))?(ke(w,d),w.h==0&&(w.src=null,g[me]=null)):F(d)}}}function Di(d){return d in un?un[d]:un[d]="on"+d}function Il(d,g){if(d.da)d=!0;else{g=new B(g,this);const w=d.listener,N=d.ha||d.src;d.fa&&bn(d),d=w.call(N,g)}return d}function xs(d){return d=d[me],d instanceof ce?d:null}var Mi="__closure_events_fn_"+(Math.random()*1e9>>>0);function _s(d){return typeof d=="function"?d:(d[Mi]||(d[Mi]=function(g){return d.handleEvent(g)}),d[Mi])}function qe(){A.call(this),this.i=new ce(this),this.M=this,this.G=null}f(qe,A),qe.prototype[re]=!0,qe.prototype.removeEventListener=function(d,g,w,N){$r(this,d,g,w,N)};function mt(d,g){var w,N=d.G;if(N)for(w=[];N;N=N.G)w.push(N);if(d=d.M,N=g.type||g,typeof g=="string")g=new k(g,d);else if(g instanceof k)g.target=g.target||d;else{var O=g;g=new k(N,d),de(g,O)}O=!0;let V,K;if(w)for(K=w.length-1;K>=0;K--)V=g.g=w[K],O=fr(V,N,!0,g)&&O;if(V=g.g=d,O=fr(V,N,!0,g)&&O,O=fr(V,N,!1,g)&&O,w)for(K=0;K<w.length;K++)V=g.g=w[K],O=fr(V,N,!1,g)&&O}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var d=this.i;for(const g in d.g){const w=d.g[g];for(let N=0;N<w.length;N++)F(w[N]);delete d.g[g],d.h--}}this.G=null},qe.prototype.J=function(d,g,w,N){return this.i.add(String(d),g,!1,w,N)},qe.prototype.K=function(d,g,w,N){return this.i.add(String(d),g,!0,w,N)};function fr(d,g,w,N){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();let O=!0;for(let V=0;V<g.length;++V){const K=g[V];if(K&&!K.da&&K.capture==w){const ge=K.listener,ut=K.ha||K.src;K.fa&&ke(d.i,K),O=ge.call(ut,N)!==!1&&O}}return O&&!N.defaultPrevented}function Lu(d,g){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=c(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(d,g||0)}function mr(d){d.g=Lu(()=>{d.g=null,d.i&&(d.i=!1,mr(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class km extends A{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(d){A.call(this),this.h=d,this.g={}}f(ji,A);var Vt=[];function zr(d){L(d.g,function(g,w){this.g.hasOwnProperty(w)&&bn(g)},d),d.g={}}ji.prototype.N=function(){ji.Z.N.call(this),zr(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tl=o.JSON.stringify,Dm=o.JSON.parse,Lo=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function Vu(){}function bl(){}var Br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pr(){k.call(this,"d")}f(pr,k);function Vo(){k.call(this,"c")}f(Vo,k);var Ht={},Fu=null;function Fo(){return Fu=Fu||new qe}Ht.Ia="serverreachability";function Sl(d){k.call(this,Ht.Ia,d)}f(Sl,k);function Es(d){const g=Fo();mt(g,new Sl(g))}Ht.STAT_EVENT="statevent";function Uu(d,g){k.call(this,Ht.STAT_EVENT,d),this.stat=g}f(Uu,k);function ct(d){const g=Fo();mt(g,new Uu(g,d))}Ht.Ja="timingevent";function Bn(d,g){k.call(this,Ht.Ja,d),this.size=g}f(Bn,k);function Oi(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},g)}function ie(){this.g=!0}ie.prototype.ua=function(){this.g=!1};function Se(d,g,w,N,O,V){d.info(function(){if(d.g)if(V){var K="",ge=V.split("&");for(let De=0;De<ge.length;De++){var ut=ge[De].split("=");if(ut.length>1){const gt=ut[0];ut=ut[1];const vr=gt.split("_");K=vr.length>=2&&vr[1]=="type"?K+(gt+"="+ut+"&"):K+(gt+"=redacted&")}}}else K=null;else K=V;return"XMLHTTP REQ ("+N+") [attempt "+O+"]: "+g+`
`+w+`
`+K})}function je(d,g,w,N,O,V,K){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+O+"]: "+g+`
`+w+`
`+V+" "+K})}function pt(d,g,w,N){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+gr(d,w)+(N?" "+N:"")})}function dn(d,g){d.info(function(){return"TIMEOUT: "+g})}ie.prototype.info=function(){};function gr(d,g){if(!d.g)return g;if(!g)return null;try{const V=JSON.parse(g);if(V){for(d=0;d<V.length;d++)if(Array.isArray(V[d])){var w=V[d];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var O=N[0];if(O!="noop"&&O!="stop"&&O!="close")for(let K=1;K<N.length;K++)N[K]=""}}}}return Tl(V)}catch{return g}}var Sn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qn;function Mm(){}f(Mm,Vu),Mm.prototype.g=function(){return new XMLHttpRequest},qn=new Mm;function Cl(d){return encodeURIComponent(String(d))}function gk(d){var g=1;d=d.split(":");const w=[];for(;g>0&&d.length;)w.push(d.shift()),g--;return d.length&&w.push(d.join(":")),w}function Is(d,g,w,N){this.j=d,this.i=g,this.l=w,this.S=N||1,this.V=new ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new N0}function N0(){this.i=null,this.g="",this.h=!1}var P0={},jm={};function Om(d,g,w){d.M=1,d.A=zu(yr(g)),d.u=w,d.R=!0,R0(d,null)}function R0(d,g){d.F=Date.now(),$u(d),d.B=yr(d.A);var w=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),q0(w.i,"t",N),d.C=0,w=d.j.L,d.h=new N0,d.g=lx(d.j,w?g:null,!d.u),d.P>0&&(d.O=new km(c(d.Y,d,d.g),d.P)),g=d.V,w=d.g,N=d.ba;var O="readystatechange";Array.isArray(O)||(O&&(Vt[0]=O.toString()),O=Vt);for(let V=0;V<O.length;V++){const K=Ze(w,O[V],N||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=d.J?ne(d.J):{},d.u?(d.v||(d.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,g)):(d.v="GET",d.g.ea(d.B,d.v,null,g)),Es(),Se(d.i,d.v,d.B,d.l,d.S,d.u)}Is.prototype.ba=function(d){d=d.target;const g=this.O;g&&Ss(d)==3?g.j():this.Y(d)},Is.prototype.Y=function(d){try{if(d==this.g)e:{const ge=Ss(this.g),ut=this.g.ya(),De=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||X0(this.g)))){this.K||ge!=4||ut==7||(ut==8||De<=0?Es(3):Es(2)),Lm(this);var g=this.g.ca();this.X=g;var w=yk(this);if(this.o=g==200,je(this.i,this.v,this.B,this.l,this.S,ge,g),this.o){if(this.U&&!this.L){t:{if(this.g){var N,O=this.g;if((N=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(N)){var V=N;break t}}V=null}if(d=V)pt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vm(this,d);else{this.o=!1,this.m=3,ct(12),Li(this),Al(this);break e}}if(this.R){d=!0;let gt;for(;!this.K&&this.C<w.length;)if(gt=vk(this,w),gt==jm){ge==4&&(this.m=4,ct(14),d=!1),pt(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==P0){this.m=4,ct(15),pt(this.i,this.l,w,"[Invalid Chunk]"),d=!1;break}else pt(this.i,this.l,gt,null),Vm(this,gt);if(k0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||w.length!=0||this.h.h||(this.m=1,ct(16),d=!1),this.o=this.o&&d,!d)pt(this.i,this.l,w,"[Invalid Chunked Response]"),Li(this),Al(this);else if(w.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Hm(K),K.P=!0,ct(11))}}else pt(this.i,this.l,w,null),Vm(this,w);ge==4&&Li(this),this.o&&!this.K&&(ge==4?sx(this.j,this):(this.o=!1,$u(this)))}else kk(this.g),g==400&&w.indexOf("Unknown SID")>0?(this.m=3,ct(12)):(this.m=0,ct(13)),Li(this),Al(this)}}}catch{}finally{}};function yk(d){if(!k0(d))return d.g.la();const g=X0(d.g);if(g==="")return"";let w="";const N=g.length,O=Ss(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Li(d),Al(d),"";d.h.i=new o.TextDecoder}for(let V=0;V<N;V++)d.h.h=!0,w+=d.h.i.decode(g[V],{stream:!(O&&V==N-1)});return g.length=0,d.h.g+=w,d.C=0,d.h.g}function k0(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function vk(d,g){var w=d.C,N=g.indexOf(`
`,w);return N==-1?jm:(w=Number(g.substring(w,N)),isNaN(w)?P0:(N+=1,N+w>g.length?jm:(g=g.slice(N,N+w),d.C=N+w,g)))}Is.prototype.cancel=function(){this.K=!0,Li(this)};function $u(d){d.T=Date.now()+d.H,D0(d,d.H)}function D0(d,g){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Oi(c(d.aa,d),g)}function Lm(d){d.D&&(o.clearTimeout(d.D),d.D=null)}Is.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(dn(this.i,this.B),this.M!=2&&(Es(),ct(17)),Li(this),this.m=2,Al(this)):D0(this,this.T-d)};function Al(d){d.j.I==0||d.K||sx(d.j,d)}function Li(d){Lm(d);var g=d.O;g&&typeof g.dispose=="function"&&g.dispose(),d.O=null,zr(d.V),d.g&&(g=d.g,d.g=null,g.abort(),g.dispose())}function Vm(d,g){try{var w=d.j;if(w.I!=0&&(w.g==d||Fm(w.h,d))){if(!d.L&&Fm(w.h,d)&&w.I==3){try{var N=w.Ba.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var O=N;if(O[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<d.F)Gu(w),Wu(w);else break e;Wm(w),ct(18)}}else w.xa=O[1],0<w.xa-w.K&&O[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Oi(c(w.Va,w),6e3));O0(w.h)<=1&&w.ta&&(w.ta=void 0)}else Fi(w,11)}else if((d.L||w.g==d)&&Gu(w),!R(g))for(O=w.Ba.g.parse(g),g=0;g<O.length;g++){let De=O[g];const gt=De[0];if(!(gt<=w.K))if(w.K=gt,De=De[1],w.I==2)if(De[0]=="c"){w.M=De[1],w.ba=De[2];const vr=De[3];vr!=null&&(w.ka=vr,w.j.info("VER="+w.ka));const Ui=De[4];Ui!=null&&(w.za=Ui,w.j.info("SVER="+w.za));const Cs=De[5];Cs!=null&&typeof Cs=="number"&&Cs>0&&(N=1.5*Cs,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const As=d.g;if(As){const Qu=As.g?As.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qu){var V=N.h;V.g||Qu.indexOf("spdy")==-1&&Qu.indexOf("quic")==-1&&Qu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Um(V,V.h),V.h=null))}if(N.G){const Gm=As.g?As.g.getResponseHeader("X-HTTP-Session-Id"):null;Gm&&(N.wa=Gm,Ve(N.J,N.G,Gm))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-d.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var K=d;if(N.na=ax(N,N.L?N.ba:null,N.W),K.L){L0(N.h,K);var ge=K,ut=N.O;ut&&(ge.H=ut),ge.D&&(Lm(ge),$u(ge)),N.g=K}else nx(N);w.i.length>0&&Hu(w)}else De[0]!="stop"&&De[0]!="close"||Fi(w,7);else w.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Fi(w,7):qm(w):De[0]!="noop"&&w.l&&w.l.qa(De),w.A=0)}}Es(4)}catch{}}var wk=class{constructor(d,g){this.g=d,this.map=g}};function M0(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function j0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function O0(d){return d.h?1:d.g?d.g.size:0}function Fm(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function Um(d,g){d.g?d.g.add(g):d.h=g}function L0(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}M0.prototype.cancel=function(){if(this.i=V0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function V0(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const w of d.g.values())g=g.concat(w.G);return g}return p(d.i)}var F0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xk(d,g){if(d){d=d.split("&");for(let w=0;w<d.length;w++){const N=d[w].indexOf("=");let O,V=null;N>=0?(O=d[w].substring(0,N),V=d[w].substring(N+1)):O=d[w],g(O,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ts(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;d instanceof Ts?(this.l=d.l,Nl(this,d.j),this.o=d.o,this.g=d.g,Pl(this,d.u),this.h=d.h,$m(this,W0(d.i)),this.m=d.m):d&&(g=String(d).match(F0))?(this.l=!1,Nl(this,g[1]||"",!0),this.o=Rl(g[2]||""),this.g=Rl(g[3]||"",!0),Pl(this,g[4]),this.h=Rl(g[5]||"",!0),$m(this,g[6]||"",!0),this.m=Rl(g[7]||"")):(this.l=!1,this.i=new Dl(null,this.l))}Ts.prototype.toString=function(){const d=[];var g=this.j;g&&d.push(kl(g,U0,!0),":");var w=this.g;return(w||g=="file")&&(d.push("//"),(g=this.o)&&d.push(kl(g,U0,!0),"@"),d.push(Cl(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&d.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(kl(w,w.charAt(0)=="/"?Ik:Ek,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",kl(w,bk)),d.join("")},Ts.prototype.resolve=function(d){const g=yr(this);let w=!!d.j;w?Nl(g,d.j):w=!!d.o,w?g.o=d.o:w=!!d.g,w?g.g=d.g:w=d.u!=null;var N=d.h;if(w)Pl(g,d.u);else if(w=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var O=g.h.lastIndexOf("/");O!=-1&&(N=g.h.slice(0,O+1)+N)}if(O=N,O==".."||O==".")N="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){N=O.lastIndexOf("/",0)==0,O=O.split("/");const V=[];for(let K=0;K<O.length;){const ge=O[K++];ge=="."?N&&K==O.length&&V.push(""):ge==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),N&&K==O.length&&V.push("")):(V.push(ge),N=!0)}N=V.join("/")}else N=O}return w?g.h=N:w=d.i.toString()!=="",w?$m(g,W0(d.i)):w=!!d.m,w&&(g.m=d.m),g};function yr(d){return new Ts(d)}function Nl(d,g,w){d.j=w?Rl(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Pl(d,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);d.u=g}else d.u=null}function $m(d,g,w){g instanceof Dl?(d.i=g,Sk(d.i,d.l)):(w||(g=kl(g,Tk)),d.i=new Dl(g,d.l))}function Ve(d,g,w){d.i.set(g,w)}function zu(d){return Ve(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Rl(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function kl(d,g,w){return typeof d=="string"?(d=encodeURI(d).replace(g,_k),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _k(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var U0=/[#\/\?@]/g,Ek=/[#\?:]/g,Ik=/[#\?]/g,Tk=/[#\?@]/g,bk=/#/g;function Dl(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Vi(d){d.g||(d.g=new Map,d.h=0,d.i&&xk(d.i,function(g,w){d.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=Dl.prototype,t.add=function(d,g){Vi(this),this.i=null,d=Uo(this,d);let w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(g),this.h+=1,this};function $0(d,g){Vi(d),g=Uo(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function z0(d,g){return Vi(d),g=Uo(d,g),d.g.has(g)}t.forEach=function(d,g){Vi(this),this.g.forEach(function(w,N){w.forEach(function(O){d.call(g,O,N,this)},this)},this)};function B0(d,g){Vi(d);let w=[];if(typeof g=="string")z0(d,g)&&(w=w.concat(d.g.get(Uo(d,g))));else for(d=Array.from(d.g.values()),g=0;g<d.length;g++)w=w.concat(d[g]);return w}t.set=function(d,g){return Vi(this),this.i=null,d=Uo(this,d),z0(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=B0(this,d),d.length>0?String(d[0]):g):g};function q0(d,g,w){$0(d,g),w.length>0&&(d.i=null,d.g.set(Uo(d,g),p(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(let N=0;N<g.length;N++){var w=g[N];const O=Cl(w);w=B0(this,w);for(let V=0;V<w.length;V++){let K=O;w[V]!==""&&(K+="="+Cl(w[V])),d.push(K)}}return this.i=d.join("&")};function W0(d){const g=new Dl;return g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),g}function Uo(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function Sk(d,g){g&&!d.j&&(Vi(d),d.i=null,d.g.forEach(function(w,N){const O=N.toLowerCase();N!=O&&($0(this,N),q0(this,O,w))},d)),d.j=g}function Ck(d,g){const w=new ie;if(o.Image){const N=new Image;N.onload=h(bs,w,"TestLoadImage: loaded",!0,g,N),N.onerror=h(bs,w,"TestLoadImage: error",!1,g,N),N.onabort=h(bs,w,"TestLoadImage: abort",!1,g,N),N.ontimeout=h(bs,w,"TestLoadImage: timeout",!1,g,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else g(!1)}function Ak(d,g){const w=new ie,N=new AbortController,O=setTimeout(()=>{N.abort(),bs(w,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:N.signal}).then(V=>{clearTimeout(O),V.ok?bs(w,"TestPingServer: ok",!0,g):bs(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(O),bs(w,"TestPingServer: error",!1,g)})}function bs(d,g,w,N,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),N(w)}catch{}}function Nk(){this.g=new Lo}function zm(d){this.i=d.Sb||null,this.h=d.ab||!1}f(zm,Vu),zm.prototype.g=function(){return new Bu(this.i,this.h)};function Bu(d,g){qe.call(this),this.H=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Bu,qe),t=Bu.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=g,this.readyState=1,jl(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(g.body=d),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ml(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;H0(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function H0(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Ml(this):jl(this),this.readyState==3&&H0(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Ml(this))},t.Na=function(d){this.g&&(this.response=d,Ml(this))},t.ga=function(){this.g&&Ml(this)};function Ml(d){d.readyState=4,d.l=null,d.j=null,d.B=null,jl(d)}t.setRequestHeader=function(d,g){this.A.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=g.next();return d.join(`\r
`)};function jl(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function G0(d){let g="";return L(d,function(w,N){g+=N,g+=":",g+=w,g+=`\r
`}),g}function Bm(d,g,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=G0(w),typeof d=="string"?w!=null&&Cl(w):Ve(d,g,w))}function Ye(d){qe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ye,qe);var Pk=/^https?$/i,Rk=["POST","PUT"];t=Ye.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,g,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qn.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(V){K0(this,V);return}if(d=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var O in N)w.set(O,N[O]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())w.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(V=>V.toLowerCase()=="content-type"),O=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call(Rk,g,void 0)>=0)||N||O||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,K]of w)this.g.setRequestHeader(V,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(V){K0(this,V)}};function K0(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.o=5,Q0(d),qu(d)}function Q0(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,mt(this,"complete"),mt(this,"abort"),qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Y0(this):this.Xa())},t.Xa=function(){Y0(this)};function Y0(d){if(d.h&&typeof i<"u"){if(d.v&&Ss(d)==4)setTimeout(d.Ca.bind(d),0);else if(mt(d,"readystatechange"),Ss(d)==4){d.h=!1;try{const V=d.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var N;if(N=V===0){let K=String(d.D).match(F0)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),N=!Pk.test(K?K.toLowerCase():"")}w=N}if(w)mt(d,"complete"),mt(d,"success");else{d.o=6;try{var O=Ss(d)>2?d.g.statusText:""}catch{O=""}d.l=O+" ["+d.ca()+"]",Q0(d)}}finally{qu(d)}}}}function qu(d,g){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const w=d.g;d.g=null,g||mt(d,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Dm(g)}};function X0(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function kk(d){const g={};d=(d.g&&Ss(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(R(d[N]))continue;var w=gk(d[N]);const O=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const V=g[O]||[];g[O]=V,V.push(w)}G(g,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(d,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||g}function J0(d){this.za=0,this.i=[],this.j=new ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ol("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ol("baseRetryDelayMs",5e3,d),this.Za=Ol("retryDelaySeedMs",1e4,d),this.Ta=Ol("forwardChannelMaxRetries",2,d),this.va=Ol("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new M0(d&&d.concurrentRequestLimit),this.Ba=new Nk,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=J0.prototype,t.ka=8,t.I=1,t.connect=function(d,g,w,N){ct(0),this.W=d,this.H=g||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=ax(this,null,this.W),Hu(this)};function qm(d){if(Z0(d),d.I==3){var g=d.V++,w=yr(d.J);if(Ve(w,"SID",d.M),Ve(w,"RID",g),Ve(w,"TYPE","terminate"),Ll(d,w),g=new Is(d,d.j,g),g.M=2,g.A=zu(yr(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=g.A,w=!0),w||(g.g=lx(g.j,null),g.g.ea(g.A)),g.F=Date.now(),$u(g)}ox(d)}function Wu(d){d.g&&(Hm(d),d.g.cancel(),d.g=null)}function Z0(d){Wu(d),d.v&&(o.clearTimeout(d.v),d.v=null),Gu(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function Hu(d){if(!j0(d.h)&&!d.m){d.m=!0;var g=d.Ea;D||T(),j||(D(),j=!0),S.add(g,d),d.D=0}}function Dk(d,g){return O0(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=g.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Oi(c(d.Ea,d,g),ix(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const O=new Is(this,this.j,d);let V=this.o;if(this.U&&(V?(V=ne(V),de(V,this.U)):V=this.U),this.u!==null||this.R||(O.J=V,V=null),this.S)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,g>4096){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=tx(this,O,g),w=yr(this.J),Ve(w,"RID",d),Ve(w,"CVER",22),this.G&&Ve(w,"X-HTTP-Session-Id",this.G),Ll(this,w),V&&(this.R?g="headers="+Cl(G0(V))+"&"+g:this.u&&Bm(w,this.u,V)),Um(this.h,O),this.Ra&&Ve(w,"TYPE","init"),this.S?(Ve(w,"$req",g),Ve(w,"SID","null"),O.U=!0,Om(O,w,null)):Om(O,w,g),this.I=2}}else this.I==3&&(d?ex(this,d):this.i.length==0||j0(this.h)||ex(this))};function ex(d,g){var w;g?w=g.l:w=d.V++;const N=yr(d.J);Ve(N,"SID",d.M),Ve(N,"RID",w),Ve(N,"AID",d.K),Ll(d,N),d.u&&d.o&&Bm(N,d.u,d.o),w=new Is(d,d.j,w,d.D+1),d.u===null&&(w.J=d.o),g&&(d.i=g.G.concat(d.i)),g=tx(d,w,1e3),w.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Um(d.h,w),Om(w,N,g)}function Ll(d,g){d.H&&L(d.H,function(w,N){Ve(g,N,w)}),d.l&&L({},function(w,N){Ve(g,N,w)})}function tx(d,g,w){w=Math.min(d.i.length,w);const N=d.l?c(d.l.Ka,d.l,d):null;e:{var O=d.i;let ge=-1;for(;;){const ut=["count="+w];ge==-1?w>0?(ge=O[0].g,ut.push("ofs="+ge)):ge=0:ut.push("ofs="+ge);let De=!0;for(let gt=0;gt<w;gt++){var V=O[gt].g;const vr=O[gt].map;if(V-=ge,V<0)ge=Math.max(0,O[gt].g-100),De=!1;else try{V="req"+V+"_"||"";try{var K=vr instanceof Map?vr:Object.entries(vr);for(const[Ui,Cs]of K){let As=Cs;a(Cs)&&(As=Tl(Cs)),ut.push(V+Ui+"="+encodeURIComponent(As))}}catch(Ui){throw ut.push(V+"type="+encodeURIComponent("_badmap")),Ui}}catch{N&&N(vr)}}if(De){K=ut.join("&");break e}}K=void 0}return d=d.i.splice(0,w),g.G=d,K}function nx(d){if(!d.g&&!d.v){d.Y=1;var g=d.Da;D||T(),j||(D(),j=!0),S.add(g,d),d.A=0}}function Wm(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Oi(c(d.Da,d),ix(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,rx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Oi(c(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ct(10),Wu(this),rx(this))};function Hm(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function rx(d){d.g=new Is(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var g=yr(d.na);Ve(g,"RID","rpc"),Ve(g,"SID",d.M),Ve(g,"AID",d.K),Ve(g,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ve(g,"TO",d.ia),Ve(g,"TYPE","xmlhttp"),Ll(d,g),d.u&&d.o&&Bm(g,d.u,d.o),d.O&&(d.g.H=d.O);var w=d.g;d=d.ba,w.M=1,w.A=zu(yr(g)),w.u=null,w.R=!0,R0(w,d)}t.Va=function(){this.C!=null&&(this.C=null,Wu(this),Wm(this),ct(19))};function Gu(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function sx(d,g){var w=null;if(d.g==g){Gu(d),Hm(d),d.g=null;var N=2}else if(Fm(d.h,g))w=g.G,L0(d.h,g),N=1;else return;if(d.I!=0){if(g.o)if(N==1){w=g.u?g.u.length:0,g=Date.now()-g.F;var O=d.D;N=Fo(),mt(N,new Bn(N,w)),Hu(d)}else nx(d);else if(O=g.m,O==3||O==0&&g.X>0||!(N==1&&Dk(d,g)||N==2&&Wm(d)))switch(w&&w.length>0&&(g=d.h,g.i=g.i.concat(w)),O){case 1:Fi(d,5);break;case 4:Fi(d,10);break;case 3:Fi(d,6);break;default:Fi(d,2)}}}function ix(d,g){let w=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(w*=2),w*g}function Fi(d,g){if(d.j.info("Error code "+g),g==2){var w=c(d.bb,d),N=d.Ua;const O=!N;N=new Ts(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Nl(N,"https"),zu(N),O?Ck(N.toString(),w):Ak(N.toString(),w)}else ct(2);d.I=0,d.l&&d.l.pa(g),ox(d),Z0(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function ox(d){if(d.I=0,d.ja=[],d.l){const g=V0(d.h);(g.length!=0||d.i.length!=0)&&(I(d.ja,g),I(d.ja,d.i),d.h.i.length=0,p(d.i),d.i.length=0),d.l.oa()}}function ax(d,g,w){var N=w instanceof Ts?yr(w):new Ts(w);if(N.g!="")g&&(N.g=g+"."+N.g),Pl(N,N.u);else{var O=o.location;N=O.protocol,g=g?g+"."+O.hostname:O.hostname,O=+O.port;const V=new Ts(null);N&&Nl(V,N),g&&(V.g=g),O&&Pl(V,O),w&&(V.h=w),N=V}return w=d.G,g=d.wa,w&&g&&Ve(N,w,g),Ve(N,"VER",d.ka),Ll(d,N),N}function lx(d,g,w){if(g&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Aa&&!d.ma?new Ye(new zm({ab:w})):new Ye(d.ma),g.Fa(d.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cx(){}t=cx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ku(){}Ku.prototype.g=function(d,g){return new hn(d,g)};function hn(d,g){qe.call(this),this.g=new J0(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(d?d["X-WebChannel-Client-Profile"]=g.sa:d={"X-WebChannel-Client-Profile":g.sa}),this.g.U=d,(d=g&&g.Qb)&&!R(d)&&(this.g.u=d),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new $o(this)}f(hn,qe),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){qm(this.g)},hn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.v&&(w={},w.__data__=Tl(d),d=w);g.i.push(new wk(g.Ya++,d)),g.I==3&&Hu(g)},hn.prototype.N=function(){this.g.l=null,delete this.j,qm(this.g),delete this.g,hn.Z.N.call(this)};function ux(d){pr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const w in g){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}f(ux,pr);function dx(){Vo.call(this),this.status=1}f(dx,Vo);function $o(d){this.g=d}f($o,cx),$o.prototype.ra=function(){mt(this.g,"a")},$o.prototype.qa=function(d){mt(this.g,new ux(d))},$o.prototype.pa=function(d){mt(this.g,new dx)},$o.prototype.oa=function(){mt(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,QA=function(){return new Ku},KA=function(){return Fo()},GA=Ht,_y={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sn.NO_ERROR=0,Sn.TIMEOUT=8,Sn.HTTP_ERROR=6,Qd=Sn,Gt.COMPLETE="complete",HA=Gt,bl.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",qe.prototype.listen=qe.prototype.J,tc=bl,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,WA=Ye}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",qE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Kf("@firebase/firestore");function Go(){return xo.logLevel}function Y(t,...e){if(xo.logLevel<=xe.DEBUG){const n=e.map(Sw);xo.debug(`Firestore (${gl}): ${t}`,...n)}}function fs(t,...e){if(xo.logLevel<=xe.ERROR){const n=e.map(Sw);xo.error(`Firestore (${gl}): ${t}`,...n)}}function qa(t,...e){if(xo.logLevel<=xe.WARN){const n=e.map(Sw);xo.warn(`Firestore (${gl}): ${t}`,...n)}}function Sw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YA(t,r,n)}function YA(t,e,n){let r=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fs(r),new Error(r)}function Ae(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||YA(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends $n{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class r${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s${constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new di;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new di,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new XA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class i${constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o${constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new i$(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a${constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ae(this.o===void 0,3512);const r=i=>{i.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new WE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new WE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=l$(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Fp(s)===Fp(i)?_e(s,i):Fp(s)?1:-1}return _e(t.length,e.length)}const c$=55296,u$=57343;function Fp(t){const e=t.charCodeAt(0);return e>=c$&&e<=u$}function Wa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__name__";class _r{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_r.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return _e(e.length,n.length)}static compareSegments(e,n){const r=_r.isNumericId(e),s=_r.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_r.extractNumericId(e).compare(_r.extractNumericId(n)):Ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}}class Oe extends _r{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const d$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends _r{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return d$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HE}static keyField(){return new It([HE])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Oe.fromString(e))}static fromName(e){return new se(Oe.fromString(e).popFirst(5))}static empty(){return new se(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){if(!n)throw new Q($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h$(t,e,n,r){if(e===!0&&r===!0)throw new Q($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GE(t){if(!se.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function KE(t){if(se.isDocumentKey(t))throw new Q($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function ns(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new Q($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!ZA(t))throw new Q($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-62135596800,YE=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YE);return new Ce(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QE)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:ot("string",Ce._jsonSchemaVersion),seconds:ot("number"),nanoseconds:ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Ce(0,0))}static max(){return new ue(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function f$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Ce(n+1,0):new Ce(n,r));return new wi(s,se.empty(),e)}function m$(t){return new wi(t.readTime,t.key,Zc)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(ue.min(),se.empty(),Zc)}static max(){return new wi(ue.max(),se.empty(),Zc)}}function p$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class y${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==g$)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function v$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=-1;function rm(t){return t==null}function Hh(t){return t===0&&1/t==-1/0}function w$(t){return typeof t=="number"&&Number.isInteger(t)&&!Hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="";function x$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XE(e)),e=_$(t.get(n),e);return XE(e)}function _$(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case eN:n+="";break;default:n+=i}}return n}function XE(t){return t+eN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Et(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZE(this.data.getIterator())}getIteratorFrom(e){return new ZE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class ZE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new tr([])}unionWith(e){let n=new ft(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nN("Invalid base64 string: "+i):i}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const E$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(Ae(!!t,39018),typeof t=="string"){let e=0;const n=E$.exec(t);if(Ae(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _i(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="server_timestamp",sN="__type__",iN="__previous_value__",oN="__local_write_time__";function Nw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sN])==null?void 0:r.stringValue)===rN}function sm(t){const e=t.mapValue.fields[iN];return Nw(e)?sm(e):e}function eu(t){const e=xi(t.mapValue.fields[oN].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const Gh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Gh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="__type__",lN="__max__",Ed={mapValue:{fields:{__type__:{stringValue:lN}}}},cN="__vector__",Kh="value";function Ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nw(t)?4:b$(t)?9007199254740991:T$(t)?10:11:oe(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Ei(t);if(n!==Ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eu(t).isEqual(eu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=xi(s.timestampValue),a=xi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return _i(s.bytesValue).isEqual(_i(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return et(s.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(s.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return et(s.integerValue)===et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=et(s.doubleValue),a=et(i.doubleValue);return o===a?Hh(o)===Hh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(JE(o)!==JE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function nu(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Ha(t,e){if(t===e)return 0;const n=Ei(t),r=Ei(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=et(i.integerValue||i.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(eu(t),eu(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return function(i,o){const a=_i(i),l=_i(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=_e(a[c],l[c]);if(h!==0)return h}return _e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=_e(et(i.latitude),et(o.latitude));return a!==0?a:_e(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return t1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,I,v;const a=i.fields||{},l=o.fields||{},c=(m=a[Kh])==null?void 0:m.arrayValue,h=(p=l[Kh])==null?void 0:p.arrayValue,f=_e(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:t1(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ed.mapValue&&o===Ed.mapValue)return 0;if(i===Ed.mapValue)return 1;if(o===Ed.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=Ey(l[f],h[f]);if(m!==0)return m;const p=Ha(a[l[f]],c[h[f]]);if(p!==0)return p}return _e(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{he:n})}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=xi(t),r=xi(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function t1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ha(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function Ga(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return _i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Iy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Iy(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function Yd(t){switch(Ei(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(t);return e?16+Yd(e):16;case 5:return 2*t.stringValue.length;case 6:return _i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Yd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Po(r.fields,(i,o)=>{s+=i.length+Yd(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function n1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ty(t){return!!t&&"integerValue"in t}function Pw(t){return!!t&&"arrayValue"in t}function r1(t){return!!t&&"nullValue"in t}function s1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function T$(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aN])==null?void 0:r.stringValue)===cN}function Ec(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return{...t}}function b$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ec(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Po(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Rn(Ec(this.value))}}function uN(t){const e=[];return Po(t.fields,(n,r)=>{const s=new It([n]);if(Xd(r)){const i=uN(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,ue.min(),ue.min(),ue.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,ue.min(),ue.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ue.min(),ue.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function i1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Ha(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function o1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function S$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{}class it extends dN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new A$(e,n,r):n==="array-contains"?new R$(e,r):n==="in"?new k$(e,r):n==="not-in"?new D$(e,r):n==="array-contains-any"?new M$(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new N$(e,r):new P$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ha(n,this.value)):n!==null&&Ei(this.value)===Ei(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends dN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return hN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hN(t){return t.op==="and"}function fN(t){return C$(t)&&hN(t)}function C$(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function by(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Ga(t.value);if(fN(t))return t.filters.map(e=>by(e)).join(",");{const e=t.filters.map(n=>by(n)).join(",");return`${t.op}(${e})`}}function mN(t,e){return t instanceof it?function(r,s){return s instanceof it&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mN(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function pN(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(pN).join(" ,")+"}"}(t):"Filter"}class A$ extends it{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class N$ extends it{constructor(e,n){super(e,"in",n),this.keys=gN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P$ extends it{constructor(e,n){super(e,"not-in",n),this.keys=gN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class R$ extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pw(n)&&nu(n.arrayValue,this.value)}}class k$ extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class D$ extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class M$ extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function a1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new j$(t,e,n,r,s,i,o)}function Rw(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>by(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ga(r)).join(",")),e.Te=n}return e.Te}function kw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o1(t.startAt,e.startAt)&&o1(t.endAt,e.endAt)}function Sy(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O$(t,e,n,r,s,i,o,a){return new wl(t,e,n,r,s,i,o,a)}function im(t){return new wl(t)}function l1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yN(t){return t.collectionGroup!==null}function Ic(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ru(i,r))}),n.has(It.keyField().canonicalString())||e.Ie.push(new ru(It.keyField(),r))}return e.Ie}function kr(t){const e=he(t);return e.Ee||(e.Ee=L$(e,Ic(t))),e.Ee}function L$(t,e){if(t.limitType==="F")return a1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ru(s.field,i)});const n=t.endAt?new Qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qh(t.startAt.position,t.startAt.inclusive):null;return a1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e){const n=t.filters.concat([e]);return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ay(t,e,n){return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function om(t,e){return kw(kr(t),kr(e))&&t.limitType===e.limitType}function vN(t){return`${Rw(kr(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pN(s)).join(", ")}]`),rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ga(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ga(s)).join(",")),`Target(${r})`}(kr(t))}; limitType=${t.limitType})`}function am(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ic(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=i1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ic(r),s)||r.endAt&&!function(o,a,l){const c=i1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ic(r),s))}(t,e)}function V$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wN(t){return(e,n)=>{let r=!1;for(const s of Ic(t)){const i=F$(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function F$(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Ha(l,c):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Po(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=new Qe(se.comparator);function ms(){return U$}const xN=new Qe(se.comparator);function nc(...t){let e=xN;for(const n of t)e=e.insert(n.key,n);return e}function _N(t){let e=xN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yi(){return Tc()}function EN(){return Tc()}function Tc(){return new Ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const $$=new Qe(se.comparator),z$=new ft(se.comparator);function Ee(...t){let e=z$;for(const n of t)e=e.add(n);return e}const B$=new ft(_e);function q$(){return B$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function IN(t){return{integerValue:""+t}}function W$(t,e){return w$(e)?IN(e):Dw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this._=void 0}}function H$(t,e,n){return t instanceof Yh?function(s,i){const o={fields:{[sN]:{stringValue:rN},[oN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Nw(i)&&(i=sm(i)),i&&(o.fields[iN]=i),{mapValue:o}}(n,e):t instanceof Ka?bN(t,e):t instanceof su?SN(t,e):function(s,i){const o=TN(s,i),a=c1(o)+c1(s.Ae);return Ty(o)&&Ty(s.Ae)?IN(a):Dw(s.serializer,a)}(t,e)}function G$(t,e,n){return t instanceof Ka?bN(t,e):t instanceof su?SN(t,e):n}function TN(t,e){return t instanceof Xh?function(r){return Ty(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Yh extends lm{}class Ka extends lm{constructor(e){super(),this.elements=e}}function bN(t,e){const n=CN(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class su extends lm{constructor(e){super(),this.elements=e}}function SN(t,e){let n=CN(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class Xh extends lm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function c1(t){return et(t.integerValue||t.doubleValue)}function CN(t){return Pw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e,n){this.field=e,this.transform=n}}function Q$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ka&&s instanceof Ka||r instanceof su&&s instanceof su?Wa(r.elements,s.elements,Fr):r instanceof Xh&&s instanceof Xh?Fr(r.Ae,s.Ae):r instanceof Yh&&s instanceof Yh}(t.transform,e.transform)}class Y${constructor(e,n){this.version=e,this.transformResults=n}}class Dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cm{}function AN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new PN(t.key,Dr.none()):new Su(t.key,t.data,Dr.none());{const n=t.data,r=Rn.empty();let s=new ft(It.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ko(t.key,r,new tr(s.toArray()),Dr.none())}}function X$(t,e,n){t instanceof Su?function(s,i,o){const a=s.value.clone(),l=d1(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ko?function(s,i,o){if(!Jd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=d1(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(NN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,r){return t instanceof Su?function(i,o,a,l){if(!Jd(i.precondition,o))return a;const c=i.value.clone(),h=h1(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ko?function(i,o,a,l){if(!Jd(i.precondition,o))return a;const c=h1(i.fieldTransforms,l,o),h=o.data;return h.setAll(NN(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Jd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function J$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=TN(r.transform,s||null);i!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,i))}return n||null}function u1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wa(r,s,(i,o)=>Q$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends cm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ko extends cm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d1(t,e,n){const r=new Map;Ae(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,G$(o,a,n[s]))}return r}function h1(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,H$(i,o,e))}return r}class PN extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z$ extends cm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&X$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=AN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>u1(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>u1(n,r))}}class Mw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return $$}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Mw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tz=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Ie;function rz(t){switch(t){case $.OK:return oe(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function RN(t){if(t===void 0)return fs("GRPC error has no .code"),$.UNKNOWN;switch(t){case rt.OK:return $.OK;case rt.CANCELLED:return $.CANCELLED;case rt.UNKNOWN:return $.UNKNOWN;case rt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case rt.INTERNAL:return $.INTERNAL;case rt.UNAVAILABLE:return $.UNAVAILABLE;case rt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case rt.NOT_FOUND:return $.NOT_FOUND;case rt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case rt.ABORTED:return $.ABORTED;case rt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case rt.DATA_LOSS:return $.DATA_LOSS;default:return oe(39323,{code:t})}}(Ie=rt||(rt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=new ui([4294967295,4294967295],0);function f1(t){const e=sz().encode(t),n=new qA;return n.update(e),new Uint8Array(n.digest())}function m1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ui([n,r],0),new ui([s,i],0)]}class jw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new rc(`Invalid padding: ${n}`);if(r<0)throw new rc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new rc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ui.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ui.fromNumber(r)));return s.compare(iz)===1&&(s=new ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=f1(e),[r,s]=m1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new jw(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=f1(e),[r,s]=m1(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new um(ue.min(),s,new Qe(_e),ms(),Ee())}}class Cu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cu(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class kN{constructor(e,n){this.targetId=e,this.Ce=n}}class DN{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class p1{constructor(){this.ve=0,this.Fe=g1(),this.Me=Ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new Cu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=g1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oz{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.Je=Id(),this.He=Id(),this.Ye=new Qe(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Sy(i))if(r===0){const o=new se(i.path);this.et(n,o,jt.newNoDocument(o,ue.min()))}else Ae(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=_i(r).toUint8Array()}catch(l){if(l instanceof nN)return qa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new jw(o,s,i)}catch(l){return qa(l instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Sy(a.target)){const l=new se(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,jt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ee();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new um(e,n,this.Ye,this.je,r);return this.je=ms(),this.Je=Id(),this.He=Id(),this.Ye=new Qe(_e),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new p1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ft(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ft(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new p1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Id(){return new Qe(se.comparator)}function g1(){return new Qe(se.comparator)}const az={asc:"ASCENDING",desc:"DESCENDING"},lz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cz={and:"AND",or:"OR"};class uz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ny(t,e){return t.useProto3Json||rm(e)?e:{value:e}}function Jh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dz(t,e){return Jh(t,e.toTimestamp())}function Mr(t){return Ae(!!t,49232),ue.fromTimestamp(function(n){const r=xi(n);return new Ce(r.seconds,r.nanos)}(t))}function Ow(t,e){return Py(t,e).canonicalString()}function Py(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function jN(t){const e=Oe.fromString(t);return Ae(UN(e),10190,{key:e.toString()}),e}function Ry(t,e){return Ow(t.databaseId,e.path)}function Up(t,e){const n=jN(e);if(n.get(1)!==t.databaseId.projectId)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(LN(n))}function ON(t,e){return Ow(t.databaseId,e)}function hz(t){const e=jN(t);return e.length===4?Oe.emptyPath():LN(e)}function ky(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LN(t){return Ae(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function y1(t,e,n){return{name:Ry(t,e),fields:n.value.mapValue.fields}}function fz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),Ct.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:RN(c.code);return new Q(h,c.message||"")}(o);n=new DN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Up(t,r.document.name),i=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):ue.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Zd(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Up(t,r.document),i=r.readTime?Mr(r.readTime):ue.min(),o=jt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Zd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Up(t,r.document),i=r.removedTargetIds||[];n=new Zd([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new nz(s,i),a=r.targetId;n=new kN(a,o)}}return n}function mz(t,e){let n;if(e instanceof Su)n={update:y1(t,e.key,e.value)};else if(e instanceof PN)n={delete:Ry(t,e.key)};else if(e instanceof ko)n={update:y1(t,e.key,e.data),updateMask:Iz(e.fieldMask)};else{if(!(e instanceof Z$))return oe(16599,{Vt:e.type});n={verify:Ry(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Yh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof su)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:dz(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function pz(t,e){return t&&t.length>0?(Ae(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Mr(s.updateTime):Mr(i);return o.isEqual(ue.min())&&(o=Mr(i)),new Y$(o,s.transformResults||[])}(n,e))):[]}function gz(t,e){return{documents:[ON(t,e.path)]}}function yz(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ON(t,s);const i=function(c){if(c.length!==0)return FN(cr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:Qo(m.field),direction:xz(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ny(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function vz(t){let e=hz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=VN(f);return m instanceof cr&&fN(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(I){return new ru(Yo(I.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,rm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new Qh(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,p=f.values||[];return new Qh(p,m)}(n.endAt)),O$(e,s,o,i,a,"F",l,c)}function wz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yo(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(n.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yo(n.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yo(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return it.create(Yo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>VN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function xz(t){return az[t]}function _z(t){return lz[t]}function Ez(t){return cz[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return It.fromServerFormat(t.fieldPath)}function FN(t){return t instanceof it?function(n){if(n.op==="=="){if(s1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(r1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(r1(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:_z(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(s=>FN(s));return r.length===1?r[0]:{compositeFilter:{op:Ez(n.op),filters:r}}}(t):oe(54877,{filter:t})}function Iz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.yt=e}}function bz(t){const e=vz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(){this.Cn=new Cz}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(wi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class Cz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ft(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ft(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$N=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt($N,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="LruGarbageCollector",Az=1048576;function x1([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class Nz{constructor(e){this.Ir=e,this.buffer=new ft(x1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();x1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(w1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vl(n)?Y(w1,"Ignoring IndexedDB error during garbage collection: ",n):await yl(n)}await this.Vr(3e5)})}}class Rz{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(nm.ce);const r=new Nz(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(v1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Go()<=xe.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function kz(t,e){return new Rz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.changes=new Ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&bc(r.mutation,s,tr.empty(),Ce.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=Yi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=nc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ms();const o=Tc(),a=function(){return Tc()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ko)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),bc(h.mutation,c,h.mutation.getFieldMask(),Ce.now())):o.set(c.key,tr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new Mz(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let s=new Qe((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||tr.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=EN();h.forEach(m=>{if(!i.has(m)){const p=AN(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Yi());let a=Zc,l=i;return o.next(c=>z.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ee())).next(h=>({batchId:a,changes:_N(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=nc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=nc();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const c=function(f,m){return new wl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,jt.newInvalidDocument(h)))});let a=nc();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&bc(h.mutation,c,tr.empty(),Ce.now()),am(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:bz(s.bundledQuery),readTime:Mr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(){this.overlays=new Qe(se.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yi();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Yi(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Yi(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Yi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tz(n,r));let i=this.qr.get(n);i===void 0&&(i=Ee(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Qr=new ft(yt.$r),this.Ur=new ft(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new Oe([])),r=new yt(n,e),s=new yt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new Oe([])),r=new yt(n,e),s=new yt(n,e+1);let i=Ee();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new yt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ft(yt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ez(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new yt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Aw:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(_e);return n.forEach(s=>{const i=new yt(s,0),o=new yt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new yt(new se(i),0);let a=new ft(_e);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const i=new yt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yt(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e){this.ri=e,this.docs=function(){return new Qe(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ms();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||p$(m$(h),r)<=0||(s.has(h.key)||am(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $z(this)}getSize(e){return z.resolve(this.size)}}class $z extends Dz{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.persistence=e,this.si=new Ro(n=>Rw(n),kw),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.oi=0,this._i=new Lw,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.ui={},this.overlays={},this.ci=new nm(0),this.li=!1,this.li=!0,this.hi=new Vz,this.referenceDelegate=e(this),this.Pi=new zz(this),this.indexManager=new Sz,this.remoteDocumentCache=function(s){return new Uz(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Tz(n),this.Ii=new Oz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Lz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Fz(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const s=new Bz(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Bz extends y${constructor(e){super(),this.currentSequenceNumber=e}}class Vw{constructor(e){this.persistence=e,this.Ri=new Lw,this.Vi=null}static mi(e){return new Vw(e)}get fi(){if(this.Vi)return this.Vi;throw oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.pi=new Ro(r=>x$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=kz(this,n)}static mi(e,n){return new Zh(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yd(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Fw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return c3()?8:v$(Lt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new qz;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Go()<=xe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Go()<=xe.DEBUG&&Y("QueryEngine","Query:",Ko(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Go()<=xe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(n))):z.resolve())}ys(e,n){if(l1(n))return z.resolve(null);let r=kr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ay(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Ay(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return l1(n)||s.isEqual(ue.min())?z.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?z.resolve(null):(Go()<=xe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(n)),this.vs(e,o,n,f$(s,Zc)).next(a=>a))})}Ds(e,n){let r=new ft(wN(e));return n.forEach((s,i)=>{am(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Go()<=xe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.ps.getDocumentsMatchingQuery(e,n,wi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="LocalStore",Hz=3e8;class Gz{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Qe(_e),this.xs=new Ro(i=>Rw(i),kw),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Kz(t,e,n,r){return new Gz(t,e,n,r)}async function BN(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function Qz(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,m=f.keys();let p=z.resolve();return m.forEach(I=>{p=p.next(()=>h.getEntry(l,I)).next(v=>{const x=c.docVersions.get(I);Ae(x!==null,48541),v.version.compareTo(x)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function qN(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Yz(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ct.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),s=s.insert(f,p),function(v,x,_){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Hz?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,p,h)&&a.push(n.Pi.updateTargetData(i,p))});let l=ms(),c=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(Xz(i,o,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!r.isEqual(ue.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function Xz(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ms();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y(Uw,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function Jz(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Aw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zz(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Xs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Dy(t,e,n){const r=he(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!vl(o))throw o;Y(Uw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function _1(t,e,n){const r=he(t);let s=ue.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=he(l),m=f.xs.get(h);return m!==void 0?z.resolve(f.Ms.get(m)):f.Pi.getTargetData(c,h)}(r,o,kr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:Ee())).next(a=>(eB(r,V$(e),a),{documents:a,Qs:i})))}function eB(t,e,n){let r=t.Os.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class E1{constructor(){this.activeTargetIds=q$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tB{constructor(){this.Mo=new E1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new E1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="ConnectivityMonitor";class T1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(I1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(I1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function My(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="RestConnection",rB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sB{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Gh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=My(),a=this.zo(e,n.toUriEncodedString());Y($p,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),h=Ai(c);return this.Jo(e,a,l,r,h).then(f=>(Y($p,`Received RPC '${e}' ${o}: `,f),f),f=>{throw qa($p,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=rB[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class oB extends sB{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=My();return new Promise((a,l)=>{const c=new WA;c.setWithCredentials(!0),c.listenOnce(HA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Qd.NO_ERROR:const f=c.getResponseJson();Y(Rt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Qd.TIMEOUT:Y(Rt,`RPC '${e}' ${o} timed out`),l(new Q($.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const m=c.getStatus();if(Y(Rt,`RPC '${e}' ${o} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const I=p==null?void 0:p.error;if(I&&I.status&&I.message){const v=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(I.status);l(new Q(v,I.message))}else l(new Q($.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q($.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(Rt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Y(Rt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=My(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QA(),a=KA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Y(Rt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,p=!1;const I=new iB({Yo:x=>{p?Y(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(Y(Rt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Y(Rt,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},Zo:()=>f.close()}),v=(x,_,E)=>{x.listen(_,b=>{try{E(b)}catch(P){setTimeout(()=>{throw P},0)}})};return v(f,tc.EventType.OPEN,()=>{p||(Y(Rt,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),v(f,tc.EventType.CLOSE,()=>{p||(p=!0,Y(Rt,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),v(f,tc.EventType.ERROR,x=>{p||(p=!0,qa(Rt,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),I.a_(new Q($.UNAVAILABLE,"The operation could not be completed")))}),v(f,tc.EventType.MESSAGE,x=>{var _;if(!p){const E=x.data[0];Ae(!!E,16349);const b=E,P=(b==null?void 0:b.error)||((_=b[0])==null?void 0:_.error);if(P){Y(Rt,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let j=function(C){const A=rt[C];if(A!==void 0)return RN(A)}(D),S=P.message;j===void 0&&(j=$.INTERNAL,S="Unknown error status: "+D+" with message "+P.message),p=!0,I.a_(new Q(j,S)),f.close()}else Y(Rt,`RPC '${e}' stream ${s} received:`,E),I.u_(E)}}),v(a,GA.STAT_EVENT,x=>{x.stat===_y.PROXY?Y(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===_y.NOPROXY&&Y(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new uz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="PersistentStream";class HN{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(fs(n.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(b1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(b1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aB extends HN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fz(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Mr(o.readTime):ue.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ky(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Sy(l)?{documents:gz(i,l)}:{query:yz(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MN(i,o.resumeToken);const c=Ny(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Jh(i,o.snapshotVersion.toTimestamp());const c=Ny(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wz(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.q_(n)}}class lB extends HN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pz(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ky(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mz(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{}class uB extends cB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Py(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Py(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="RemoteStore";class hB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Do(this)&&(Y(_o,"Restarting streams for network reachability change."),await async function(l){const c=he(l);c.Ea.add(4),await Au(c),c.Ra.set("Unknown"),c.Ea.delete(4),await hm(c)}(this))})}),this.Ra=new dB(r,s)}}async function hm(t){if(Do(t))for(const e of t.da)await e(!0)}async function Au(t){for(const e of t.da)await e(!1)}function GN(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qw(n)?Bw(n):xl(n).O_()&&zw(n,e))}function $w(t,e){const n=he(t),r=xl(n);n.Ia.delete(e),r.O_()&&KN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Do(n)&&n.Ra.set("Unknown"))}function zw(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).Y_(e)}function KN(t,e){t.Va.Ue(e),xl(t).Z_(e)}function Bw(t){t.Va=new oz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.Ra.ua()}function qw(t){return Do(t)&&!xl(t).x_()&&t.Ia.size>0}function Do(t){return he(t).Ea.size===0}function QN(t){t.Va=void 0}async function fB(t){t.Ra.set("Online")}async function mB(t){t.Ia.forEach((e,n)=>{zw(t,e)})}async function pB(t,e){QN(t),qw(t)?(t.Ra.ha(e),Bw(t)):t.Ra.set("Unknown")}async function gB(t,e,n){if(t.Ra.set("Online"),e instanceof DN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Y(_o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ef(t,r)}else if(e instanceof Zd?t.Va.Ze(e):e instanceof kN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ue.min()))try{const r=await qN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),KN(i,l);const f=new Xs(h.target,l,c,h.sequenceNumber);zw(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y(_o,"Failed to raise snapshot:",r),await ef(t,r)}}async function ef(t,e,n){if(!vl(e))throw e;t.Ea.add(1),await Au(t),t.Ra.set("Offline"),n||(n=()=>qN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(_o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hm(t)})}function YN(t,e){return e().catch(n=>ef(t,n,e))}async function fm(t){const e=he(t),n=Ii(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Aw;for(;yB(e);)try{const s=await Jz(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,vB(e,s)}catch(s){await ef(e,s)}XN(e)&&JN(e)}function yB(t){return Do(t)&&t.Ta.length<10}function vB(t,e){t.Ta.push(e);const n=Ii(t);n.O_()&&n.X_&&n.ea(e.mutations)}function XN(t){return Do(t)&&!Ii(t).x_()&&t.Ta.length>0}function JN(t){Ii(t).start()}async function wB(t){Ii(t).ra()}async function xB(t){const e=Ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function _B(t,e,n){const r=t.Ta.shift(),s=Mw.from(r,e,n);await YN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fm(t)}async function EB(t,e){e&&Ii(t).X_&&await async function(r,s){if(function(o){return rz(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Ii(r).B_(),await YN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fm(r)}}(t,e),XN(t)&&JN(t)}async function S1(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Y(_o,"RemoteStore received new credentials");const r=Do(n);n.Ea.add(3),await Au(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hm(n)}async function IB(t,e){const n=he(t);e?(n.Ea.delete(2),await hm(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function xl(t){return t.ma||(t.ma=function(n,r,s){const i=he(n);return i.sa(),new aB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:fB.bind(null,t),t_:mB.bind(null,t),r_:pB.bind(null,t),H_:gB.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qw(t)?Bw(t):t.Ra.set("Unknown")):(await t.ma.stop(),QN(t))})),t.ma}function Ii(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new lB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:wB.bind(null,t),r_:EB.bind(null,t),ta:xB.bind(null,t),na:_B.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fm(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(_o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ww(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hw(t,e){if(fs("AsyncQueue",`${e}: ${t}`),vl(t))return new Q($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{static emptySet(e){return new _a(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=nc(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _a;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.ga=new Qe(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ya{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ya(e,n,_a.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bB{constructor(){this.queries=A1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=A1(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q($.ABORTED,"Firestore shutting down"))}}function A1(){return new Ro(t=>vN(t),om)}async function ZN(t,e){const n=he(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new TB,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Hw(o,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Gw(n)}async function eP(t,e){const n=he(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SB(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Gw(n)}function CB(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Gw(t){t.Ca.forEach(e=>{e.next()})}var jy,N1;(N1=jy||(jy={})).Ma="default",N1.Cache="cache";class tP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class AB{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=wN(e),this.tu=new _a(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new C1,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),p=am(this.query,f)?f:null,I=!!m&&this.mutatedKeys.has(m.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;m&&p?m.data.isEqual(p.data)?I!==v&&(r.track({type:3,doc:p}),x=!0):this.su(m,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),x=!0):m&&!p&&(r.track({type:1,doc:m}),x=!0,(l||c)&&(a=!0)),x&&(p?(o=o.add(p),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(p,I){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Rt:x})}};return v(p)-v(I)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Ya(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new rP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new nP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kw="SyncEngine";class NB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PB{constructor(e){this.key=e,this.hu=!1}}class RB{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ro(a=>vN(a),om),this.Iu=new Map,this.Eu=new Set,this.du=new Qe(se.comparator),this.Au=new Map,this.Ru=new Lw,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kB(t,e,n=!0){const r=cP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await sP(r,e,n,!0),s}async function DB(t,e){const n=cP(t);await sP(n,e,!0,!1)}async function sP(t,e,n,r){const s=await Zz(t.localStore,kr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await MB(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&GN(t.remoteStore,s),a}async function MB(t,e,n,r,s){t.pu=(f,m,p)=>async function(v,x,_,E){let b=x.view.ru(_);b.Cs&&(b=await _1(v.localStore,x.query,!1).then(({documents:S})=>x.view.ru(S,b)));const P=E&&E.targetChanges.get(x.targetId),D=E&&E.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(b,v.isPrimaryClient,P,D);return R1(v,x.targetId,j.au),j.snapshot}(t,f,m,p);const i=await _1(t.localStore,e,!0),o=new AB(e,i.Qs),a=o.ru(i.documents),l=Cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);R1(t,n,c.au);const h=new NB(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function jB(t,e,n){const r=he(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!om(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$w(r.remoteStore,s.targetId),Oy(r,s.targetId)}).catch(yl)):(Oy(r,s.targetId),await Dy(r.localStore,s.targetId,!0))}async function OB(t,e){const n=he(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$w(n.remoteStore,r.targetId))}async function LB(t,e,n){const r=qB(t);try{const s=await function(o,a){const l=he(o),c=Ce.now(),h=a.reduce((p,I)=>p.add(I.key),Ee());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let I=ms(),v=Ee();return l.Ns.getEntries(p,h).next(x=>{I=x,I.forEach((_,E)=>{E.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,I)).next(x=>{f=x;const _=[];for(const E of a){const b=J$(E,f.get(E.key).overlayedDocument);b!=null&&_.push(new ko(E.key,b,uN(b.value.mapValue),Dr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(x=>{m=x;const _=x.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(p,x.batchId,_)})}).then(()=>({batchId:m.batchId,changes:_N(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Qe(_e)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await Nu(r,s.changes),await fm(r.remoteStore)}catch(s){const i=Hw(s,"Failed to persist write");n.reject(i)}}async function iP(t,e){const n=he(t);try{const r=await Yz(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ae(o.hu,14607):s.removedDocuments.size>0&&(Ae(o.hu,42227),o.hu=!1))}),await Nu(n,r,e)}catch(r){await yl(r)}}function P1(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=he(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(c=!0)}),c&&Gw(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VB(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(se.comparator);o=o.insert(i,jt.newNoDocument(i,ue.min()));const a=Ee().add(i),l=new um(ue.min(),new Map,new Qe(_e),o,a);await iP(r,l),r.du=r.du.remove(i),r.Au.delete(e),Qw(r)}else await Dy(r.localStore,e,!1).then(()=>Oy(r,e,n)).catch(yl)}async function FB(t,e){const n=he(t),r=e.batch.batchId;try{const s=await Qz(n.localStore,e);aP(n,r,null),oP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,s)}catch(s){await yl(s)}}async function UB(t,e,n){const r=he(t);try{const s=await function(o,a){const l=he(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ae(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);aP(r,e,n),oP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,s)}catch(s){await yl(s)}}function oP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function aP(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||lP(t,r)})}function lP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($w(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Qw(t))}function R1(t,e,n){for(const r of n)r instanceof nP?(t.Ru.addReference(r.key,e),$B(t,r)):r instanceof rP?(Y(Kw,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||lP(t,r.key)):oe(19791,{wu:r})}function $B(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(Kw,"New document in limbo: "+n),t.Eu.add(r),Qw(t))}function Qw(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Oe.fromString(e)),r=t.fu.next();t.Au.set(r,new PB(n)),t.du=t.du.insert(n,r),GN(t.remoteStore,new Xs(kr(im(n.path)),r,"TargetPurposeLimboResolution",nm.ce))}}async function Nu(t,e,n){const r=he(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Fw.As(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const h=he(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(c,m=>z.forEach(m.Es,p=>h.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>z.forEach(m.ds,p=>h.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!vl(f))throw f;Y(Uw,"Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const p=h.Ms.get(m),I=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(I);h.Ms=h.Ms.insert(m,v)}}}(r.localStore,i))}async function zB(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Y(Kw,"User change. New user:",e.toKey());const r=await BN(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Q($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.Ls)}}function BB(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let s=Ee();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function cP(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VB.bind(null,e),e.Pu.H_=SB.bind(null,e.eventManager),e.Pu.yu=CB.bind(null,e.eventManager),e}function qB(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UB.bind(null,e),e}class tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Kz(this.persistence,new Wz,e.initialUser,this.serializer)}Cu(e){return new zN(Vw.mi,this.serializer)}Du(e){return new tB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tf.provider={build:()=>new tf};class WB extends tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ae(this.persistence.referenceDelegate instanceof Zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Pz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new zN(r=>Zh.mi(r,n),this.serializer)}}class Ly{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>P1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zB.bind(null,this.syncEngine),await IB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bB}()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=function(i){return new oB(i)}(e.databaseInfo);return function(i,o,a,l){return new uB(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new hB(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>P1(this.syncEngine,n,0),function(){return T1.v()?new T1:new nB}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new RB(s,i,o,a,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);Y(_o,"RemoteStore shutting down."),i.Ea.add(5),await Au(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class HB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=Cw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Y(Ti,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y(Ti,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bp(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Ti,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await BN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await GB(t);Y(Ti,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>S1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>S1(e.remoteStore,s)),t._onlineComponents=e}async function GB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Ti,"Using user provided OfflineComponentProvider");try{await Bp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Bp(t,new tf)}}else Y(Ti,"Using default OfflineComponentProvider"),await Bp(t,new WB(void 0));return t._offlineComponents}async function dP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Ti,"Using user provided OnlineComponentProvider"),await k1(t,t._uninitializedComponentsProvider._online)):(Y(Ti,"Using default OnlineComponentProvider"),await k1(t,new Ly))),t._onlineComponents}function KB(t){return dP(t).then(e=>e.syncEngine)}async function Vy(t){const e=await dP(t),n=e.eventManager;return n.onListen=kB.bind(null,e.syncEngine),n.onUnlisten=jB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OB.bind(null,e.syncEngine),n}function QB(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new uP({next:m=>{h.Nu(),o.enqueueAndForget(()=>eP(i,f));const p=m.docs.has(a);!p&&m.fromCache?c.reject(new Q($.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?c.reject(new Q($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new tP(im(a.path),h,{includeMetadataChanges:!0,qa:!0});return ZN(i,f)}(await Vy(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firestore.googleapis.com",M1=!0;class j1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fP,this.ssl=M1}else this.host=e.host,this.ssl=e.ssl??M1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$N;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Az)throw new Q($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new n$;switch(r.type){case"firstParty":return new o$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D1.get(n);r&&(Y("ComponentProvider","Removing Datastore"),D1.delete(n),r.terminate())}(this),Promise.resolve()}}function YB(t,e,n,r={}){var c;t=ns(t,mm);const s=Ai(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(lw(`https://${a}`),cw("Firestore",!0)),i.host!==fP&&i.host!==a&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!us(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Dt.MOCK_USER;else{h=t3(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Q($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Dt(m)}t._authCredentials=new r$(new XA(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,nt._jsonSchema))return new nt(e,r||null,new se(Oe.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:ot("string",nt._jsonSchemaVersion),referencePath:ot("string")};class hi extends Mo{constructor(e,n,r){super(e,n,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new se(e))}withConverter(e){return new hi(this.firestore,e,this._path)}}function O1(t,e,...n){if(t=lt(t),JA("collection","path",e),t instanceof mm){const r=Oe.fromString(e,...n);return KE(r),new hi(t,null,r)}{if(!(t instanceof nt||t instanceof hi))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return KE(r),new hi(t.firestore,null,r)}}function wn(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Cw.newId()),JA("doc","path",e),t instanceof mm){const r=Oe.fromString(e,...n);return GE(r),new nt(t,null,new se(r))}{if(!(t instanceof nt||t instanceof hi))throw new Q($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return GE(r),new nt(t.firestore,t instanceof hi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="AsyncQueue";class V1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WN(this,"async_queue_retry"),this._c=()=>{const r=zp();r&&Y(L1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new di;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;Y(L1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",F1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ww.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&oe(47125,{Pc:F1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function F1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Xa extends mm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new V1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V1(e),this._firestoreClient=void 0,await e}}}function XB(t,e){const n=typeof t=="object"?t:Qf(),r=typeof t=="string"?t:Gh,s=Ni(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=DC("firestore");i&&YB(s,...i)}return s}function Yw(t){if(t._terminated)throw new Q($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JB(t),t._firestoreClient}function JB(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,h){return new I$(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new HB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Ct.fromBase64String(e))}catch(n){throw new Q($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:ot("string",kn._jsonSchemaVersion),bytes:ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:ot("string",jr._jsonSchemaVersion),latitude:ot("number"),longitude:ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Or(e.vectorValues);throw new Q($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:ot("string",Or._jsonSchemaVersion),vectorValues:ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=/^__.*__$/;class e8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function mP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ac:t})}}class pm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mP(this.Ac)&&ZB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}Cc(e,n,r,s=!1){return new pm({Ac:e,methodName:n,Dc:r,path:It.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zw(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new t8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pP(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);vP("Data must be an object, but it was:",o,r);const a=gP(r,o);let l,c;if(i.merge)l=new tr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=s8(e,f,n);if(!o.contains(m))throw new Q($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);o8(h,m)||h.push(m)}l=new tr(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new e8(new Rn(a),l,c)}function n8(t,e,n){return new pm({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class e0 extends Jw{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=n8(this,e,!0),r=this.vc.map(i=>gm(i,n)),s=new Ka(r);return new K$(e.path,s)}isEqual(e){return e instanceof e0&&us(this.vc,e.vc)}}function r8(t,e,n,r=!1){return gm(n,t.Cc(r?4:3,e))}function gm(t,e){if(yP(t=lt(t)))return vP("Unsupported field value:",e,t),gP(t,e);if(t instanceof Jw)return function(r,s){if(!mP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=gm(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return W$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ce.fromDate(r);return{timestampValue:Jh(s.serializer,i)}}if(r instanceof Ce){const i=new Ce(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jh(s.serializer,i)}}if(r instanceof jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:MN(s.serializer,r._byteString)};if(r instanceof nt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ow(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Or)return function(o,a){return{mapValue:{fields:{[aN]:{stringValue:cN},[Kh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Dw(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${tm(r)}`)}(t,e)}function gP(t,e){const n={};return tN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Po(t,(r,s)=>{const i=gm(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof jr||t instanceof kn||t instanceof nt||t instanceof Jw||t instanceof Or)}function vP(t,e,n){if(!yP(n)||!ZA(n)){const r=tm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function s8(t,e,n){if((e=lt(e))instanceof Xw)return e._internalPath;if(typeof e=="string")return wP(t,e);throw nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const i8=new RegExp("[~\\*/\\[\\]]");function wP(t,e,n){if(e.search(i8)>=0)throw nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xw(...e.split("."))._internalPath}catch{throw nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q($.INVALID_ARGUMENT,a+t+l)}function o8(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ym("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a8 extends xP{data(){return super.data()}}function ym(t,e){return typeof e=="string"?wP(t,e):e instanceof Xw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t0{}class _P extends t0{}function c8(t,e,...n){let r=[];e instanceof t0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof n0).length,a=i.filter(l=>l instanceof vm).length;if(o>1||o>0&&a>0)throw new Q($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class vm extends _P{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new vm(e,n,r)}_apply(e){const n=this._parse(e);return EP(e._query,n),new Mo(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=Zw(e.firestore);return function(i,o,a,l,c,h,f){let m;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){z1(f,h);const I=[];for(const v of f)I.push($1(l,i,v));m={arrayValue:{values:I}}}else m=$1(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||z1(f,h),m=r8(a,o,f,h==="in"||h==="not-in");return it.create(c,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function u8(t,e,n){const r=e,s=ym("where",t);return vm._create(s,r,n)}class n0 extends t0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)EP(o,l),o=Cy(o,l)}(e._query,n),new Mo(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class r0 extends _P{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new r0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(i,o)}(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new wl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function d8(t,e="asc"){const n=e,r=ym("orderBy",t);return r0._create(r,n)}function $1(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new Q($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yN(e)&&n.indexOf("/")!==-1)throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!se.isDocumentKey(r))throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return n1(t,new se(r))}if(n instanceof nt)return n1(t,n._key);throw new Q($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function z1(t,e){if(!Array.isArray(t)||t.length===0)throw new Q($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h8{convertValue(e,n="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Po(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Kh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>et(o.doubleValue));return new Or(n)}convertGeoPoint(e){return new jr(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=xi(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Ae(UN(r),9688,{name:e});const s=new tu(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||fs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ao extends xP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ao._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:ot("string",ao._jsonSchemaVersion),bundleSource:ot("string","DocumentSnapshot"),bundleName:ot("string"),bundle:ot("string")};class eh extends ao{data(e={}){return super.data(e)}}class Ea{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new sc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new eh(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new eh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new sc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:f8(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function f8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){t=ns(t,nt);const e=ns(t.firestore,Xa);return QB(Yw(e),t._key).then(n=>SP(e,t,n))}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:ot("string",Ea._jsonSchemaVersion),bundleSource:ot("string","QuerySnapshot"),bundleName:ot("string"),bundle:ot("string")};class TP extends h8{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function lo(t,e,n){t=ns(t,nt);const r=ns(t.firestore,Xa),s=IP(t.converter,e,n);return bP(r,[pP(Zw(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Dr.none())])}function m8(t,e){const n=ns(t.firestore,Xa),r=wn(t),s=IP(t.converter,e);return bP(n,[pP(Zw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function p8(t,...e){var l,c,h;t=lt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||U1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(U1(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof nt)o=ns(t.firestore,Xa),a=im(t._key.path),i={next:f=>{e[r]&&e[r](SP(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=ns(t,Mo);o=ns(f.firestore,Xa),a=f._query;const m=new TP(o);i={next:p=>{e[r]&&e[r](new Ea(o,m,f,p))},error:e[r+1],complete:e[r+2]},l8(t._query)}return function(m,p,I,v){const x=new uP(v),_=new tP(p,x,I);return m.asyncQueue.enqueueAndForget(async()=>ZN(await Vy(m),_)),()=>{x.Nu(),m.asyncQueue.enqueueAndForget(async()=>eP(await Vy(m),_))}}(Yw(o),a,s,i)}function bP(t,e){return function(r,s){const i=new di;return r.asyncQueue.enqueueAndForget(async()=>LB(await KB(r),s,i)),i.promise}(Yw(t),e)}function SP(t,e,n){const r=n.docs.get(e._key),s=new TP(t);return new ao(t,s,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}function g8(...t){return new e0("arrayUnion",t)}(function(e,n=!0){(function(s){gl=s})(ml),lr(new Un("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Xa(new s$(r.getProvider("auth-internal")),new a$(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Q($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(c.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),nn(BE,qE,e),nn(BE,qE,"esm2020")})();const y8={apiKey:"AIzaSyAI7ULhcG0UTa77-bBEybNOWlulq-V7dDU",authDomain:"bill-split-ebb76.firebaseapp.com",projectId:"bill-split-ebb76",storageBucket:"bill-split-ebb76.firebasestorage.app",messagingSenderId:"592503616573",appId:"1:592503616573:web:1474ae7ee6a2ce5fc32654"},wm=zC(y8),qp=AU(wm),sn=XB(wm);typeof window<"u"&&J9(wm);const CP=new Qr;CP.setCustomParameters({prompt:"select_account"});const AP=y.createContext(void 0),zn=()=>{const t=y.useContext(AP);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},v8=({children:t})=>{const[e,n]=MU(qp),{toast:r}=cn(),o={user:e,loading:n,signInWithGoogle:async()=>{try{await L5(qp,CP),r({title:"Welcome!",description:"Successfully signed in with Google."})}catch(a){console.error("Error signing in with Google:",a),r({title:"Sign in failed",description:a.message||"Could not sign in with Google. Please try again.",variant:"destructive"})}},signOut:async()=>{try{await y5(qp),r({title:"Signed out",description:"You have been signed out successfully."})}catch(a){console.error("Error signing out:",a),r({title:"Sign out failed",description:a.message||"Could not sign out. Please try again.",variant:"destructive"})}}};return u.jsx(AP.Provider,{value:o,children:t})},w8=Lf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?fj:"button";return u.jsx(o,{className:le(w8({variant:e,size:n,className:t})),ref:i,...s})});J.displayName="Button";var NP={exports:{}},PP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=y;function x8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _8=typeof Object.is=="function"?Object.is:x8,E8=Ja.useState,I8=Ja.useEffect,T8=Ja.useLayoutEffect,b8=Ja.useDebugValue;function S8(t,e){var n=e(),r=E8({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return T8(function(){s.value=n,s.getSnapshot=e,Wp(s)&&i({inst:s})},[t,n,e]),I8(function(){return Wp(s)&&i({inst:s}),t(function(){Wp(s)&&i({inst:s})})},[t]),b8(n),n}function Wp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_8(t,n)}catch{return!0}}function C8(t,e){return e()}var A8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C8:S8;PP.useSyncExternalStore=Ja.useSyncExternalStore!==void 0?Ja.useSyncExternalStore:A8;NP.exports=PP;var N8=NP.exports;function P8(){return N8.useSyncExternalStore(R8,()=>!0,()=>!1)}function R8(){return()=>{}}var s0="Avatar",[k8,$K]=ur(s0),[D8,RP]=k8(s0),kP=y.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=y.useState("idle");return u.jsx(D8,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:u.jsx(ve.span,{...r,ref:e})})});kP.displayName=s0;var DP="AvatarImage",MP=y.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=RP(DP,n),a=M8(r,i),l=ln(c=>{s(c),o.onImageLoadingStatusChange(c)});return Fn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(ve.img,{...i,ref:e,src:r}):null});MP.displayName=DP;var jP="AvatarFallback",OP=y.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=RP(jP,n),[o,a]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?u.jsx(ve.span,{...s,ref:e}):null});OP.displayName=jP;function B1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function M8(t,{referrerPolicy:e,crossOrigin:n}){const r=P8(),s=y.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[o,a]=y.useState(()=>B1(i,t));return Fn(()=>{a(B1(i,t))},[i,t]),Fn(()=>{const l=f=>()=>{a(f)};if(!i)return;const c=l("loaded"),h=l("error");return i.addEventListener("load",c),i.addEventListener("error",h),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",h)}},[i,n,e]),o}var LP=kP,VP=MP,FP=OP;const UP=y.forwardRef(({className:t,...e},n)=>u.jsx(LP,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));UP.displayName=LP.displayName;const $P=y.forwardRef(({className:t,...e},n)=>u.jsx(VP,{ref:n,className:le("aspect-square h-full w-full",t),...e}));$P.displayName=VP.displayName;const zP=y.forwardRef(({className:t,...e},n)=>u.jsx(FP,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));zP.displayName=FP.displayName;var j8=y.createContext(void 0);function i0(t){const e=y.useContext(j8);return t||e||"ltr"}var Hp=0;function o0(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??q1()),document.body.insertAdjacentElement("beforeend",t[1]??q1()),Hp++,()=>{Hp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hp--}},[])}function q1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gp="focusScope.autoFocusOnMount",Kp="focusScope.autoFocusOnUnmount",W1={bubbles:!1,cancelable:!0},O8="FocusScope",xm=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=y.useState(null),c=ln(s),h=ln(i),f=y.useRef(null),m=Ke(e,v=>l(v)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(b){if(p.paused||!a)return;const P=b.target;a.contains(P)?f.current=P:js(f.current,{select:!0})},x=function(b){if(p.paused||!a)return;const P=b.relatedTarget;P!==null&&(a.contains(P)||js(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const D of b)D.removedNodes.length>0&&js(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const E=new MutationObserver(_);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),E.disconnect()}}},[r,a,p.paused]),y.useEffect(()=>{if(a){G1.add(p);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Gp,W1);a.addEventListener(Gp,c),a.dispatchEvent(_),_.defaultPrevented||(L8(z8(BP(a)),{select:!0}),document.activeElement===v&&js(a))}return()=>{a.removeEventListener(Gp,c),setTimeout(()=>{const _=new CustomEvent(Kp,W1);a.addEventListener(Kp,h),a.dispatchEvent(_),_.defaultPrevented||js(v??document.body,{select:!0}),a.removeEventListener(Kp,h),G1.remove(p)},0)}}},[a,c,h,p]);const I=y.useCallback(v=>{if(!n&&!r||p.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(x&&_){const E=v.currentTarget,[b,P]=V8(E);b&&P?!v.shiftKey&&_===P?(v.preventDefault(),n&&js(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&js(P,{select:!0})):_===E&&v.preventDefault()}},[n,r,p.paused]);return u.jsx(ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:I})});xm.displayName=O8;function L8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(js(r,{select:e}),document.activeElement!==n)return}function V8(t){const e=BP(t),n=H1(e,t),r=H1(e.reverse(),t);return[n,r]}function BP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function H1(t,e){for(const n of t)if(!F8(n,{upTo:e}))return n}function F8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U8(t){return t instanceof HTMLInputElement&&"select"in t}function js(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U8(t)&&e&&t.select()}}var G1=$8();function $8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=K1(t,e),t.unshift(e)},remove(e){var n;t=K1(t,e),(n=t[0])==null||n.resume()}}}function K1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function z8(t){return t.filter(e=>e.tagName!=="A")}var Qp="rovingFocusGroup.onEntryFocus",B8={bubbles:!1,cancelable:!0},Pu="RovingFocusGroup",[Fy,qP,q8]=Uv(Pu),[W8,_m]=ur(Pu,[q8]),[H8,G8]=W8(Pu),WP=y.forwardRef((t,e)=>u.jsx(Fy.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Fy.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(K8,{...t,ref:e})})}));WP.displayName=Pu;var K8=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,m=y.useRef(null),p=Ke(e,m),I=i0(i),[v,x]=ol({prop:o,defaultProp:a??null,onChange:l,caller:Pu}),[_,E]=y.useState(!1),b=ln(c),P=qP(n),D=y.useRef(!1),[j,S]=y.useState(0);return y.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Qp,b),()=>T.removeEventListener(Qp,b)},[b]),u.jsx(H8,{scope:n,orientation:r,dir:I,loop:s,currentTabStopId:v,onItemFocus:y.useCallback(T=>x(T),[x]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:y.useCallback(()=>S(T=>T-1),[]),children:u.jsx(ve.div,{tabIndex:_||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{D.current=!0}),onFocus:ee(t.onFocus,T=>{const C=!D.current;if(T.target===T.currentTarget&&C&&!_){const A=new CustomEvent(Qp,B8);if(T.currentTarget.dispatchEvent(A),!A.defaultPrevented){const k=P().filter(H=>H.focusable),M=k.find(H=>H.active),R=k.find(H=>H.id===v),re=[M,R,...k].filter(Boolean).map(H=>H.ref.current);KP(re,h)}}D.current=!1}),onBlur:ee(t.onBlur,()=>E(!1))})})}),HP="RovingFocusGroupItem",GP=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=oi(),c=i||l,h=G8(HP,n),f=h.currentTabStopId===c,m=qP(n),{onFocusableItemAdd:p,onFocusableItemRemove:I,currentTabStopId:v}=h;return y.useEffect(()=>{if(r)return p(),()=>I()},[r,p,I]),u.jsx(Fy.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:ee(t.onMouseDown,x=>{r?h.onItemFocus(c):x.preventDefault()}),onFocus:ee(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:ee(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const _=X8(x,h.orientation,h.dir);if(_!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=m().filter(P=>P.focusable).map(P=>P.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const P=b.indexOf(x.currentTarget);b=h.loop?J8(b,P+1):b.slice(P+1)}setTimeout(()=>KP(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});GP.displayName=HP;var Q8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function X8(t,e,n){const r=Y8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Q8[r]}function KP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function J8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var QP=WP,YP=GP,Z8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Bo=new WeakMap,bd=new WeakMap,Sd={},Yp=0,XP=function(t){return t&&(t.host||XP(t.parentNode))},e7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=XP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},t7=function(t,e,n,r){var s=e7(e,Array.isArray(t)?t:[t]);Sd[n]||(Sd[n]=new WeakMap);var i=Sd[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var p=m.getAttribute(r),I=p!==null&&p!=="false",v=(Bo.get(m)||0)+1,x=(i.get(m)||0)+1;Bo.set(m,v),i.set(m,x),o.push(m),v===1&&I&&bd.set(m,!0),x===1&&m.setAttribute(n,"true"),I||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),a.clear(),Yp++,function(){o.forEach(function(f){var m=Bo.get(f)-1,p=i.get(f)-1;Bo.set(f,m),i.set(f,p),m||(bd.has(f)||f.removeAttribute(r),bd.delete(f)),p||f.removeAttribute(n)}),Yp--,Yp||(Bo=new WeakMap,Bo=new WeakMap,bd=new WeakMap,Sd={})}},a0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Z8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),t7(r,s,n,"aria-hidden")):function(){return null}},Sr=function(){return Sr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function JP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function n7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var th="right-scroll-bar-position",nh="width-before-scroll-bar",r7="with-scroll-bars-hidden",s7="--removed-body-scroll-bar-size";function Xp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function i7(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var o7=typeof window<"u"?y.useLayoutEffect:y.useEffect,Q1=new WeakMap;function a7(t,e){var n=i7(null,function(r){return t.forEach(function(s){return Xp(s,r)})});return o7(function(){var r=Q1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Xp(a,null)}),i.forEach(function(a){s.has(a)||Xp(a,o)})}Q1.set(n,t)},[t]),n}function l7(t){return t}function c7(t,e){e===void 0&&(e=l7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function u7(t){t===void 0&&(t={});var e=c7(null);return e.options=Sr({async:!0,ssr:!1},t),e}var ZP=function(t){var e=t.sideCar,n=JP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,Sr({},n))};ZP.isSideCarExport=!0;function d7(t,e){return t.useMedium(e),ZP}var eR=u7(),Jp=function(){},Em=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Jp,onWheelCapture:Jp,onTouchMoveCapture:Jp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,I=t.noIsolation,v=t.inert,x=t.allowPinchZoom,_=t.as,E=_===void 0?"div":_,b=t.gapMode,P=JP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,j=a7([n,e]),S=Sr(Sr({},P),s);return y.createElement(y.Fragment,null,h&&y.createElement(D,{sideCar:eR,removeScrollBar:c,shards:f,noRelative:p,noIsolation:I,inert:v,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?y.cloneElement(y.Children.only(a),Sr(Sr({},S),{ref:j})):y.createElement(E,Sr({},S,{className:l,ref:j}),a))});Em.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Em.classNames={fullWidth:nh,zeroRight:th};var h7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=h7();return e&&t.setAttribute("nonce",e),t}function m7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function p7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var g7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=f7())&&(m7(e,n),p7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y7=function(){var t=g7();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},tR=function(){var t=y7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},v7={left:0,top:0,right:0,gap:0},Zp=function(t){return parseInt(t||"",10)||0},w7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Zp(n),Zp(r),Zp(s)]},x7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return v7;var e=w7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_7=tR(),Ia="data-scroll-locked",E7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(r7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ia,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(th,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(th," .").concat(th,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nh," .").concat(nh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ia,`] {
    `).concat(s7,": ").concat(a,`px;
  }
`)},Y1=function(){var t=parseInt(document.body.getAttribute(Ia)||"0",10);return isFinite(t)?t:0},I7=function(){y.useEffect(function(){return document.body.setAttribute(Ia,(Y1()+1).toString()),function(){var t=Y1()-1;t<=0?document.body.removeAttribute(Ia):document.body.setAttribute(Ia,t.toString())}},[])},T7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;I7();var i=y.useMemo(function(){return x7(s)},[s]);return y.createElement(_7,{styles:E7(i,!e,s,n?"":"!important")})},Uy=!1;if(typeof window<"u")try{var Cd=Object.defineProperty({},"passive",{get:function(){return Uy=!0,!0}});window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{Uy=!1}var qo=Uy?{passive:!1}:!1,b7=function(t){return t.tagName==="TEXTAREA"},nR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!b7(t)&&n[e]==="visible")},S7=function(t){return nR(t,"overflowY")},C7=function(t){return nR(t,"overflowX")},X1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=rR(t,r);if(s){var i=sR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},A7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},N7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},rR=function(t,e){return t==="v"?S7(e):C7(e)},sR=function(t,e){return t==="v"?A7(e):N7(e)},P7=function(t,e){return t==="h"&&e==="rtl"?-1:1},R7=function(t,e,n,r,s){var i=P7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,h=o>0,f=0,m=0;do{if(!a)break;var p=sR(t,a),I=p[0],v=p[1],x=p[2],_=v-x-i*I;(I||_)&&rR(t,a)&&(f+=_,m+=I);var E=a.parentNode;a=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(c=!0),c},Ad=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J1=function(t){return[t.deltaX,t.deltaY]},Z1=function(t){return t&&"current"in t?t.current:t},k7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},D7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},M7=0,Wo=[];function j7(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(M7++)[0],i=y.useState(tR)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=n7([t.lockRef.current],(t.shards||[]).map(Z1),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Ad(v),E=n.current,b="deltaX"in v?v.deltaX:E[0]-_[0],P="deltaY"in v?v.deltaY:E[1]-_[1],D,j=v.target,S=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&S==="h"&&j.type==="range")return!1;var T=X1(S,j);if(!T)return!0;if(T?D=S:(D=S==="v"?"h":"v",T=X1(S,j)),!T)return!1;if(!r.current&&"changedTouches"in v&&(b||P)&&(r.current=D),!D)return!0;var C=r.current||D;return R7(C,x,v,C==="h"?b:P,!0)},[]),l=y.useCallback(function(v){var x=v;if(!(!Wo.length||Wo[Wo.length-1]!==i)){var _="deltaY"in x?J1(x):Ad(x),E=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&k7(D.delta,_)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var b=(o.current.shards||[]).map(Z1).filter(Boolean).filter(function(D){return D.contains(x.target)}),P=b.length>0?a(x,b[0]):!o.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),c=y.useCallback(function(v,x,_,E){var b={name:v,delta:x,target:_,should:E,shadowParent:O7(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),h=y.useCallback(function(v){n.current=Ad(v),r.current=void 0},[]),f=y.useCallback(function(v){c(v.type,J1(v),v.target,a(v,t.lockRef.current))},[]),m=y.useCallback(function(v){c(v.type,Ad(v),v.target,a(v,t.lockRef.current))},[]);y.useEffect(function(){return Wo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,qo),document.addEventListener("touchmove",l,qo),document.addEventListener("touchstart",h,qo),function(){Wo=Wo.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,qo),document.removeEventListener("touchmove",l,qo),document.removeEventListener("touchstart",h,qo)}},[]);var p=t.removeScrollBar,I=t.inert;return y.createElement(y.Fragment,null,I?y.createElement(i,{styles:D7(s)}):null,p?y.createElement(T7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function O7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const L7=d7(eR,j7);var Im=y.forwardRef(function(t,e){return y.createElement(Em,Sr({},t,{ref:e,sideCar:L7}))});Im.classNames=Em.classNames;var $y=["Enter"," "],V7=["ArrowDown","PageUp","Home"],iR=["ArrowUp","PageDown","End"],F7=[...V7,...iR],U7={ltr:[...$y,"ArrowRight"],rtl:[...$y,"ArrowLeft"]},$7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ru="Menu",[iu,z7,B7]=Uv(Ru),[jo,oR]=ur(Ru,[B7,dl,_m]),Tm=dl(),aR=_m(),[q7,Oo]=jo(Ru),[W7,ku]=jo(Ru),lR=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Tm(e),[l,c]=y.useState(null),h=y.useRef(!1),f=ln(i),m=i0(s);return y.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),u.jsx(tC,{...a,children:u.jsx(q7,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:u.jsx(W7,{scope:e,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};lR.displayName=Ru;var H7="MenuAnchor",l0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Tm(n);return u.jsx($f,{...s,...r,ref:e})});l0.displayName=H7;var c0="MenuPortal",[G7,cR]=jo(c0,{forceMount:void 0}),uR=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Oo(c0,e);return u.jsx(G7,{scope:e,forceMount:n,children:u.jsx(In,{present:n||i.open,children:u.jsx(gu,{asChild:!0,container:s,children:r})})})};uR.displayName=c0;var jn="MenuContent",[K7,u0]=jo(jn),dR=y.forwardRef((t,e)=>{const n=cR(jn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Oo(jn,t.__scopeMenu),o=ku(jn,t.__scopeMenu);return u.jsx(iu.Provider,{scope:t.__scopeMenu,children:u.jsx(In,{present:r||i.open,children:u.jsx(iu.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(Q7,{...s,ref:e}):u.jsx(Y7,{...s,ref:e})})})})}),Q7=y.forwardRef((t,e)=>{const n=Oo(jn,t.__scopeMenu),r=y.useRef(null),s=Ke(e,r);return y.useEffect(()=>{const i=r.current;if(i)return a0(i)},[]),u.jsx(d0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Y7=y.forwardRef((t,e)=>{const n=Oo(jn,t.__scopeMenu);return u.jsx(d0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),X7=po("MenuContent.ScrollLock"),d0=y.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:I,...v}=t,x=Oo(jn,n),_=ku(jn,n),E=Tm(n),b=aR(n),P=z7(n),[D,j]=y.useState(null),S=y.useRef(null),T=Ke(e,S,x.onContentChange),C=y.useRef(0),A=y.useRef(""),k=y.useRef(0),M=y.useRef(null),R=y.useRef("right"),B=y.useRef(0),re=I?Im:y.Fragment,H=I?{as:X7,allowPinchZoom:!0}:void 0,te=L=>{var me,un;const G=A.current+L,ne=P().filter(Ze=>!Ze.disabled),Z=document.activeElement,de=(me=ne.find(Ze=>Ze.ref.current===Z))==null?void 0:me.textValue,ce=ne.map(Ze=>Ze.textValue),ke=cq(ce,G,de),Me=(un=ne.find(Ze=>Ze.textValue===ke))==null?void 0:un.ref.current;(function Ze(Tn){A.current=Tn,window.clearTimeout(C.current),Tn!==""&&(C.current=window.setTimeout(()=>Ze(""),1e3))})(G),Me&&setTimeout(()=>Me.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),o0();const F=y.useCallback(L=>{var ne,Z;return R.current===((ne=M.current)==null?void 0:ne.side)&&dq(L,(Z=M.current)==null?void 0:Z.area)},[]);return u.jsx(K7,{scope:n,searchRef:A,onItemEnter:y.useCallback(L=>{F(L)&&L.preventDefault()},[F]),onItemLeave:y.useCallback(L=>{var G;F(L)||((G=S.current)==null||G.focus(),j(null))},[F]),onTriggerLeave:y.useCallback(L=>{F(L)&&L.preventDefault()},[F]),pointerGraceTimerRef:k,onPointerGraceIntentChange:y.useCallback(L=>{M.current=L},[]),children:u.jsx(re,{...H,children:u.jsx(xm,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,L=>{var G;L.preventDefault(),(G=S.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(il,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:u.jsx(QP,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:j,onEntryFocus:ee(l,L=>{_.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(tw,{role:"menu","aria-orientation":"vertical","data-state":CR(x.open),"data-radix-menu-content":"",dir:_.dir,...E,...v,ref:T,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,L=>{const ne=L.target.closest("[data-radix-menu-content]")===L.currentTarget,Z=L.ctrlKey||L.altKey||L.metaKey,de=L.key.length===1;ne&&(L.key==="Tab"&&L.preventDefault(),!Z&&de&&te(L.key));const ce=S.current;if(L.target!==ce||!F7.includes(L.key))return;L.preventDefault();const Me=P().filter(me=>!me.disabled).map(me=>me.ref.current);iR.includes(L.key)&&Me.reverse(),aq(Me)}),onBlur:ee(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:ee(t.onPointerMove,ou(L=>{const G=L.target,ne=B.current!==L.clientX;if(L.currentTarget.contains(G)&&ne){const Z=L.clientX>B.current?"right":"left";R.current=Z,B.current=L.clientX}}))})})})})})})});dR.displayName=jn;var J7="MenuGroup",h0=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ve.div,{role:"group",...r,ref:e})});h0.displayName=J7;var Z7="MenuLabel",hR=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ve.div,{...r,ref:e})});hR.displayName=Z7;var rf="MenuItem",eI="menu.itemSelect",bm=y.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=y.useRef(null),o=ku(rf,t.__scopeMenu),a=u0(rf,t.__scopeMenu),l=Ke(e,i),c=y.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(eI,{bubbles:!0,cancelable:!0});f.addEventListener(eI,p=>r==null?void 0:r(p),{once:!0}),$v(f,m),m.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(fR,{...s,ref:l,disabled:n,onClick:ee(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),c.current=!0},onPointerUp:ee(t.onPointerUp,f=>{var m;c.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ee(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||$y.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});bm.displayName=rf;var fR=y.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=u0(rf,n),a=aR(n),l=y.useRef(null),c=Ke(e,l),[h,f]=y.useState(!1),[m,p]=y.useState("");return y.useEffect(()=>{const I=l.current;I&&p((I.textContent??"").trim())},[i.children]),u.jsx(iu.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:u.jsx(YP,{asChild:!0,...a,focusable:!r,children:u.jsx(ve.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:ee(t.onPointerMove,ou(I=>{r?o.onItemLeave(I):(o.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,ou(I=>o.onItemLeave(I))),onFocus:ee(t.onFocus,()=>f(!0)),onBlur:ee(t.onBlur,()=>f(!1))})})})}),eq="MenuCheckboxItem",mR=y.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(wR,{scope:t.__scopeMenu,checked:n,children:u.jsx(bm,{role:"menuitemcheckbox","aria-checked":sf(n)?"mixed":n,...s,ref:e,"data-state":m0(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(sf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mR.displayName=eq;var pR="MenuRadioGroup",[tq,nq]=jo(pR,{value:void 0,onValueChange:()=>{}}),gR=y.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=ln(r);return u.jsx(tq,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(h0,{...s,ref:e})})});gR.displayName=pR;var yR="MenuRadioItem",vR=y.forwardRef((t,e)=>{const{value:n,...r}=t,s=nq(yR,t.__scopeMenu),i=n===s.value;return u.jsx(wR,{scope:t.__scopeMenu,checked:i,children:u.jsx(bm,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":m0(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});vR.displayName=yR;var f0="MenuItemIndicator",[wR,rq]=jo(f0,{checked:!1}),xR=y.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=rq(f0,n);return u.jsx(In,{present:r||sf(i.checked)||i.checked===!0,children:u.jsx(ve.span,{...s,ref:e,"data-state":m0(i.checked)})})});xR.displayName=f0;var sq="MenuSeparator",_R=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});_R.displayName=sq;var iq="MenuArrow",ER=y.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Tm(n);return u.jsx(nw,{...s,...r,ref:e})});ER.displayName=iq;var oq="MenuSub",[zK,IR]=jo(oq),ic="MenuSubTrigger",TR=y.forwardRef((t,e)=>{const n=Oo(ic,t.__scopeMenu),r=ku(ic,t.__scopeMenu),s=IR(ic,t.__scopeMenu),i=u0(ic,t.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},h=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>h,[h]),y.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(l0,{asChild:!0,...c,children:u.jsx(fR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":CR(n.open),...t,ref:Mf(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,ou(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ee(t.onPointerLeave,ou(f=>{var p,I;h();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(I=n.content)==null?void 0:I.dataset.side,x=v==="right",_=x?-5:5,E=m[x?"left":"right"],b=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:E,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:E,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||U7[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});TR.displayName=ic;var bR="MenuSubContent",SR=y.forwardRef((t,e)=>{const n=cR(jn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Oo(jn,t.__scopeMenu),o=ku(jn,t.__scopeMenu),a=IR(bR,t.__scopeMenu),l=y.useRef(null),c=Ke(e,l);return u.jsx(iu.Provider,{scope:t.__scopeMenu,children:u.jsx(In,{present:r||i.open,children:u.jsx(iu.Slot,{scope:t.__scopeMenu,children:u.jsx(d0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),m=$7[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),h.preventDefault())})})})})})});SR.displayName=bR;function CR(t){return t?"open":"closed"}function sf(t){return t==="indeterminate"}function m0(t){return sf(t)?"indeterminate":t?"checked":"unchecked"}function aq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function lq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function cq(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=lq(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function uq(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-c)*(r-h)/(m-h)+c&&(s=!s)}return s}function dq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return uq(n,e)}function ou(t){return e=>e.pointerType==="mouse"?t(e):void 0}var hq=lR,fq=l0,mq=uR,pq=dR,gq=h0,yq=hR,vq=bm,wq=mR,xq=gR,_q=vR,Eq=xR,Iq=_R,Tq=ER,bq=TR,Sq=SR,Sm="DropdownMenu",[Cq,BK]=ur(Sm,[oR]),Wt=oR(),[Aq,AR]=Cq(Sm),NR=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=Wt(e),c=y.useRef(null),[h,f]=ol({prop:s,defaultProp:i??!1,onChange:o,caller:Sm});return u.jsx(Aq,{scope:e,triggerId:oi(),triggerRef:c,contentId:oi(),open:h,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:a,children:u.jsx(hq,{...l,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};NR.displayName=Sm;var PR="DropdownMenuTrigger",RR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=AR(PR,n),o=Wt(n);return u.jsx(fq,{asChild:!0,...o,children:u.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Mf(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});RR.displayName=PR;var Nq="DropdownMenuPortal",kR=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Wt(e);return u.jsx(mq,{...r,...n})};kR.displayName=Nq;var DR="DropdownMenuContent",MR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=AR(DR,n),i=Wt(n),o=y.useRef(!1);return u.jsx(pq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MR.displayName=DR;var Pq="DropdownMenuGroup",Rq=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(gq,{...s,...r,ref:e})});Rq.displayName=Pq;var kq="DropdownMenuLabel",jR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(yq,{...s,...r,ref:e})});jR.displayName=kq;var Dq="DropdownMenuItem",OR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(vq,{...s,...r,ref:e})});OR.displayName=Dq;var Mq="DropdownMenuCheckboxItem",LR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(wq,{...s,...r,ref:e})});LR.displayName=Mq;var jq="DropdownMenuRadioGroup",Oq=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(xq,{...s,...r,ref:e})});Oq.displayName=jq;var Lq="DropdownMenuRadioItem",VR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(_q,{...s,...r,ref:e})});VR.displayName=Lq;var Vq="DropdownMenuItemIndicator",FR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(Eq,{...s,...r,ref:e})});FR.displayName=Vq;var Fq="DropdownMenuSeparator",UR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(Iq,{...s,...r,ref:e})});UR.displayName=Fq;var Uq="DropdownMenuArrow",$q=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(Tq,{...s,...r,ref:e})});$q.displayName=Uq;var zq="DropdownMenuSubTrigger",$R=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(bq,{...s,...r,ref:e})});$R.displayName=zq;var Bq="DropdownMenuSubContent",zR=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=Wt(n);return u.jsx(Sq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zR.displayName=Bq;var qq=NR,Wq=RR,Hq=kR,BR=MR,qR=jR,WR=OR,HR=LR,GR=VR,KR=FR,QR=UR,YR=$R,XR=zR;const Gq=qq,Kq=Wq,Qq=y.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs(YR,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(cO,{className:"ml-auto h-4 w-4"})]}));Qq.displayName=YR.displayName;const Yq=y.forwardRef(({className:t,...e},n)=>u.jsx(XR,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Yq.displayName=XR.displayName;const JR=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Hq,{children:u.jsx(BR,{ref:r,sideOffset:e,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));JR.displayName=BR.displayName;const oc=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(WR,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));oc.displayName=WR.displayName;const Xq=y.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(HR,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(KR,{children:u.jsx(pi,{className:"h-4 w-4"})})}),e]}));Xq.displayName=HR.displayName;const Jq=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(GR,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(KR,{children:u.jsx(uO,{className:"h-2 w-2 fill-current"})})}),e]}));Jq.displayName=GR.displayName;const ZR=y.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(qR,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ZR.displayName=qR.displayName;const e2=y.forwardRef(({className:t,...e},n)=>u.jsx(QR,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",t),...e}));e2.displayName=QR.displayName;var Cm="Dialog",[t2,qK]=ur(Cm),[Zq,dr]=t2(Cm),n2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),l=y.useRef(null),[c,h]=ol({prop:r,defaultProp:s??!1,onChange:i,caller:Cm});return u.jsx(Zq,{scope:e,triggerRef:a,contentRef:l,contentId:oi(),titleId:oi(),descriptionId:oi(),open:c,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};n2.displayName=Cm;var r2="DialogTrigger",eW=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(r2,n),i=Ke(e,s.triggerRef);return u.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":y0(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});eW.displayName=r2;var p0="DialogPortal",[tW,s2]=t2(p0,{forceMount:void 0}),i2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=dr(p0,e);return u.jsx(tW,{scope:e,forceMount:n,children:y.Children.map(r,o=>u.jsx(In,{present:n||i.open,children:u.jsx(gu,{asChild:!0,container:s,children:o})}))})};i2.displayName=p0;var of="DialogOverlay",o2=y.forwardRef((t,e)=>{const n=s2(of,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=dr(of,t.__scopeDialog);return i.modal?u.jsx(In,{present:r||i.open,children:u.jsx(rW,{...s,ref:e})}):null});o2.displayName=of;var nW=po("DialogOverlay.RemoveScroll"),rW=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(of,n);return u.jsx(Im,{as:nW,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ve.div,{"data-state":y0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Eo="DialogContent",a2=y.forwardRef((t,e)=>{const n=s2(Eo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=dr(Eo,t.__scopeDialog);return u.jsx(In,{present:r||i.open,children:i.modal?u.jsx(sW,{...s,ref:e}):u.jsx(iW,{...s,ref:e})})});a2.displayName=Eo;var sW=y.forwardRef((t,e)=>{const n=dr(Eo,t.__scopeDialog),r=y.useRef(null),s=Ke(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return a0(i)},[]),u.jsx(l2,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),iW=y.forwardRef((t,e)=>{const n=dr(Eo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(l2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),l2=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=dr(Eo,n),l=y.useRef(null),c=Ke(e,l);return o0(),u.jsxs(u.Fragment,{children:[u.jsx(xm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(il,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":y0(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(oW,{titleId:a.titleId}),u.jsx(lW,{contentRef:l,descriptionId:a.descriptionId})]})]})}),g0="DialogTitle",c2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(g0,n);return u.jsx(ve.h2,{id:s.titleId,...r,ref:e})});c2.displayName=g0;var u2="DialogDescription",d2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(u2,n);return u.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});d2.displayName=u2;var h2="DialogClose",f2=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(h2,n);return u.jsx(ve.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});f2.displayName=h2;function y0(t){return t?"open":"closed"}var m2="DialogTitleWarning",[WK,p2]=dj(m2,{contentName:Eo,titleName:g0,docsSlug:"dialog"}),oW=({titleId:t})=>{const e=p2(m2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aW="DialogDescriptionWarning",lW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${p2(aW).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},cW=n2,uW=i2,g2=o2,y2=a2,v2=c2,w2=d2,dW=f2;const Pi=cW,hW=uW,x2=y.forwardRef(({className:t,...e},n)=>u.jsx(g2,{ref:n,className:le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));x2.displayName=g2.displayName;const ys=y.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(hW,{children:[u.jsx(x2,{}),u.jsxs(y2,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(dW,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(as,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ys.displayName=y2.displayName;const vs=({className:t,...e})=>u.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});vs.displayName="DialogHeader";const v0=({className:t,...e})=>u.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});v0.displayName="DialogFooter";const ws=y.forwardRef(({className:t,...e},n)=>u.jsx(v2,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",t),...e}));ws.displayName=v2.displayName;const Ri=y.forwardRef(({className:t,...e},n)=>u.jsx(w2,{ref:n,className:le("text-sm text-muted-foreground",t),...e}));Ri.displayName=w2.displayName;const Ne=y.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ne.displayName="Input";var fW="Label",_2=y.forwardRef((t,e)=>u.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));_2.displayName=fW;var E2=_2;const mW=Lf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),on=y.forwardRef(({className:t,...e},n)=>u.jsx(E2,{ref:n,className:le(mW(),t),...e}));on.displayName=E2.displayName;function Am(){const{user:t}=zn(),{toast:e}=cn(),[n,r]=y.useState(null),[s,i]=y.useState(!0);y.useEffect(()=>{if(!t){r(null),i(!1);return}o()},[t]);const o=async()=>{if(t)try{const c=wn(sn,"users",t.uid),h=await _l(c);if(h.exists())r(h.data());else{const f={uid:t.uid,email:t.email||"",displayName:t.displayName||""};await lo(c,f),r(f)}}catch(c){console.error("Error loading profile:",c),e({title:"Error loading profile",description:c.message,variant:"destructive"})}finally{i(!1)}};return{profile:n,loading:s,updateVenmoId:async c=>{if(!(!t||!n))try{const h=wn(sn,"users",t.uid),f={...n,venmoId:c};await lo(h,f,{merge:!0}),r(f),e({title:"Venmo ID saved",description:"Your Venmo ID has been updated successfully."})}catch(h){console.error("Error updating Venmo ID:",h),e({title:"Error updating Venmo ID",description:h.message,variant:"destructive"})}},updateFriends:async c=>{if(!(!t||!n))try{const h=wn(sn,"users",t.uid),f={...n,friends:c};await lo(h,f,{merge:!0}),r(f),e({title:"Friends saved",description:"Your friends list has been updated successfully."})}catch(h){console.error("Error updating friends:",h),e({title:"Error updating friends",description:h.message,variant:"destructive"})}}}}function I2(){const{user:t}=zn(),{profile:e,loading:n,updateVenmoId:r}=Am(),[s,i]=y.useState(""),[o,a]=y.useState(!1),[l,c]=y.useState(!1);return y.useEffect(()=>{e!=null&&e.venmoId&&i(e.venmoId)},[e]),{user:t,profile:e,loading:n,venmoId:s,isEditing:o,saving:l,setVenmoId:i,handleSave:async()=>{c(!0),await r(s.trim()),c(!1),a(!1)},handleCancel:()=>{i((e==null?void 0:e.venmoId)||""),a(!1)},startEditing:()=>{a(!0)},setIsEditing:a}}const Ho={AI_POWERED:{title:"AI-Powered",description:"Gemini AI extracts items, tax, and tip automatically"},FAIR_SPLITTING:{title:"Fair Splitting",description:"Assign items to people with proportional tax & tip"},INSTANT_RESULTS:{title:"Instant Results",description:"See who owes what in seconds, no manual math needed"}},ye={PROFILE_SETTINGS:"Profile & Settings",SPLIT_YOUR_BILL:"Split Your Bill Instantly",CREATE_BILL_MANUALLY:"Create Bill Manually",BILL_ITEMS:"Bill Items",SPLIT_SUMMARY:"Split Summary",START_OVER:"Start Over",SAVE_CHANGES:"Save Changes",SAVING:"Saving...",CANCEL:"Cancel",ADD_ITEM:"Add Item",SPLIT_EVENLY:"Split Evenly",EDIT:"Edit",DELETE:"Delete",SAVE:"Save",SIGN_IN:"Sign In",SIGN_IN_REQUIRED:"Sign in required",SIGN_OUT:"Sign out",VENMO_USERNAME:"Venmo Username",VENMO_WITHOUT_AT:"(without @)",VENMO_ID:"Venmo ID",CHARGE_ON_VENMO:"Charge on Venmo",ADD_PEOPLE_TO_ASSIGN:"Add people above to assign items",UPLOAD_RECEIPT_INSTRUCTION:"Upload a photo of your receipt and let AI do the math. Fair splitting with tax and tip included.",MANUAL_BILL_INSTRUCTION:"Add items and people to split the bill fairly. Tax and tip distributed proportionally.",NO_ITEMS_YET:'No items yet. Click "Add Item" to get started.',NO_FRIENDS_YET:"No friends saved yet. Add friends to quickly add them to bills.",NO_SQUADS_YET:"No squads yet. Create a squad to quickly add groups to bills."},qi={ITEM_NAME:"Item Name",ENTER_ITEM_NAME:"Enter item name",PRICE:"Price",PRICE_PLACEHOLDER:"0.00",ASSIGN_TO:"Assign to:"},eg={AI_SCAN:"AI Scan",GROUPS:"Groups",BACK_TO_GROUPS:"Back to Groups"},tI={LOADING_GROUP:"Loading group...",GROUP_NOT_FOUND:"Group not found",LOADING_SQUADS:"Loading squads..."},Yr={NAME_REQUIRED:"Name required",NAME_REQUIRED_DESC:"Please enter a friend's name.",VENMO_ID_REQUIRED:"Venmo ID required",VENMO_ID_REQUIRED_DESC:"Please add your Venmo ID in Profile Settings first.",ASSIGN_ALL_ITEMS:"Please assign all items to see the split summary",SIGN_IN_FOR_VENMO:"Please sign in to charge people on Venmo."},af={PROFILE_UPDATED:"Profile updated",PROFILE_UPDATED_DESC:"Your Venmo ID has been updated successfully.",FRIENDS_UPDATED:"Friends updated",FRIENDS_UPDATED_DESC:"Your friends list has been updated successfully."},w0={PROFILE_SETTINGS:"Update your Venmo ID to enable charging others for their split.",MANAGE_FRIENDS:"Add or remove friends to quickly add them to bills.",MANAGE_SQUADS:"Create and manage groups of people to quickly add them to bills."};function T2({open:t,onOpenChange:e}){const{user:n,profile:r,venmoId:s,saving:i,setVenmoId:o,handleSave:a}=I2(),l=async()=>{await a(),e(!1)};return u.jsx(Pi,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[425px]",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(ES,{className:"w-5 h-5"}),ye.PROFILE_SETTINGS]}),u.jsx(Ri,{children:w0.PROFILE_SETTINGS})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"name",children:"Name"}),u.jsx(Ne,{id:"name",value:(r==null?void 0:r.displayName)||(n==null?void 0:n.displayName)||"",disabled:!0,className:"bg-muted"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"email",children:"Email"}),u.jsx(Ne,{id:"email",value:(r==null?void 0:r.email)||(n==null?void 0:n.email)||"",disabled:!0,className:"bg-muted"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(on,{htmlFor:"venmoId",children:[ye.VENMO_USERNAME,u.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:ye.VENMO_WITHOUT_AT})]}),u.jsx(Ne,{id:"venmoId",placeholder:"Enter your Venmo username",value:s,onChange:c=>o(c.target.value),disabled:i}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be used when others charge you on Venmo"})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(J,{variant:"outline",onClick:()=>e(!1),disabled:i,children:ye.CANCEL}),u.jsx(J,{onClick:l,disabled:i,children:i?ye.SAVING:ye.SAVE_CHANGES})]})]})})}function b2(){const{profile:t,updateFriends:e}=Am(),{toast:n}=cn(),[r,s]=y.useState([]),[i,o]=y.useState(""),[a,l]=y.useState(""),[c,h]=y.useState(!1),[f,m]=y.useState(!1),[p,I]=y.useState(null),[v,x]=y.useState(""),[_,E]=y.useState("");return y.useEffect(()=>{t!=null&&t.friends&&s(t.friends)},[t]),{friends:r,newFriendName:i,newFriendVenmoId:a,hasChanges:c,saving:f,editingIndex:p,editingName:v,editingVenmoId:_,setNewFriendName:o,setNewFriendVenmoId:l,setEditingName:x,setEditingVenmoId:E,handleAddFriend:()=>{if(!i.trim()){n({title:Yr.NAME_REQUIRED,description:Yr.NAME_REQUIRED_DESC,variant:"destructive"});return}const C={name:i.trim(),venmoId:a.trim()||void 0};s([...r,C]),o(""),l(""),h(!0)},handleRemoveFriend:C=>{s(r.filter((A,k)=>k!==C)),h(!0)},handleEditFriend:C=>{I(C),x(r[C].name),E(r[C].venmoId||"")},handleSaveEdit:()=>{if(!v.trim()){n({title:Yr.NAME_REQUIRED,description:Yr.NAME_REQUIRED_DESC,variant:"destructive"});return}const C=[...r];C[p]={name:v.trim(),venmoId:_.trim()||void 0},s(C),I(null),x(""),E(""),h(!0)},handleCancelEdit:()=>{I(null),x(""),E("")},handleSaveAll:async()=>{m(!0),await e(r),m(!1),h(!1)}}}function pW({open:t,onOpenChange:e}){const{friends:n,newFriendName:r,newFriendVenmoId:s,saving:i,editingIndex:o,editingName:a,editingVenmoId:l,setNewFriendName:c,setNewFriendVenmoId:h,setEditingName:f,setEditingVenmoId:m,handleAddFriend:p,handleRemoveFriend:I,handleEditFriend:v,handleSaveEdit:x,handleCancelEdit:_,handleSaveAll:E}=b2(),b=async()=>{await E(),e(!1)};return u.jsx(Pi,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(xt,{className:"w-5 h-5"}),"Manage Friends"]}),u.jsx(Ri,{children:w0.MANAGE_FRIENDS})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsx("div",{className:"space-y-2",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("div",{className:"flex-1",children:u.jsx(Ne,{placeholder:"Friend's name",value:r,onChange:P=>c(P.target.value),onKeyPress:P=>P.key==="Enter"&&p()})}),u.jsx("div",{className:"flex-1",children:u.jsx(Ne,{placeholder:"Venmo ID (optional)",value:s,onChange:P=>h(P.target.value),onKeyPress:P=>P.key==="Enter"&&p()})}),u.jsx(J,{onClick:p,size:"icon",children:u.jsx(So,{className:"w-4 h-4"})})]})}),u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:n.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No friends saved yet. Add friends to quickly add them to bills."}):n.map((P,D)=>u.jsx("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg border border-border",children:o===D?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1 flex gap-2",children:[u.jsx(Ne,{placeholder:"Name",value:a,onChange:j=>f(j.target.value),className:"flex-1"}),u.jsx(Ne,{placeholder:"Venmo ID",value:l,onChange:j=>m(j.target.value),className:"flex-1"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:x,children:u.jsx(pi,{className:"w-4 h-4 text-green-600"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:_,children:u.jsx(as,{className:"w-4 h-4 text-muted-foreground"})})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:P.name}),P.venmoId&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",P.venmoId]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>v(D),children:u.jsx(vu,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>I(D),children:u.jsx(al,{className:"w-4 h-4 text-destructive"})})]})]})},D))})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(J,{variant:"outline",onClick:()=>e(!1),disabled:i,children:ye.CANCEL}),u.jsx(J,{onClick:b,disabled:i,children:i?ye.SAVING:ye.SAVE_CHANGES})]})]})})}var Nm="Tabs",[gW,HK]=ur(Nm,[_m]),S2=_m(),[yW,x0]=gW(Nm),C2=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,h=i0(a),[f,m]=ol({prop:r,onChange:s,defaultProp:i??"",caller:Nm});return u.jsx(yW,{scope:n,baseId:oi(),value:f,onValueChange:m,orientation:o,dir:h,activationMode:l,children:u.jsx(ve.div,{dir:h,"data-orientation":o,...c,ref:e})})});C2.displayName=Nm;var A2="TabsList",N2=y.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=x0(A2,n),o=S2(n);return u.jsx(QP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(ve.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});N2.displayName=A2;var P2="TabsTrigger",R2=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=x0(P2,n),a=S2(n),l=M2(o.baseId,r),c=j2(o.baseId,r),h=r===o.value;return u.jsx(YP,{asChild:!0,...a,focusable:!s,active:h,children:u.jsx(ve.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ee(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ee(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});R2.displayName=P2;var k2="TabsContent",D2=y.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=x0(k2,n),l=M2(a.baseId,r),c=j2(a.baseId,r),h=r===a.value,f=y.useRef(h);return y.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),u.jsx(In,{present:s||h,children:({present:m})=>u.jsx(ve.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});D2.displayName=k2;function M2(t,e){return`${t}-trigger-${e}`}function j2(t,e){return`${t}-content-${e}`}var vW=C2,O2=N2,L2=R2,V2=D2;const Du=vW,El=y.forwardRef(({className:t,...e},n)=>u.jsx(O2,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));El.displayName=O2.displayName;const On=y.forwardRef(({className:t,...e},n)=>u.jsx(L2,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));On.displayName=L2.displayName;const an=y.forwardRef(({className:t,...e},n)=>u.jsx(V2,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));an.displayName=V2.displayName;function nI(t){return t.trim().length>=1&&t.trim().length<=50}function rI(t){return t.length>=2&&t.every(e=>e.name.trim().length>0)}function wW(t){return t.map(e=>({name:e.name,...e.venmoId&&{venmoId:e.venmoId}}))}function xW(t){return t.map(e=>({id:`person-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,name:e.name,...e.venmoId&&{venmoId:e.venmoId}}))}function _W(){return`squad-${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function _0(t){return{name:t.name.trim(),...t.venmoId&&{venmoId:t.venmoId.trim()}}}function F2(t){return t.map(_0)}function EW(t){return{id:t.id,name:t.name,description:t.description,members:t.members,createdAt:t.createdAt.toDate(),updatedAt:t.updatedAt.toDate()}}function E0(t){return{id:t.id,name:t.name,description:t.description,members:t.members,createdAt:t.createdAt?Ce.fromDate(t.createdAt):Ce.now(),updatedAt:t.updatedAt?Ce.fromDate(t.updatedAt):Ce.now()}}async function Mu(t){try{const e=wn(sn,"users",t),n=await _l(e);return n.exists()?(n.data().squads||[]).map(EW):[]}catch(e){throw console.error("Error fetching squads:",e),new Error("Failed to load squads")}}async function IW(t,e){var n;try{const r=_W(),s=new Date,i={id:r,name:e.name.trim(),description:(n=e.description)==null?void 0:n.trim(),members:F2(e.members),createdAt:s,updatedAt:s},a=[...await Mu(t),i],l=wn(sn,"users",t);return await lo(l,{squads:a.map(E0)},{merge:!0}),r}catch(r){throw console.error("Error saving squad:",r),new Error("Failed to save squad")}}async function TW(t,e,n){var r;try{const s=await Mu(t),i=s.findIndex(l=>l.id===e);if(i===-1)throw new Error("Squad not found");const o={...s[i],...n.name&&{name:n.name.trim()},...n.description!==void 0&&{description:(r=n.description)==null?void 0:r.trim()},...n.members&&{members:F2(n.members)},updatedAt:new Date};s[i]=o;const a=wn(sn,"users",t);await lo(a,{squads:s.map(E0)},{merge:!0})}catch(s){throw console.error("Error updating squad:",s),new Error("Failed to update squad")}}async function bW(t,e){try{const r=(await Mu(t)).filter(i=>i.id!==e),s=wn(sn,"users",t);await lo(s,{squads:r.map(E0)},{merge:!0})}catch(n){throw console.error("Error deleting squad:",n),new Error("Failed to delete squad")}}async function SW(t,e){try{return(await Mu(t)).find(r=>r.id===e)||null}catch(n){throw console.error("Error fetching squad:",n),new Error("Failed to load squad")}}function I0(){const{user:t}=zn(),{toast:e}=cn(),[n,r]=y.useState([]),[s,i]=y.useState(!0),o=y.useCallback(async()=>{if(!t){r([]),i(!1);return}try{i(!0);const m=await Mu(t.uid);r(m)}catch(m){console.error("Error loading squads:",m),e({title:"Error loading squads",description:"Could not load your squads. Please try again.",variant:"destructive"}),r([])}finally{i(!1)}},[t,e]),a=y.useCallback(async m=>{if(!t)return e({title:"Authentication required",description:"Please sign in to create a squad.",variant:"destructive"}),null;if(!nI(m.name))return e({title:"Invalid squad name",description:"Squad name must be between 1 and 50 characters.",variant:"destructive"}),null;if(!rI(m.members))return e({title:"Invalid members",description:"A squad must have at least 2 members with valid names.",variant:"destructive"}),null;try{const p=await IW(t.uid,m);return await o(),e({title:"Squad created",description:`"${m.name}" has been saved successfully.`}),p}catch(p){return console.error("Error creating squad:",p),e({title:"Error creating squad",description:"Could not create squad. Please try again.",variant:"destructive"}),null}},[t,e,o]),l=y.useCallback(async(m,p)=>{if(!t)return e({title:"Authentication required",description:"Please sign in to update a squad.",variant:"destructive"}),!1;if(p.name!==void 0&&!nI(p.name))return e({title:"Invalid squad name",description:"Squad name must be between 1 and 50 characters.",variant:"destructive"}),!1;if(p.members!==void 0&&!rI(p.members))return e({title:"Invalid members",description:"A squad must have at least 2 members with valid names.",variant:"destructive"}),!1;try{return await TW(t.uid,m,p),await o(),e({title:"Squad updated",description:"Your squad has been updated successfully."}),!0}catch(I){return console.error("Error updating squad:",I),e({title:"Error updating squad",description:"Could not update squad. Please try again.",variant:"destructive"}),!1}},[t,e,o]),c=y.useCallback(async m=>{if(!t)return e({title:"Authentication required",description:"Please sign in to delete a squad.",variant:"destructive"}),!1;try{return await bW(t.uid,m),await o(),e({title:"Squad deleted",description:"Your squad has been deleted successfully."}),!0}catch(p){return console.error("Error deleting squad:",p),e({title:"Error deleting squad",description:"Could not delete squad. Please try again.",variant:"destructive"}),!1}},[t,e,o]),h=y.useCallback(m=>n.find(p=>p.id===m),[n]),f=y.useCallback(async m=>{if(!t)return null;try{return await SW(t.uid,m)}catch(p){return console.error("Error fetching squad:",p),e({title:"Error loading squad",description:"Could not load squad details.",variant:"destructive"}),null}},[t,e]);return y.useEffect(()=>{o()},[o]),{squads:n,loading:s,loadSquads:o,createSquad:a,updateSquad:l,deleteSquad:c,findSquadById:h,getSquad:f}}function U2(){const{squads:t,loading:e,createSquad:n,updateSquad:r,deleteSquad:s}=I0(),[i,o]=y.useState("list"),[a,l]=y.useState(null);return{squads:t,loading:e,activeTab:i,editingSquad:a,handleCreate:async(I,v,x)=>{await n({name:I,description:v,members:x})&&o("list")},handleEdit:I=>{l(I),o("edit")},handleUpdate:async(I,v,x)=>{if(!a)return;await r(a.id,{name:I,description:v,members:x})&&(l(null),o("list"))},handleDelete:async I=>{window.confirm("Are you sure you want to delete this squad?")&&await s(I)},handleTabChange:I=>{o(I),I==="list"&&l(null)},setActiveTab:o}}function $2({squads:t,onEdit:e,onDelete:n}){return t.length===0?u.jsx(AW,{}):u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.map(r=>u.jsx(CW,{squad:r,onEdit:()=>e(r),onDelete:()=>n(r.id)},r.id))})}function CW({squad:t,onEdit:e,onDelete:n}){return u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-secondary/30 rounded-lg border border-border hover:bg-secondary/50 transition-colors",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"font-medium",children:t.name}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",t.members.length," ",t.members.length===1?"member":"members",")"]})]}),t.description&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description}),u.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[t.members.slice(0,3).map((r,s)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-primary/10 rounded-md",children:r.name},s)),t.members.length>3&&u.jsxs("span",{className:"text-xs px-2 py-1 text-muted-foreground",children:["+",t.members.length-3," more"]})]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:e,"aria-label":`Edit ${t.name}`,children:u.jsx(vu,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:n,"aria-label":`Delete ${t.name}`,children:u.jsx(al,{className:"w-4 h-4 text-destructive"})})]})]})}function AW(){return u.jsxs("div",{className:"text-center py-8",children:[u.jsx(xt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No squads saved yet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a squad to quickly add groups of friends to bills"})]})}const T0=y.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));T0.displayName="Textarea";const NW=Lf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Sc({className:t,variant:e,...n}){return u.jsx("div",{className:le(NW({variant:e}),t),...n})}function au({initialName:t="",initialDescription:e="",initialMembers:n=[],onSubmit:r,submitLabel:s="Create Squad"}){const[i,o]=y.useState(t),[a,l]=y.useState(e),[c,h]=y.useState(n),[f,m]=y.useState(""),[p,I]=y.useState(""),[v,x]=y.useState(!1),_=()=>{if(!f.trim())return;const D=_0({name:f,venmoId:p.trim()||void 0});c.some(S=>{var T,C;return S.name.toLowerCase()===D.name.toLowerCase()&&((T=S.venmoId)==null?void 0:T.toLowerCase())===((C=D.venmoId)==null?void 0:C.toLowerCase())})||h([...c,D]),m(""),I(""),x(!1)},E=D=>{h(c.filter((j,S)=>S!==D))},b=()=>{r(i,a,c)},P=i.trim().length>0&&c.length>=2;return u.jsxs("div",{className:"space-y-4",children:[u.jsx(PW,{value:i,onChange:o}),u.jsx(RW,{value:a,onChange:l}),u.jsx(kW,{members:c,setMembers:h,newMemberName:f,newMemberVenmoId:p,showVenmoField:v,onNewMemberNameChange:m,onNewMemberVenmoIdChange:I,onShowVenmoFieldChange:x,onAddMember:_,onRemoveMember:E}),u.jsx(J,{onClick:b,disabled:!P,className:"w-full",children:s}),!P&&c.length<2&&u.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Add at least 2 members to create a squad"})]})}function PW({value:t,onChange:e}){return u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"squad-name",children:"Squad Name *"}),u.jsx(Ne,{id:"squad-name",placeholder:"e.g., College Friends, Roommates, Game Night Crew",value:t,onChange:n=>e(n.target.value),maxLength:50,autoFocus:!0})]})}function RW({value:t,onChange:e}){return u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"squad-description",children:"Description (Optional)"}),u.jsx(T0,{id:"squad-description",placeholder:"Add details about this squad...",value:t,onChange:n=>e(n.target.value),rows:2})]})}function kW({members:t,setMembers:e,newMemberName:n,newMemberVenmoId:r,showVenmoField:s,onNewMemberNameChange:i,onNewMemberVenmoIdChange:o,onShowVenmoFieldChange:a,onAddMember:l,onRemoveMember:c}){const{user:h}=zn(),[f,m]=y.useState([]),[p,I]=y.useState(!1),[v,x]=y.useState([]),_=y.useRef(null),E=y.useRef(null);y.useEffect(()=>{h&&b()},[h]),y.useEffect(()=>{if(n.trim().length>0){const D=f.filter(j=>j.name.toLowerCase().startsWith(n.toLowerCase()));x(D),I(D.length>0)}else I(!1)},[n,f]),y.useEffect(()=>{const D=j=>{E.current&&!E.current.contains(j.target)&&_.current&&!_.current.contains(j.target)&&I(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const b=async()=>{if(h)try{const D=wn(sn,"users",h.uid),j=await _l(D);if(j.exists()){const S=j.data();m(S.friends||[])}}catch(D){console.error("Error loading friends:",D)}},P=D=>{const j=_0({name:D.name,venmoId:D.venmoId});t.some(T=>{var C,A;return T.name.toLowerCase()===j.name.toLowerCase()&&((C=T.venmoId)==null?void 0:C.toLowerCase())===((A=j.venmoId)==null?void 0:A.toLowerCase())})||e([...t,j]),i(""),o(""),I(!1)};return u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{children:"Members *"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Ne,{ref:_,placeholder:"Member name",value:n,onChange:D=>i(D.target.value),onKeyPress:D=>D.key==="Enter"&&!s&&l(),className:"flex-1"}),p&&v.length>0&&u.jsx("div",{ref:E,className:"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:v.map((D,j)=>u.jsxs("div",{onClick:()=>P(D),className:"px-3 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors",children:[u.jsx("div",{className:"font-medium",children:D.name}),D.venmoId&&u.jsxs("div",{className:"text-xs text-muted-foreground",children:["@",D.venmoId]})]},j))})]}),u.jsx(J,{onClick:l,size:"icon",type:"button",children:u.jsx(So,{className:"w-4 h-4"})})]}),u.jsx(Sc,{variant:s?"default":"outline",className:"cursor-pointer px-3 py-1 text-xs hover:opacity-80 transition-opacity",onClick:()=>a(!s),children:"Add Venmo ID"}),s&&u.jsx(Ne,{placeholder:"Venmo username (without @)",value:r,onChange:D=>o(D.target.value),onKeyPress:D=>D.key==="Enter"&&l(),className:"text-sm"}),t.length>0&&u.jsx("div",{className:"space-y-1 max-h-[200px] overflow-y-auto border border-border rounded-md p-2",children:t.map((D,j)=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary/30 rounded",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-sm font-medium",children:D.name}),D.venmoId&&u.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["@",D.venmoId]})]}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>c(j),type:"button","aria-label":`Remove ${D.name}`,children:u.jsx(as,{className:"w-4 h-4 text-muted-foreground"})})]},j))})]})}function DW({open:t,onOpenChange:e}){const{squads:n,loading:r,activeTab:s,editingSquad:i,handleCreate:o,handleEdit:a,handleUpdate:l,handleDelete:c,handleTabChange:h,setActiveTab:f}=U2();return u.jsx(Pi,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(xt,{className:"w-5 h-5"}),"Manage Squads"]}),u.jsx(Ri,{children:w0.MANAGE_SQUADS})]}),u.jsxs(Du,{value:s,onValueChange:h,className:"w-full",children:[u.jsxs(El,{className:"grid w-full grid-cols-2",children:[u.jsx(On,{value:"list",children:"Your Squads"}),u.jsx(On,{value:s==="edit"?"edit":"create",children:s==="edit"?"Edit Squad":"Create New"})]}),u.jsx(an,{value:"list",className:"space-y-4 py-4",children:r?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading squads..."})}):u.jsxs(u.Fragment,{children:[u.jsx($2,{squads:n,onEdit:a,onDelete:c}),u.jsxs(J,{onClick:()=>f("create"),className:"w-full",variant:"outline",children:[u.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Create New Squad"]})]})}),u.jsx(an,{value:"create",className:"py-4",children:u.jsx(au,{onSubmit:o,submitLabel:"Create Squad"},"create-squad")}),u.jsx(an,{value:"edit",className:"py-4",children:i&&u.jsx(au,{initialName:i.name,initialDescription:i.description,initialMembers:i.members,onSubmit:l,submitLabel:"Update Squad"},`edit-${i.id}`)})]})]})})}const MW=()=>{const{user:t,loading:e,signOut:n}=zn(),r=fl(),[s,i]=y.useState(!1),[o,a]=y.useState(!1),[l,c]=y.useState(!1),[h,f]=y.useState(!1);if(e)return null;if(!t)return u.jsxs(J,{variant:"outline",size:"sm",onClick:()=>r("/auth"),className:"gap-2",children:[u.jsx(wS,{className:"w-4 h-4"}),"Sign In"]});const m=x=>x?x.split(" ").map(_=>_[0]).join("").toUpperCase().slice(0,2):"U",p=()=>{f(!1),i(!0)},I=()=>{f(!1),a(!0)},v=()=>{f(!1),c(!0)};return u.jsxs(u.Fragment,{children:[u.jsxs(Gq,{open:h,onOpenChange:f,children:[u.jsx(Kq,{asChild:!0,children:u.jsx(J,{variant:"ghost",className:"relative h-10 w-10 rounded-full ring-2 ring-primary/20 hover:ring-primary/40 transition-all",children:u.jsxs(UP,{className:"h-9 w-9",children:[u.jsx($P,{src:t.photoURL||void 0,alt:t.displayName||"User"}),u.jsx(zP,{className:"bg-gradient-to-br from-primary to-primary-glow text-primary-foreground",children:m(t.displayName)})]})})}),u.jsxs(JR,{className:"w-56",align:"end",forceMount:!0,children:[u.jsx(ZR,{className:"font-normal",children:u.jsxs("div",{className:"flex flex-col space-y-1",children:[u.jsx("p",{className:"text-sm font-medium leading-none",children:t.displayName||"User"}),u.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})}),u.jsx(e2,{}),u.jsxs(oc,{onClick:p,className:"cursor-pointer",children:[u.jsx(ey,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Profile Settings"})]}),u.jsxs(oc,{onClick:I,className:"cursor-pointer",children:[u.jsx(xt,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Manage Friends"})]}),u.jsxs(oc,{onClick:v,className:"cursor-pointer",children:[u.jsx(IS,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Manage Squads"})]}),u.jsxs(oc,{onClick:n,className:"cursor-pointer text-destructive focus:text-destructive",children:[u.jsx(fO,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Sign out"})]})]})]}),u.jsx(T2,{open:s,onOpenChange:i}),u.jsx(pW,{open:o,onOpenChange:a}),u.jsx(DW,{open:l,onOpenChange:c})]})};function jW(){const t=Ao(),e=[{path:"/",label:"AI Scan",icon:gO},{path:"/groups",label:"Groups",icon:xt}];return u.jsx("nav",{className:"flex gap-1",children:e.map(n=>{const r=n.icon,s=t.pathname===n.path;return u.jsxs(AC,{to:n.path,className:`flex items-center gap-2 px-4 py-2 rounded-md transition-colors ${s?"bg-primary text-primary-foreground font-semibold":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[u.jsx(r,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:n.label})]},n.path)})})}function OW(){return u.jsx("header",{className:"border-b bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:u.jsx("div",{className:"container mx-auto px-4 py-3 md:py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-xl bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center",children:u.jsx(gi,{className:"w-5 h-5 md:w-6 md:h-6 text-primary-foreground"})}),u.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"SplitBill"})]}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx(jW,{}),u.jsx(MW,{})]})]})})})}var z2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sI=W.createContext&&W.createContext(z2),LW=["attr","size","title"];function VW(t,e){if(t==null)return{};var n=FW(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){UW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UW(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=zW(t,"string");return typeof e=="symbol"?e:e+""}function zW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B2(t){return t&&t.map((e,n)=>W.createElement(e.tag,cf({key:n},e.attr),B2(e.child)))}function b0(t){return e=>W.createElement(BW,lf({attr:cf({},t.attr)},e),B2(t.child))}function BW(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=VW(t,LW),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),W.createElement("svg",lf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:cf(cf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&W.createElement("title",null,i),t.children)};return sI!==void 0?W.createElement(sI.Consumer,null,n=>e(n)):e(z2)}function qW(t){return b0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(t)}function WW(t){return b0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z"},child:[]}]})(t)}function HW(t){return b0({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"14.31",y1:"8",x2:"20.05",y2:"17.94"},child:[]},{tag:"line",attr:{x1:"9.69",y1:"8",x2:"21.17",y2:"8"},child:[]},{tag:"line",attr:{x1:"7.38",y1:"12",x2:"13.12",y2:"2.06"},child:[]},{tag:"line",attr:{x1:"9.69",y1:"16",x2:"3.95",y2:"6.06"},child:[]},{tag:"line",attr:{x1:"14.31",y1:"16",x2:"2.83",y2:"16"},child:[]},{tag:"line",attr:{x1:"16.62",y1:"12",x2:"10.88",y2:"21.94"},child:[]}]})(t)}function GW(){const t=Ao(),e=[{name:"AI Scan",path:"/",icon:HW},{name:"Groups",path:"/groups",icon:WW},{name:"Profile",path:"/settings",icon:qW}];return u.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-10 bg-white border-t border-gray-200 shadow-lg md:hidden",children:u.jsx("div",{className:"flex justify-around items-center h-16",children:e.map(n=>{const r=t.pathname===n.path;return u.jsxs(AC,{to:n.path,className:`
                flex flex-col items-center justify-center p-2 text-xs font-medium transition-colors
                ${r?"text-indigo-600":"text-gray-500 hover:text-indigo-400"}
              `,children:[u.jsx(n.icon,{className:"text-2xl"}),u.jsx("span",{className:"mt-1",children:n.name})]},n.name)})})})}const tg=768;function ju(){const[t,e]=y.useState(void 0);return y.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tg-1}px)`),r=()=>{e(window.innerWidth<tg)};return n.addEventListener("change",r),e(window.innerWidth<tg),()=>n.removeEventListener("change",r)},[]),!!t}function KW(){const t=ju(),e=t?"pb-20":"pb-12";return u.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30 flex flex-col",children:[!t&&u.jsx(OW,{}),u.jsx("main",{className:`container mx-auto px-4 py-12 flex-grow ${e}`,children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx(DF,{})})}),t&&u.jsx(GW,{})]})}function QW({hasBillData:t,onLoadMock:e,onStartOver:n}){return u.jsxs("div",{className:"text-center mb-8 md:mb-12 space-y-3 md:space-y-4",children:[u.jsx("h2",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:ye.SPLIT_YOUR_BILL}),u.jsx("p",{className:"text-base md:text-lg text-muted-foreground max-w-2xl mx-auto",children:ye.UPLOAD_RECEIPT_INSTRUCTION}),u.jsxs("div",{className:"flex gap-2 justify-center mt-2",children:[u.jsx(J,{variant:"outline",size:"sm",onClick:e,children:"Load Test Data"}),t&&u.jsxs(J,{variant:"outline",size:"sm",onClick:n,children:[u.jsx(mO,{className:"w-4 h-4 mr-2"}),ye.START_OVER]})]})]})}const ze=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ze.displayName="Card";const YW=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",t),...e}));YW.displayName="CardHeader";const XW=y.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",t),...e}));XW.displayName="CardTitle";const JW=y.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",t),...e}));JW.displayName="CardDescription";const ZW=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("p-6 pt-0",t),...e}));ZW.displayName="CardContent";const eH=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",t),...e}));eH.displayName="CardFooter";/*! Capacitor: https://capacitorjs.com/ - MIT License */var Za;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Za||(Za={}));class Ta extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const tH=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},nH=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>e!==null?e.name:tH(t),i=()=>s()!=="web",o=f=>{const m=c.get(f);return!!(m!=null&&m.platforms.has(s())||a(f))},a=f=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(p=>p.name===f)},l=f=>t.console.error(f),c=new Map,h=(f,m={})=>{const p=c.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const I=s(),v=a(f);let x;const _=async()=>(!x&&I in m?x=typeof m[I]=="function"?x=await m[I]():x=m[I]:e!==null&&!x&&"web"in m&&(x=typeof m.web=="function"?x=await m.web():x=m.web),x),E=(T,C)=>{var A,k;if(v){const M=v==null?void 0:v.methods.find(R=>C===R.name);if(M)return M.rtype==="promise"?R=>n.nativePromise(f,C.toString(),R):(R,B)=>n.nativeCallback(f,C.toString(),R,B);if(T)return(A=T[C])===null||A===void 0?void 0:A.bind(T)}else{if(T)return(k=T[C])===null||k===void 0?void 0:k.bind(T);throw new Ta(`"${f}" plugin is not implemented on ${I}`,Za.Unimplemented)}},b=T=>{let C;const A=(...k)=>{const M=_().then(R=>{const B=E(R,T);if(B){const re=B(...k);return C=re==null?void 0:re.remove,re}else throw new Ta(`"${f}.${T}()" is not implemented on ${I}`,Za.Unimplemented)});return T==="addListener"&&(M.remove=async()=>C()),M};return A.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:T,writable:!1,configurable:!1}),A},P=b("addListener"),D=b("removeListener"),j=(T,C)=>{const A=P({eventName:T},C),k=async()=>{const R=await A;D({eventName:T,callbackId:R},C)},M=new Promise(R=>A.then(()=>R({remove:k})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await k()},M},S=new Proxy({},{get(T,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?j:P;case"removeListener":return D;default:return b(C)}}});return r[f]=S,c.set(f,{name:f,proxy:S,platforms:new Set([...Object.keys(m),...v?[I]:[]])}),S};return n.convertFileSrc||(n.convertFileSrc=f=>f),n.getPlatform=s,n.handleError=l,n.isNativePlatform=i,n.isPluginAvailable=o,n.registerPlugin=h,n.Exception=Ta,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},rH=t=>t.Capacitor=nH(t),Io=rH(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pm=Io.registerPlugin;class S0{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Io.Exception(e,Za.Unimplemented)}unavailable(e="not available"){return new Io.Exception(e,Za.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const oI=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),aI=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class sH extends S0{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=aI(s).trim(),i=aI(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=oI(e.key),r=oI(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Pm("CapacitorCookies",{web:()=>new sH});const iH=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),oH=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},aH=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,o]=s;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${i}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${i}=${a}`),`${r}&${l}`},"").substr(1):null,lH=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=oH(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))i.set(o,a);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{i.append(l,a)});else for(const a of Object.keys(t.data))i.append(a,t.data[a]);n.body=i;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class cH extends S0{async request(e){const n=lH(e,e.webFetchExtra),r=aH(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),o=i.headers.get("content-type")||"";let{responseType:a="text"}=i.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await i.blob(),l=await iH(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const h={};return i.headers.forEach((f,m)=>{h[m]=f}),{data:l,headers:h,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Pm("CapacitorHttp",{web:()=>new cH});function q2(){const t=Io.getPlatform(),e=Io.isNativePlatform();return{platform:t,isNative:e,isWeb:t==="web",isIOS:t==="ios",isAndroid:t==="android"}}var Xi;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(Xi||(Xi={}));var Cc;(function(t){t.Rear="REAR",t.Front="FRONT"})(Cc||(Cc={}));var zy;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(zy||(zy={}));class uH extends S0{async getPhoto(e){return new Promise(async(n,r)=>{if(e.webUseInput||e.source===Xi.Photos)this.fileInputExperience(e,n,r);else if(e.source===Xi.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(e,n,r):this.cameraExperience(e,n,r)})}else this.cameraExperience(e,n,r)})}async pickImages(e){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(e,n,r){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===Cc.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async i=>{const o=i.detail;o===null?r(new Ta("User cancelled photos app")):o instanceof Error?r(o):n(await this._getCameraPhoto(o,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(e,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,n,r)}fileInputExperience(e,n,r){let s=document.querySelector("#_capacitor-camera-input");const i=()=>{var o;(o=s.parentNode)===null||o===void 0||o.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",o=>{const a=s.files[0];let l="jpeg";if(a.type==="image/png"?l="png":a.type==="image/gif"&&(l="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const c=new FileReader;c.addEventListener("load",()=>{if(e.resultType==="dataUrl")n({dataUrl:c.result,format:l});else if(e.resultType==="base64"){const h=c.result.split(",")[1];n({base64String:h,format:l})}i()}),c.readAsDataURL(a)}else n({webPath:URL.createObjectURL(a),format:l}),i()}),s.addEventListener("cancel",o=>{r(new Ta("User cancelled photos app")),i()})),s.accept="image/*",s.capture=!0,e.source===Xi.Photos||e.source===Xi.Prompt?s.removeAttribute("capture"):e.direction===Cc.Front?s.capture="user":e.direction===Cc.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",i=>{const o=[];for(let a=0;a<r.files.length;a++){const l=r.files[a];let c="jpeg";l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),o.push({webPath:URL.createObjectURL(l),format:c})}e({photos:o}),s()}),r.addEventListener("cancel",i=>{n(new Ta("User cancelled photos app")),s()})),r.accept="image/*",r.click()}_getCameraPhoto(e,n){return new Promise((r,s)=>{const i=new FileReader,o=e.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(e),format:o,saved:!1}):(i.readAsDataURL(e),i.onloadend=()=>{const a=i.result;n.resultType==="dataUrl"?r({dataUrl:a,format:o,saved:!1}):r({base64String:a.split(",")[1],format:o,saved:!1})},i.onerror=a=>{s(a)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const dH=Pm("Camera",{web:()=>new uH});function hH(){const{isNative:t}=q2(),[e,n]=y.useState(null);return{imagePreview:e,pickImage:async()=>{try{if(t){const i=await dH.getPhoto({quality:90,allowEditing:!1,resultType:zy.Base64,source:Xi.Prompt});if(i.base64String){const o=`data:image/${i.format};base64,${i.base64String}`;return n(o),o}}}catch(i){return console.error("Error picking image:",i),null}return null},clearImage:()=>{n(null)}}}function W2({selectedFile:t,imagePreview:e,isDragging:n,isAnalyzing:r,onFileInput:s,onDragOver:i,onDragLeave:o,onDrop:a,onRemove:l,onAnalyze:c,onImageSelected:h,fileInputRef:f}){const{isNative:m}=q2(),{pickImage:p}=hH(),I=async()=>{var v;if(m&&h){const x=await p();x&&h(x)}else(v=f.current)==null||v.click()};return u.jsx(ze,{className:`p-4 md:p-8 shadow-medium border-2 border-dashed transition-all duration-300 ${n?"border-primary bg-primary/10 scale-[1.02]":e?"border-primary/40":"border-primary/20 hover:border-primary/40"}`,onDragOver:i,onDragLeave:o,onDrop:a,children:e?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(hO,{className:"w-5 h-5 text-primary"}),u.jsx("span",{className:"font-medium",children:t==null?void 0:t.name})]}),u.jsx(J,{variant:"ghost",size:"sm",onClick:l,children:u.jsx(as,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"relative rounded-lg overflow-hidden border",children:u.jsx("img",{src:e,alt:"Receipt preview",className:"w-full h-auto max-h-96 object-contain"})}),u.jsx(J,{size:"lg",className:"w-full bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50",onClick:c,disabled:r,children:r?u.jsxs(u.Fragment,{children:[u.jsx(vS,{className:"mr-2 h-5 w-5 animate-spin"}),"Analyzing Receipt..."]}):u.jsxs(u.Fragment,{children:[u.jsx(gi,{className:"mr-2 h-5 w-5"}),"Analyze Receipt"]})}),r&&u.jsx("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"This may take a few moments. AI is extracting items from your receipt..."})]}):u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 md:space-y-6 py-8 md:py-12",children:[u.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-primary/10 flex items-center justify-center",children:u.jsx(Ah,{className:"w-8 h-8 md:w-10 md:h-10 text-primary"})}),u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"Upload Your Receipt"}),u.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Drag and drop or click to upload your bill"})]}),!m&&u.jsx("input",{ref:f,type:"file",accept:"image/jpeg,image/png,image/heic,image/heif",onChange:s,className:"hidden"}),u.jsxs(J,{size:"lg",className:"bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 shadow-lg hover:shadow-xl transition-all duration-300",onClick:I,children:[u.jsx(Ah,{className:"mr-2 h-5 w-5"}),m?"Take Photo":"Choose File"]}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports JPG, PNG, HEIC  Max 20MB"})]})})}function fH({open:t,onOpenChange:e,onAddPerson:n}){const{user:r}=zn(),[s,i]=y.useState([]),[o,a]=y.useState(!1);y.useEffect(()=>{t&&r&&l()},[t,r]);const l=async()=>{if(r){a(!0);try{const h=wn(sn,"users",r.uid),f=await _l(h);if(f.exists()){const m=f.data();i(m.friends||[])}}catch(h){console.error("Error loading friends:",h)}finally{a(!1)}}},c=h=>{n(h),e(!1)};return u.jsx(Pi,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[425px]",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(_S,{className:"w-5 h-5"}),"Add from Friends"]}),u.jsx(Ri,{children:"Select a friend from your saved list to add them to the bill"})]}),u.jsx("div",{className:"py-4",children:o?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Loading friends..."}):s.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No friends saved yet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Save people to your friends list when adding them to quickly add them next time"})]}):u.jsx("div",{className:"space-y-2",children:s.map((h,f)=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-lg border border-border hover:bg-secondary/50 transition-colors",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:h.name}),h.venmoId&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",h.venmoId]})]}),u.jsxs(J,{size:"sm",onClick:()=>c(h),children:[u.jsx(So,{className:"w-4 h-4 mr-1"}),"Add"]})]},f))})})]})})}function mH({open:t,onOpenChange:e,onAddSquad:n}){const{squads:r,loading:s,loadSquads:i}=I0(),[o,a]=y.useState(""),[l,c]=y.useState(null);y.useEffect(()=>{t&&i()},[t,i]);const h=r.filter(I=>I.name.toLowerCase().includes(o.toLowerCase())),f=I=>{c(I)},m=()=>{l&&(n(l.members),c(null),a(""),e(!1))},p=()=>{c(null),a(""),e(!1)};return u.jsx(Pi,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[500px]",children:[u.jsxs(vs,{children:[u.jsxs(ws,{className:"flex items-center gap-2",children:[u.jsx(xt,{className:"w-5 h-5"}),"Add from Squad"]}),u.jsx(Ri,{children:"Select a squad to add all members to the bill at once"})]}),u.jsx("div",{className:"space-y-4 py-4",children:s?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading squads..."})}):r.length===0?u.jsx(vH,{}):l?u.jsx(yH,{squad:l,onBack:()=>c(null)}):u.jsxs(u.Fragment,{children:[u.jsx(pH,{value:o,onChange:a}),u.jsx(gH,{squads:h,onSelect:f,searchQuery:o})]})}),l&&u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(J,{variant:"outline",onClick:p,children:"Cancel"}),u.jsxs(J,{onClick:m,children:[u.jsx(So,{className:"w-4 h-4 mr-2"}),"Add Squad to Bill"]})]})]})})}function pH({value:t,onChange:e}){return u.jsxs("div",{className:"relative",children:[u.jsx(yO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),u.jsx(Ne,{placeholder:"Search squads...",value:t,onChange:n=>e(n.target.value),className:"pl-9"})]})}function gH({squads:t,onSelect:e,searchQuery:n}){return t.length===0&&n?u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-sm text-muted-foreground",children:['No squads found matching "',n,'"']})}):u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.map(r=>u.jsx("button",{onClick:()=>e(r),className:"w-full text-left p-3 bg-secondary/30 rounded-lg border border-border hover:bg-secondary/50 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:r.name}),r.description&&u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.description}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[r.members.length," ",r.members.length===1?"member":"members"]})]}),u.jsx(So,{className:"w-4 h-4 text-muted-foreground"})]})},r.id))})}function yH({squad:t,onBack:e}){return u.jsxs("div",{className:"space-y-4",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:e,children:" Back to squads"}),u.jsxs("div",{className:"border border-border rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.name}),t.description&&u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t.description}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{className:"text-sm font-medium",children:["Members (",t.members.length,"):"]}),u.jsx("div",{className:"space-y-1 max-h-[200px] overflow-y-auto",children:t.members.map((n,r)=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-secondary/30 rounded",children:[u.jsx("span",{className:"text-sm",children:n.name}),n.venmoId&&u.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",n.venmoId]})]},r))})]})]})]})}function vH(){return u.jsxs("div",{className:"text-center py-8",children:[u.jsx(xt,{className:"w-12 h-12 mx-auto text-muted-foreground/50 mb-3"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No squads saved yet"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Create a squad in Manage Squads to quickly add groups of friends"})]})}function wH({people:t,disabled:e=!1}){const[n,r]=y.useState(!1),{createSquad:s}=I0(),i=async(c,h,f)=>{await s({name:c,description:h,members:f})&&r(!1)},o=()=>{t.length>=2&&r(!0)},a=wW(t.filter(c=>!c.id.startsWith("user-"))),l=e||t.length<2;return u.jsxs(u.Fragment,{children:[u.jsxs(J,{onClick:o,variant:"outline",size:"sm",disabled:l,title:l?"Add at least 2 people to save as squad":"Save current people as a squad",children:[u.jsx(pO,{className:"w-4 h-4 mr-2"}),"Save as Squad"]}),u.jsx(Pi,{open:n,onOpenChange:r,children:u.jsxs(ys,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[u.jsxs(vs,{children:[u.jsx(ws,{children:"Save as Squad"}),u.jsx(Ri,{children:"Save the current people on this bill as a squad for quick access later"})]}),u.jsx("div",{className:"py-4",children:u.jsx(au,{initialMembers:a,onSubmit:i,submitLabel:"Save Squad"},"save-as-squad")})]})})]})}function uf({people:t,newPersonName:e,newPersonVenmoId:n,useNameAsVenmoId:r,saveToFriendsList:s,onNameChange:i,onVenmoIdChange:o,onUseNameAsVenmoIdChange:a,onSaveToFriendsListChange:l,onAdd:c,onAddFromFriend:h,onRemove:f,setPeople:m}){const{user:p}=zn(),[I,v]=y.useState(!1),[x,_]=y.useState(!1),[E,b]=y.useState(!1),[P,D]=y.useState([]),[j,S]=y.useState(!1),[T,C]=y.useState([]),A=y.useRef(null),k=y.useRef(null);y.useEffect(()=>{p&&M()},[p]),y.useEffect(()=>{if(e.trim().length>0){const H=P.filter(te=>te.name.toLowerCase().startsWith(e.toLowerCase()));C(H),S(H.length>0)}else S(!1)},[e,P]),y.useEffect(()=>{const H=te=>{k.current&&!k.current.contains(te.target)&&A.current&&!A.current.contains(te.target)&&S(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const M=async()=>{if(p)try{const H=wn(sn,"users",p.uid),te=await _l(H);if(te.exists()){const F=te.data();D(F.friends||[])}}catch(H){console.error("Error loading friends:",H)}},R=()=>{c(),v(!1),S(!1)},B=H=>{h(H),i(""),o(""),S(!1)},re=H=>{const te=xW(H);m([...t,...te])};return u.jsxs(ze,{className:"p-3 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(xt,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),u.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:"People"})]}),u.jsxs("div",{className:"space-y-3 mb-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Ne,{ref:A,placeholder:"Enter person's name",value:e,onChange:H=>i(H.target.value),onKeyPress:H=>H.key==="Enter"&&!I&&R(),className:"w-full"}),j&&T.length>0&&u.jsx("div",{ref:k,className:"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:T.map((H,te)=>u.jsxs("div",{onClick:()=>B(H),className:"px-3 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors",children:[u.jsx("div",{className:"font-medium",children:H.name}),H.venmoId&&u.jsxs("div",{className:"text-xs text-muted-foreground",children:["@",H.venmoId]})]},te))})]}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs(J,{onClick:R,className:"flex-1 sm:flex-none",children:[u.jsx(So,{className:"w-4 h-4 mr-2"}),"Add"]}),u.jsxs(J,{onClick:()=>_(!0),variant:"outline",className:"flex-1 sm:flex-none",children:[u.jsx(_S,{className:"w-4 h-4 mr-2"}),"Friends"]}),u.jsxs(J,{onClick:()=>b(!0),variant:"outline",className:"flex-1 sm:flex-none",children:[u.jsx(xt,{className:"w-4 h-4 mr-2"}),"Squad"]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(Sc,{variant:r?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm hover:opacity-80 transition-opacity",onClick:()=>{a(!r),r||v(!1)},children:"Use name as Venmo ID"}),u.jsx(Sc,{variant:s?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm hover:opacity-80 transition-opacity",onClick:()=>l(!s),children:"Save to friends"}),!r&&u.jsx(Sc,{variant:I?"default":"outline",className:"cursor-pointer px-4 py-2 text-sm hover:opacity-80 transition-opacity",onClick:()=>v(!I),children:"Add custom Venmo ID"})]}),I&&!r&&u.jsx(Ne,{id:"venmoId",placeholder:"Enter Venmo username (without @)",value:n,onChange:H=>o(H.target.value),onKeyPress:H=>H.key==="Enter"&&R(),className:"text-sm"})]}),t.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"flex justify-end mb-2",children:u.jsx(wH,{people:t})}),u.jsx("div",{className:"space-y-2",children:t.map(H=>u.jsxs("div",{className:"flex items-center justify-between p-2 md:p-3 bg-secondary/50 rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-sm md:text-base font-medium",children:H.name}),H.venmoId&&u.jsxs("span",{className:"ml-2 text-xs text-muted-foreground",children:["(@",H.venmoId,")"]})]}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>f(H.id),children:u.jsx(al,{className:"w-4 h-4 text-destructive"})})]},H.id))})]}),t.length===0&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add people to start splitting the bill"}),u.jsx(fH,{open:x,onOpenChange:_,onAddPerson:h}),u.jsx(mH,{open:E,onOpenChange:b,onAddSquad:re})]})}function H2({item:t,people:e,itemAssignments:n,onAssign:r,showSplit:s=!1}){return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex flex-wrap gap-1.5 md:gap-2",children:e.map(i=>{const o=(n[t.id]||[]).includes(i.id);return u.jsxs(Sc,{variant:o?"default":"outline",className:`cursor-pointer px-2 py-1 md:px-3 md:py-1.5 text-xs md:text-sm transition-all hover:scale-105 ${o?"bg-primary text-primary-foreground shadow-md":"hover:bg-secondary hover:border-primary/50"}`,onClick:()=>r(t.id,i.id,!o),children:[i.name,o&&u.jsx(pi,{className:"w-3 h-3 ml-1.5"})]},i.id)})}),s&&(n[t.id]||[]).length>0&&u.jsx("div",{className:"text-xs text-muted-foreground space-y-0.5",children:e.filter(i=>(n[t.id]||[]).includes(i.id)).map(i=>{const o=t.price/(n[t.id]||[]).length;return u.jsxs("p",{children:[i.name,": $",o.toFixed(2)]},i.id)})})]})}function df({mode:t,itemName:e,itemPrice:n,onNameChange:r,onPriceChange:s,onSave:i,onCancel:o,layout:a="card"}){const l=(h,f)=>{h.key==="Enter"&&f&&i()},c=e.trim()&&n.trim();return a==="table"?u.jsxs(u.Fragment,{children:[u.jsx(Ne,{placeholder:qi.ENTER_ITEM_NAME,value:e,onChange:h=>r(h.target.value),onKeyPress:h=>l(h,!!c),className:"h-8",autoFocus:t==="add"}),u.jsxs("div",{className:"relative ml-auto w-24",children:[u.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"$"}),u.jsx(Ne,{type:"number",placeholder:qi.PRICE_PLACEHOLDER,value:n,onChange:h=>s(h.target.value),onKeyPress:h=>l(h,!!c),className:"h-8 text-right pl-5",step:"0.01",min:"0"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{size:"sm",className:t==="add"?"bg-green-600 hover:bg-green-700":"",variant:t==="edit"?"ghost":"default",onClick:i,children:u.jsx(pi,{className:`w-4 h-4 ${t==="edit"?"text-green-600":""}`})}),u.jsx(J,{size:"sm",variant:t==="edit"?"ghost":"outline",onClick:o,children:u.jsx(as,{className:`w-4 h-4 ${t==="edit"?"text-muted-foreground":""}`})})]})]}):u.jsxs("div",{className:"space-y-2 md:space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:qi.ITEM_NAME}),u.jsx(Ne,{placeholder:qi.ENTER_ITEM_NAME,value:e,onChange:h=>r(h.target.value),onKeyPress:h=>l(h,!!c),className:"text-sm md:text-base",autoFocus:t==="add"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-1 block",children:qi.PRICE}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),u.jsx(Ne,{type:"number",placeholder:qi.PRICE_PLACEHOLDER,value:n,onChange:h=>s(h.target.value),onKeyPress:h=>l(h,!!c),className:"text-sm md:text-base text-right pl-8",step:"0.01",min:"0"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(J,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:i,children:[u.jsx(pi,{className:"w-4 h-4 mr-2"}),t==="add"?ye.ADD_ITEM:ye.SAVE]}),u.jsxs(J,{variant:"outline",className:"flex-1",onClick:o,children:[u.jsx(as,{className:"w-4 h-4 mr-2"}),ye.CANCEL]})]})]})}function xH({billData:t,people:e,itemAssignments:n,editingItemId:r,editingName:s,editingPrice:i,onEdit:o,onSave:a,onCancel:l,onDelete:c,onAssign:h,setEditingName:f,setEditingPrice:m,isAdding:p,newItemName:I,newItemPrice:v,setNewItemName:x,setNewItemPrice:_,onStartAdding:E,onAddItem:b,onCancelAdding:P,splitEvenly:D,onToggleSplitEvenly:j}){const S=(t==null?void 0:t.items)||[];return u.jsxs(u.Fragment,{children:[!p&&u.jsxs("div",{className:"mb-3 flex flex-col gap-2",children:[u.jsxs(J,{onClick:E,className:"w-full gap-2",children:[u.jsx(Ua,{className:"w-4 h-4"}),ye.ADD_ITEM]}),e.length>0&&u.jsxs(J,{onClick:j,variant:D?"default":"outline",className:"w-full gap-2",children:[u.jsx(xt,{className:"w-4 h-4"}),ye.SPLIT_EVENLY]})]}),p&&u.jsx(ze,{className:"p-3 md:p-4 border-2 border-primary mb-3",children:u.jsx(df,{mode:"add",itemName:I,itemPrice:v,onNameChange:x,onPriceChange:_,onSave:b,onCancel:P,layout:"card"})}),S.length===0&&!p&&u.jsx(ze,{className:"p-8 text-center",children:u.jsx("p",{className:"text-muted-foreground",children:ye.NO_ITEMS_YET})}),S.map(T=>{const C=r===T.id,A=(n[T.id]||[]).length>0;return u.jsx(ze,{className:`p-3 md:p-4 space-y-2 md:space-y-3 border-2 transition-all duration-300 ${A?"border-primary shadow-lg shadow-primary/20 bg-primary/5":"border-border"}`,children:C?u.jsx(df,{mode:"edit",itemName:s,itemPrice:i,onNameChange:f,onPriceChange:m,onSave:a,onCancel:l,layout:"card"}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-semibold text-sm md:text-base",children:T.name}),u.jsxs("p",{className:"text-lg md:text-xl font-bold text-primary mt-1",children:["$",T.price.toFixed(2)]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{size:"sm",variant:"outline",onClick:()=>o(T.id,T.name,T.price),className:"h-8 w-8 md:h-9 md:w-9 p-0",children:u.jsx(vu,{className:"w-4 h-4"})}),u.jsx(J,{size:"sm",variant:"outline",onClick:()=>c(T.id),className:"h-8 w-8 md:h-9 md:w-9 p-0 text-destructive hover:text-destructive",children:u.jsx(al,{className:"w-4 h-4"})})]})]}),e.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:qi.ASSIGN_TO}),u.jsx(H2,{item:T,people:e,itemAssignments:n,onAssign:h,showSplit:!0})]})]})},T.id)})]})}const G2=y.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:le("w-full caption-bottom text-sm",t),...e})}));G2.displayName="Table";const K2=y.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:le("[&_tr]:border-b",t),...e}));K2.displayName="TableHeader";const Q2=y.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:le("",t),...e}));Q2.displayName="TableBody";const _H=y.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));_H.displayName="TableFooter";const ac=y.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:le("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));ac.displayName="TableRow";const lc=y.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));lc.displayName="TableHead";const Gn=y.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:le("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gn.displayName="TableCell";const EH=y.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:le("mt-4 text-sm text-muted-foreground",t),...e}));EH.displayName="TableCaption";var Rm="Popover",[Y2,GK]=ur(Rm,[dl]),Ou=dl(),[IH,ki]=Y2(Rm),X2=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=Ou(e),l=y.useRef(null),[c,h]=y.useState(!1),[f,m]=ol({prop:r,defaultProp:s??!1,onChange:i,caller:Rm});return u.jsx(tC,{...a,children:u.jsx(IH,{scope:e,contentId:oi(),triggerRef:l,open:f,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:c,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:o,children:n})})};X2.displayName=Rm;var J2="PopoverAnchor",TH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ki(J2,n),i=Ou(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return y.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx($f,{...i,...r,ref:e})});TH.displayName=J2;var Z2="PopoverTrigger",ek=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ki(Z2,n),i=Ou(n),o=Ke(e,s.triggerRef),a=u.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ik(s.open),...r,ref:o,onClick:ee(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:u.jsx($f,{asChild:!0,...i,children:a})});ek.displayName=Z2;var C0="PopoverPortal",[bH,SH]=Y2(C0,{forceMount:void 0}),tk=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=ki(C0,e);return u.jsx(bH,{scope:e,forceMount:n,children:u.jsx(In,{present:n||i.open,children:u.jsx(gu,{asChild:!0,container:s,children:r})})})};tk.displayName=C0;var el="PopoverContent",nk=y.forwardRef((t,e)=>{const n=SH(el,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=ki(el,t.__scopePopover);return u.jsx(In,{present:r||i.open,children:i.modal?u.jsx(AH,{...s,ref:e}):u.jsx(NH,{...s,ref:e})})});nk.displayName=el;var CH=po("PopoverContent.RemoveScroll"),AH=y.forwardRef((t,e)=>{const n=ki(el,t.__scopePopover),r=y.useRef(null),s=Ke(e,r),i=y.useRef(!1);return y.useEffect(()=>{const o=r.current;if(o)return a0(o)},[]),u.jsx(Im,{as:CH,allowPinchZoom:!0,children:u.jsx(rk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ee(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),NH=y.forwardRef((t,e)=>{const n=ki(el,t.__scopePopover),r=y.useRef(!1),s=y.useRef(!1);return u.jsx(rk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),rk=y.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:h,...f}=t,m=ki(el,n),p=Ou(n);return o0(),u.jsx(xm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(il,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(tw,{"data-state":ik(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),sk="PopoverClose",PH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=ki(sk,n);return u.jsx(ve.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});PH.displayName=sk;var RH="PopoverArrow",kH=y.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ou(n);return u.jsx(nw,{...s,...r,ref:e})});kH.displayName=RH;function ik(t){return t?"open":"closed"}var DH=X2,MH=ek,jH=tk,ok=nk;const OH=DH,LH=MH,ak=y.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>u.jsx(jH,{children:u.jsx(ok,{ref:s,align:e,sideOffset:n,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));ak.displayName=ok.displayName;function VH({item:t,people:e,itemAssignments:n,onAssign:r,showSplit:s=!1}){return u.jsxs("div",{className:"space-y-2",children:[u.jsxs(OH,{children:[u.jsx(LH,{asChild:!0,children:u.jsxs(J,{variant:"outline",className:"w-full justify-between hover:bg-secondary",children:[(n[t.id]||[]).length===0?"Select people...":`${(n[t.id]||[]).length} selected`,u.jsx(yS,{className:"ml-2 h-4 w-4 opacity-50"})]})}),u.jsx(ak,{className:"w-64 p-0",children:u.jsx("div",{className:"p-2 space-y-1",children:e.map(i=>{const o=(n[t.id]||[]).includes(i.id);return u.jsxs("div",{className:`flex items-center space-x-3 px-3 py-2.5 rounded-md cursor-pointer transition-all ${o?"bg-primary/10 hover:bg-primary/20":"hover:bg-secondary"}`,onClick:()=>r(t.id,i.id,!o),children:[u.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${o?"bg-primary border-primary":"border-input"}`,children:o&&u.jsx(pi,{className:"w-3 h-3 text-primary-foreground"})}),u.jsx("span",{className:"text-sm font-medium flex-1",children:i.name})]},i.id)})})})]}),s&&(n[t.id]||[]).length>0&&u.jsx("div",{className:"text-xs text-muted-foreground space-y-0.5",children:e.filter(i=>(n[t.id]||[]).includes(i.id)).map(i=>{const o=t.price/(n[t.id]||[]).length;return u.jsxs("p",{children:[i.name,": $",o.toFixed(2)]},i.id)})})]})}function FH({billData:t,people:e,itemAssignments:n,assignmentMode:r,editingItemId:s,editingItemName:i,editingItemPrice:o,onEdit:a,onSave:l,onCancel:c,onDelete:h,onAssign:f,setEditingName:m,setEditingPrice:p,isAdding:I,newItemName:v,newItemPrice:x,setNewItemName:_,setNewItemPrice:E,onStartAdding:b,onAddItem:P,onCancelAdding:D,splitEvenly:j,onToggleSplitEvenly:S}){const T=(t==null?void 0:t.items)||[];return u.jsxs(u.Fragment,{children:[!I&&u.jsxs("div",{className:"mb-4 flex gap-2",children:[u.jsxs(J,{onClick:b,className:"gap-2",children:[u.jsx(Ua,{className:"w-4 h-4"}),ye.ADD_ITEM]}),e.length>0&&u.jsxs(J,{onClick:S,variant:j?"default":"outline",className:"gap-2",children:[u.jsx(xt,{className:"w-4 h-4"}),ye.SPLIT_EVENLY]})]}),u.jsx("div",{className:"rounded-md border overflow-x-auto",children:u.jsxs(G2,{children:[u.jsx(K2,{children:u.jsxs(ac,{children:[u.jsx(lc,{className:"min-w-[150px]",children:"Item"}),u.jsx(lc,{className:"text-right min-w-[80px]",children:"Price"}),e.length>0&&u.jsx(lc,{className:"min-w-[200px]",children:"Assigned To"}),u.jsx(lc,{className:"w-[100px]",children:"Actions"})]})}),u.jsxs(Q2,{children:[I&&u.jsxs(ac,{className:"bg-primary/5",children:[u.jsx(Gn,{children:u.jsx(df,{mode:"add",itemName:v,itemPrice:x,onNameChange:_,onPriceChange:E,onSave:P,onCancel:D,layout:"table"})}),u.jsx(Gn,{className:"text-right"}),e.length>0&&u.jsx(Gn,{}),u.jsx(Gn,{})]}),T.length===0&&!I?u.jsx(ac,{children:u.jsx(Gn,{colSpan:e.length>0?4:3,className:"text-center py-8 text-muted-foreground",children:ye.NO_ITEMS_YET})}):T.map(C=>{const A=(n[C.id]||[]).length>0;return u.jsxs(ac,{className:`transition-all duration-300 ${A?"border-l-4 !border-l-primary bg-primary/5":"border-l-4 border-l-transparent"}`,children:[s===C.id?u.jsx(u.Fragment,{children:u.jsx(Gn,{colSpan:2,children:u.jsx("div",{className:"flex items-center gap-2",children:u.jsx(df,{mode:"edit",itemName:i,itemPrice:o,onNameChange:m,onPriceChange:p,onSave:l,onCancel:c,layout:"table"})})})}):u.jsxs(u.Fragment,{children:[u.jsx(Gn,{className:"font-medium",children:C.name}),u.jsxs(Gn,{className:"text-right",children:["$",C.price.toFixed(2)]})]}),e.length>0&&u.jsx(Gn,{children:r==="checkboxes"?u.jsx(H2,{item:C,people:e,itemAssignments:n,onAssign:f,showSplit:!0}):u.jsx(VH,{item:C,people:e,itemAssignments:n,onAssign:f,showSplit:!0})}),u.jsx(Gn,{children:s!==C.id&&u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{size:"sm",variant:"ghost",onClick:()=>a(C.id,C.name,C.price),children:u.jsx(vu,{className:"w-4 h-4"})}),u.jsx(J,{size:"sm",variant:"ghost",onClick:()=>h(C.id),children:u.jsx(al,{className:"w-4 h-4 text-destructive"})})]})})]},C.id)})]})]})})]})}function hf(t){return ju()?u.jsx("div",{className:"space-y-3",children:u.jsx(xH,{billData:t.billData,people:t.people,itemAssignments:t.itemAssignments,editingItemId:t.editingItemId,editingName:t.editingItemName,editingPrice:t.editingItemPrice,onEdit:t.onEdit,onSave:t.onSave,onCancel:t.onCancel,onDelete:t.onDelete,onAssign:t.onAssign,setEditingName:t.setEditingName,setEditingPrice:t.setEditingPrice,isAdding:t.isAdding,newItemName:t.newItemName,newItemPrice:t.newItemPrice,setNewItemName:t.setNewItemName,setNewItemPrice:t.setNewItemPrice,onStartAdding:t.onStartAdding,onAddItem:t.onAddItem,onCancelAdding:t.onCancelAdding,splitEvenly:t.splitEvenly,onToggleSplitEvenly:t.onToggleSplitEvenly})}):u.jsx(FH,{...t})}function ff({billData:t,customTip:e,effectiveTip:n,onTipChange:r}){return u.jsxs("div",{className:"mt-4 md:mt-6 space-y-2 border-t pt-3 md:pt-4",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),u.jsxs("span",{className:"font-medium",children:["$",t.subtotal.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),u.jsxs("span",{className:"font-medium",children:["$",t.tax.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm md:text-base",children:[u.jsx("span",{className:"text-muted-foreground font-semibold",children:"Tip:"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:"$"}),u.jsx(Ne,{type:"number",placeholder:t.tip.toFixed(2),value:e,onChange:s=>r(s.target.value),className:"w-28 md:w-32 h-9 md:h-10 text-right text-sm md:text-base pl-6",step:"0.01",min:"0"})]})})]}),u.jsxs("div",{className:"flex justify-between text-base md:text-lg font-bold border-t pt-2",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{children:["$",(t.subtotal+t.tax+n).toFixed(2)]})]})]})}function UH(t){const e=encodeURIComponent(t.note),n=t.amount.toFixed(2);return`venmo://paycharge?txn=charge&recipients=${t.recipientId}&amount=${n}&note=${e}`}function $H(t){const e=UH(t);Io.isNativePlatform()?window.open(e,"_system"):window.location.href=e}function lI(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)}function zH(t){const e=encodeURIComponent(t.note),n=t.amount.toFixed(2);return`https://venmo.com/?txn=charge&recipients=${t.recipientId}&amount=${n}&note=${e}`}function BH({charge:t,open:e,onOpenChange:n}){const[r,s]=y.useState(""),[i,o]=y.useState("");if(y.useEffect(()=>{t!=null&&t.recipientId?s(t.recipientId):s(""),t!=null&&t.note?o(t.note):o("")},[t]),!t)return null;const a=()=>{const l={...t,recipientId:r.trim(),note:i.trim()||"Bill Split"};lI()?$H(l):window.open(zH(l),"_blank"),n(!1)};return u.jsx(Pi,{open:e,onOpenChange:n,children:u.jsxs(ys,{className:"sm:max-w-[425px]",children:[u.jsxs(vs,{children:[u.jsx(ws,{children:"Charge on Venmo"}),u.jsx(Ri,{children:"Review the charge details before opening Venmo"})]}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4 space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Charging:"}),u.jsx("span",{className:"font-semibold",children:t.recipientName})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(on,{htmlFor:"venmoId",children:["Venmo ID ",u.jsx("span",{className:"text-xs text-muted-foreground",children:"(without @)"})]}),u.jsx(Ne,{id:"venmoId",placeholder:"Enter their Venmo username",value:r,onChange:l=>s(l.target.value),className:"font-mono"})]}),u.jsxs("div",{className:"flex justify-between items-center border-t pt-3",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),u.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",t.amount.toFixed(2)]})]}),u.jsxs("div",{className:"border-t pt-3 space-y-2",children:[u.jsx(on,{htmlFor:"description",children:"Description"}),u.jsx(Ne,{id:"description",placeholder:"Enter payment description",value:i,onChange:l=>o(l.target.value),className:"text-sm"})]})]}),!lI()&&u.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Venmo app not detected. Opening in browser instead."})]}),u.jsxs(v0,{children:[u.jsx(J,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),u.jsxs(J,{onClick:a,className:"gap-2",children:[u.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19.384 4.616c.616.952.933 2.064.933 3.432 0 4.284-3.636 9.816-6.612 13.248H6.864L4.8 4.728l6.12-.576 1.176 13.488c1.44-2.304 3.576-6.144 3.576-8.688 0-1.176-.24-2.064-.696-2.832l4.608-1.504z"})}),"Open Venmo"]})]})]})})}function mf({personTotals:t,allItemsAssigned:e,people:n,billData:r,itemAssignments:s,billName:i="Bill Split"}){const{user:o}=zn(),{profile:a}=Am(),{toast:l}=cn(),[c,h]=y.useState(!1),[f,m]=y.useState(!1),[p,I]=y.useState(null),v=_=>{const E=[];return r.items.forEach(b=>{const P=s[b.id]||[];if(P.includes(_)){const D=P.length;D>1?E.push(`${b.name} (split ${D} ways)`):E.push(b.name)}}),E.length===0?`${i} - Your share`:`${i}: ${E.join(", ")}`},x=(_,E)=>{if(!o){l({title:Yr.SIGN_IN_REQUIRED,description:Yr.SIGN_IN_FOR_VENMO,variant:"destructive"});return}if(!(a!=null&&a.venmoId)){l({title:Yr.VENMO_ID_REQUIRED,description:Yr.VENMO_ID_REQUIRED_DESC,variant:"destructive"}),m(!0);return}const b={recipientId:E||"",recipientName:_.name,amount:_.total,note:v(_.personId)};I(b),h(!0)};return e?t.length===0?null:u.jsxs(u.Fragment,{children:[u.jsxs(ze,{className:"p-3 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(dO,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),u.jsx("h3",{className:"text-lg md:text-xl font-semibold",children:ye.SPLIT_SUMMARY})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:t.map(_=>u.jsxs("div",{className:"p-3 md:p-4 bg-secondary/30 rounded-lg border border-primary/10",children:[u.jsx("div",{className:"font-semibold text-base md:text-lg mb-2 md:mb-3",children:_.name}),u.jsxs("div",{className:"space-y-1 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Items:"}),u.jsxs("span",{children:["$",_.itemsSubtotal.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground",children:"Tax:"}),u.jsxs("span",{children:["$",_.tax.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-muted-foreground font-semibold",children:"Tip:"}),u.jsxs("span",{className:"font-semibold",children:["$",_.tip.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between font-bold text-base border-t pt-2 mt-2",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{className:"text-primary",children:["$",_.total.toFixed(2)]})]})]}),o&&(()=>{const E=n.find(b=>b.id===_.personId);return u.jsxs(J,{variant:"outline",size:"sm",className:"w-full mt-3 gap-2",onClick:()=>x(_,E==null?void 0:E.venmoId),children:[u.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19.384 4.616c.616.952.933 2.064.933 3.432 0 4.284-3.636 9.816-6.612 13.248H6.864L4.8 4.728l6.12-.576 1.176 13.488c1.44-2.304 3.576-6.144 3.576-8.688 0-1.176-.24-2.064-.696-2.832l4.608-1.504z"})}),ye.CHARGE_ON_VENMO]})})()]},_.personId))})]}),u.jsx(BH,{charge:p,open:c,onOpenChange:h}),u.jsx(T2,{open:f,onOpenChange:m})]}):u.jsx(ze,{className:"p-6 bg-amber-50 dark:bg-amber-950/20 border-amber-200 dark:border-amber-800",children:u.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 text-center",children:Yr.ASSIGN_ALL_ITEMS})})}function pf({mode:t,onModeChange:e}){return u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("div",{className:"inline-flex items-center rounded-lg border border-border bg-background p-1 shadow-sm",children:[u.jsxs("button",{onClick:()=>e("checkboxes"),className:`inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium transition-all ${t==="checkboxes"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[u.jsx(aO,{className:"w-3.5 h-3.5 mr-2"}),"Badges"]}),u.jsxs("button",{onClick:()=>e("dropdown"),className:`inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium transition-all ${t==="dropdown"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:bg-muted hover:text-foreground"}`,children:[u.jsx(yS,{className:"w-3.5 h-3.5 mr-2"}),"Dropdown"]})]})})}function qH(){return u.jsxs("div",{className:"grid md:grid-cols-3 gap-4 md:gap-6 mt-8 md:mt-12",children:[u.jsxs(ze,{className:"p-4 md:p-6 text-center space-y-2 md:space-y-3 hover:shadow-medium transition-all duration-300",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(gi,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"})}),u.jsx("h4",{className:"text-sm md:text-base font-semibold",children:Ho.AI_POWERED.title}),u.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:Ho.AI_POWERED.description})]}),u.jsxs(ze,{className:"p-4 md:p-6 text-center space-y-2 md:space-y-3 hover:shadow-medium transition-all duration-300",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-accent/10 flex items-center justify-center mx-auto",children:u.jsx(xt,{className:"w-5 h-5 md:w-6 md:h-6 text-accent"})}),u.jsx("h4",{className:"text-sm md:text-base font-semibold",children:Ho.FAIR_SPLITTING.title}),u.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:Ho.FAIR_SPLITTING.description})]}),u.jsxs(ze,{className:"p-4 md:p-6 text-center space-y-2 md:space-y-3 hover:shadow-medium transition-all duration-300",children:[u.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-primary-glow/10 flex items-center justify-center mx-auto",children:u.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6 text-primary-glow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),u.jsx("h4",{className:"text-sm md:text-base font-semibold",children:Ho.INSTANT_RESULTS.title}),u.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:Ho.INSTANT_RESULTS.description})]})]})}function WH(t,e,n,r){if(!t||e.length===0)return[];const s={};e.forEach(a=>{s[a.id]=0}),t.items.forEach(a=>{const l=n[a.id]||[];if(l.length>0){const c=a.price/l.length;l.forEach(h=>{s[h]!==void 0&&(s[h]+=c)})}});const i=Object.values(s).reduce((a,l)=>a+l,0);return e.map(a=>{const l=s[a.id],c=i>0?l/i:0,h=t.tax*c,f=r*c,m=l+h+f;return{personId:a.id,name:a.name,itemsSubtotal:l,tax:h,tip:f,total:m}}).filter(a=>a.total>0)}function HH(t,e){return t?t.items.every(n=>(e[n.id]||[]).length>0):!1}function lk(t){const[e,n]=y.useState(null),[r,s]=y.useState({}),[i,o]=y.useState("checkboxes"),[a,l]=y.useState(""),[c,h]=y.useState(!1),f=y.useRef(null),{toast:m}=cn(),p=y.useMemo(()=>{const j=parseFloat(a);return!isNaN(j)&&j>=0?j:(e==null?void 0:e.tip)||0},[a,e]),I=y.useMemo(()=>HH(e,r),[e,r]),v=y.useMemo(()=>I?WH(e,t,r,p):[],[e,t,r,I,p]),x=(j,S,T)=>{const C=r[j]||[];s(T?{...r,[j]:[...C,S]}:{...r,[j]:C.filter(A=>A!==S)})},_=j=>{const S={...r};Object.keys(S).forEach(T=>{S[T]=S[T].filter(C=>C!==j)}),s(S)},E=j=>{const S={...r};delete S[j],s(S)},b=()=>{if(!e||t.length===0)return;const j={};e.items.forEach(S=>{j[S.id]=t.map(T=>T.id)}),s(j)},P=()=>{const j=!c;h(j),j?(b(),m({title:"Split evenly enabled",description:"All items will be split equally among all people."})):m({title:"Split evenly disabled",description:"You can now manually assign items to people."})};return y.useEffect(()=>{c&&e&&t.length>0&&b()},[c,e==null?void 0:e.items.length,t.length]),{billData:e,setBillData:n,itemAssignments:r,assignmentMode:i,setAssignmentMode:o,customTip:a,setCustomTip:l,effectiveTip:p,allItemsAssigned:I,personTotals:v,handleItemAssignment:x,removePersonFromAssignments:_,removeItemAssignments:E,splitEvenly:c,toggleSplitEvenly:P,reset:()=>{n(null),s({}),l(""),h(!1),f.current&&(f.current.value=""),m({title:"Reset complete",description:"Starting fresh!"})},fileInputRef:f}}function ng(t,e,n){const r=t.reduce((i,o)=>i+o.price,0),s=r+e+n;return{subtotal:r,total:s}}function GH(t,e){const n=[...t.items,...e.items],r=t.subtotal+e.subtotal,s=t.tax||e.tax,i=t.tip||e.tip,o=r+s+i;return{...t,items:n,subtotal:r,tax:s,tip:i,total:o,restaurantName:t.restaurantName||e.restaurantName}}function KH(t){return`item-${Date.now()}`}function cI(){return`person-${Date.now()}`}function QH(t){return`user-${t}`}const YH=["image/jpeg","image/png","image/heic","image/heif"],XH=20*1024*1024,uI={items:[{id:"item-1",name:"Super Burrito w/ Grilled Chicken",price:18},{id:"item-2",name:"Super Burrito w/ Grilled Chicken",price:18},{id:"item-3",name:"Mexican Omelette Country Potatoes Toasted SourDough",price:17}],subtotal:95,tax:8.91,tip:0,total:103.91},JH=[{id:"person-1",name:"Aman"},{id:"person-2",name:"Simran"}];function ZH(t){return YH.includes(t.type)?t.size>XH?{title:"File too large",description:"Please upload an image smaller than 20MB."}:null:{title:"Invalid file type",description:"Please upload a JPG, PNG, or HEIC image."}}function dI(t,e){if(!t.trim())return{isValid:!1,error:{title:"Invalid name",description:"Item name cannot be empty."}};const n=parseFloat(e);return isNaN(n)||n<0?{isValid:!1,error:{title:"Invalid price",description:"Please enter a valid price."}}:{isValid:!0}}function eG(t){return t.trim()?{isValid:!0}:{isValid:!1,error:{title:"Name required",description:"Please enter a person's name."}}}function Kl(t){const e=parseFloat(t);return isNaN(e)||e<0?0:e}async function tG(t,e){try{const n=wn(sn,"users",t),r={name:e.name.trim()};return e.venmoId&&(r.venmoId=e.venmoId),await lo(n,{friends:g8(r)},{merge:!0}),{success:!0}}catch(n){return console.error("Error saving friend to Firestore:",n),{success:!1,error:{title:"Error saving friend",description:n.message||"Could not save to friends list."}}}}function nG(t,e,n){const r=t.trim(),s=e.trim(),i={name:r};return n?i.venmoId=r:s&&(i.venmoId=s),i}function ck(){const[t,e]=y.useState([]),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(!1),[l,c]=y.useState(!1),{user:h}=zn(),{profile:f}=Am(),{toast:m}=cn();return y.useEffect(()=>{if(h&&h.displayName){const x=QH(h.uid);if(!t.some(E=>E.id===x)){const E={id:x,name:h.displayName,venmoId:f==null?void 0:f.venmoId};e(b=>[E,...b])}}},[h,f==null?void 0:f.venmoId]),{people:t,newPersonName:n,newPersonVenmoId:s,useNameAsVenmoId:o,saveToFriendsList:l,setNewPersonName:r,setNewPersonVenmoId:i,setUseNameAsVenmoId:a,setSaveToFriendsList:c,addPerson:async()=>{const x=eG(n);if(!x.isValid&&x.error){m({title:x.error.title,description:x.error.description,variant:"destructive"});return}const _=nG(n,s,o),E={id:cI(),..._};if(e([...t,E]),l&&h){const b=await tG(h.uid,_);b.success?m({title:"Saved to friends",description:`${_.name} has been saved to your friends list.`}):b.error&&m({title:b.error.title,description:b.error.description,variant:"destructive"})}r(""),i(""),a(!1),c(!1)},addFromFriend:x=>{const _={id:cI(),name:x.name,venmoId:x.venmoId};e([...t,_]),m({title:"Friend added",description:`${x.name} has been added to the bill.`})},removePerson:x=>{e(t.filter(_=>_.id!==x))},setPeople:e}}function uk(){const[t,e]=y.useState(null),[n,r]=y.useState(null),[s,i]=y.useState(!1),o=y.useRef(null),{toast:a}=cn(),l=I=>{const v=ZH(I);if(v){a({title:v.title,description:v.description,variant:"destructive"});return}e(I);const x=new FileReader;x.onloadend=()=>{r(x.result)},x.readAsDataURL(I)};return{selectedFile:t,imagePreview:n,isDragging:s,fileInputRef:o,handleFileInput:I=>{var x;const v=(x=I.target.files)==null?void 0:x[0];v&&l(v)},handleDragOver:I=>{I.preventDefault(),i(!0)},handleDragLeave:I=>{I.preventDefault(),i(!1)},handleDrop:I=>{var x;I.preventDefault(),i(!1);const v=(x=I.dataTransfer.files)==null?void 0:x[0];v&&l(v)},handleRemoveImage:()=>{e(null),r(null),o.current&&(o.current.value="")},setSelectedFile:e,setImagePreview:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG="type.googleapis.com/google.protobuf.Int64Value",sG="type.googleapis.com/google.protobuf.UInt64Value";function dk(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function gf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>gf(e));if(typeof t=="function"||typeof t=="object")return dk(t,e=>gf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function tl(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case rG:case sG:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>tl(e)):typeof t=="function"||typeof t=="object"?dk(t,e=>tl(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jt extends $n{constructor(e,n,r){super(`${A0}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Jt.prototype)}}function iG(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function yf(t,e){let n=iG(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!hI[o])return new Jt("internal","internal");n=hI[o],r=o}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=tl(s))}}catch{}return n==="ok"?null:new Jt(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e,n,r,s){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Pn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s==null||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="us-central1",aG=/^data: (.*?)(?:\n|$)/;function lG(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Jt("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class cG{constructor(e,n,r,s,i=By,o=(...a)=>fetch(...a)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new oG(e,n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=By}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function uG(t,e,n){const r=Ai(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(lw(t.emulatorOrigin+"/backends"),cw("Functions",!0))}function dG(t,e,n){const r=s=>fG(t,e,s,{});return r.stream=(s,i)=>pG(t,e,s,i),r}function hk(t){return t.emulatorOrigin&&Ai(t.emulatorOrigin)?"include":void 0}async function hG(t,e,n,r,s){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:hk(s)})}catch{return{status:0,json:null}}let o=null;try{o=await i.json()}catch{}return{status:i.status,json:o}}async function fk(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function fG(t,e,n,r){const s=t._url(e);return mG(t,s,n,r)}async function mG(t,e,n,r){n=gf(n);const s={data:n},i=await fk(t,r),o=r.timeout||7e4,a=lG(o),l=await Promise.race([hG(e,s,i,t.fetchImpl,t),a.promise,t.cancelAllRequests]);if(a.cancel(),!l)throw new Jt("cancelled","Firebase Functions instance was deleted.");const c=yf(l.status,l.json);if(c)throw c;if(!l.json)throw new Jt("internal","Response is not valid JSON object.");let h=l.json.data;if(typeof h>"u"&&(h=l.json.result),typeof h>"u")throw new Jt("internal","Response is missing data field.");return{data:tl(h)}}function pG(t,e,n,r){const s=t._url(e);return gG(t,s,n,r||{})}async function gG(t,e,n,r){var m;n=gf(n);const s={data:n},i=await fk(t,r);i["Content-Type"]="application/json",i.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(s),headers:i,signal:r==null?void 0:r.signal,credentials:hk(t)})}catch(p){if(p instanceof Error&&p.name==="AbortError"){const v=new Jt("cancelled","Request was cancelled.");return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}const I=yf(0,null);return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}let a,l;const c=new Promise((p,I)=>{a=p,l=I});(m=r==null?void 0:r.signal)==null||m.addEventListener("abort",()=>{const p=new Jt("cancelled","Request was cancelled.");l(p)});const h=o.body.getReader(),f=yG(h,a,l,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const p=f.getReader();return{async next(){const{value:I,done:v}=await p.read();return{value:I,done:v}},async return(){return await p.cancel(),{done:!0,value:void 0}}}}},data:c}}function yG(t,e,n,r){const s=(o,a)=>{const l=o.match(aG);if(!l)return;const c=l[1];try{const h=JSON.parse(c);if("result"in h){e(tl(h.result));return}if("message"in h){a.enqueue(tl(h.message));return}if("error"in h){const f=yf(0,h);a.error(f),n(f);return}}catch(h){if(h instanceof Jt){a.error(h),n(h);return}}},i=new TextDecoder;return new ReadableStream({start(o){let a="";return l();async function l(){if(r!=null&&r.aborted){const c=new Jt("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:h}=await t.read();if(h){a.trim()&&s(a.trim(),o),o.close();return}if(r!=null&&r.aborted){const m=new Jt("cancelled","Request was cancelled");o.error(m),n(m),await t.cancel();return}a+=i.decode(c,{stream:!0});const f=a.split(`
`);a=f.pop()||"";for(const m of f)m.trim()&&s(m.trim(),o);return l()}catch(c){const h=c instanceof Jt?c:yf(0,null);o.error(h),n(h)}}},cancel(){return t.cancel()}})}const fI="@firebase/functions",mI="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG="auth-internal",wG="app-check-internal",xG="messaging-internal";function _G(t){const e=(n,{instanceIdentifier:r})=>{const s=n.getProvider("app").getImmediate(),i=n.getProvider(vG),o=n.getProvider(xG),a=n.getProvider(wG);return new cG(s,i,o,a,r)};lr(new Un(A0,e,"PUBLIC").setMultipleInstances(!0)),nn(fI,mI,t),nn(fI,mI,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(t=Qf(),e=By){const r=Ni(lt(t),A0).getImmediate({identifier:e}),s=DC("functions");return s&&IG(r,...s),r}function IG(t,e,n){uG(lt(t),e,n)}function TG(t,e,n){return dG(lt(t),e)}_G();const bG=EG(wm);async function SG(t){try{return(await TG(bG,"analyzeBill")({base64Image:t})).data}catch(e){if(console.error("Error analyzing bill:",e),e&&typeof e=="object"&&"code"in e){const n=e;throw n.code==="unauthenticated"?new Error("Please sign in to analyze receipts"):n.code==="invalid-argument"?new Error("Invalid image format. Please upload a valid receipt image"):new Error(`Failed to analyze receipt: ${n.message}`)}throw e instanceof Error?new Error(`Failed to analyze receipt: ${e.message}`):new Error("Failed to analyze receipt. Please try again.")}}function mk(t,e,n){const[r,s]=y.useState(!1),{toast:i}=cn();return{isAnalyzing:r,analyzeReceipt:async l=>{if(l){s(!0);try{const c=await SG(l);if(n){const h=GH(n,c);t(h),i({title:"Success!",description:`Added ${c.items.length} new items to your bill.`})}else t(c),i({title:"Success!",description:`Extracted ${c.items.length} items from your receipt.`})}catch(c){i({title:"Analysis Failed",description:c instanceof Error?c.message:"Could not analyze receipt. Please try again.",variant:"destructive"})}finally{s(!1)}}},loadMockData:()=>{t(uI),e(JH),i({title:"Mock data loaded",description:`Loaded ${uI.items.length} test items.`})}}}function pk(t,e,n,r){const[s,i]=y.useState(null),[o,a]=y.useState(""),[l,c]=y.useState(""),[h,f]=y.useState(!1),[m,p]=y.useState(""),[I,v]=y.useState(""),{toast:x}=cn(),_=(T,C,A)=>{i(T),a(C),c(A.toString())},E=()=>{if(!t||!s)return;const T=dI(o,l);if(!T.isValid&&T.error){x({title:T.error.title,description:T.error.description,variant:"destructive"});return}const C=Kl(l),A=t.items.map(B=>B.id===s?{...B,name:o.trim(),price:C}:B),k=Kl(n)||t.tip,{subtotal:M,total:R}=ng(A,t.tax,k);e({...t,items:A,subtotal:M,total:R}),b()},b=()=>{i(null),a(""),c("")},P=T=>{if(!t)return;const C=t.items.filter(R=>R.id!==T),A=Kl(n)||t.tip,{subtotal:k,total:M}=ng(C,t.tax,A);e({...t,items:C,subtotal:k,total:M}),r(T),x({title:"Item deleted",description:"Item removed from the bill."})},D=()=>{f(!0),p(""),v("")},j=()=>{const T=dI(m,I);if(!T.isValid&&T.error){x({title:T.error.title,description:T.error.description,variant:"destructive"});return}const C=Kl(I),A={id:KH(),name:m.trim(),price:C};if(!t)e({items:[A],subtotal:C,tax:0,tip:0,total:C});else{const k=[...t.items,A],M=Kl(n)||t.tip,{subtotal:R,total:B}=ng(k,t.tax,M);e({...t,items:k,subtotal:R,total:B})}x({title:"Item added",description:`${A.name} added to the bill.`}),S()},S=()=>{f(!1),p(""),v("")};return{editingItemId:s,editingItemName:o,editingItemPrice:l,setEditingItemName:a,setEditingItemPrice:c,editItem:_,saveEdit:E,cancelEdit:b,deleteItem:P,isAdding:h,newItemName:m,newItemPrice:I,setNewItemName:p,setNewItemPrice:v,startAdding:D,addItem:j,cancelAdding:S}}function CG(){const t=ju(),[e,n]=y.useState("ai-scan"),r=ck(),s=lk(r.people),i=uk(),o=mk(s.setBillData,r.setPeople,s.billData),a=pk(s.billData,s.setBillData,s.customTip,s.removeItemAssignments),l=f=>{r.removePerson(f),s.removePersonFromAssignments(f)},c=()=>{s.reset(),e==="ai-scan"&&i.handleRemoveImage()},h=async()=>{i.imagePreview&&await o.analyzeReceipt(i.imagePreview)};return u.jsxs(u.Fragment,{children:[u.jsx(QW,{hasBillData:!!s.billData,onLoadMock:o.loadMockData,onStartOver:c}),u.jsxs(Du,{value:e,onValueChange:n,className:"space-y-6",children:[u.jsxs(El,{className:"grid w-full grid-cols-2",children:[u.jsxs(On,{value:"ai-scan",className:"gap-2",children:[u.jsx(Ah,{className:"w-4 h-4"}),"AI Scan"]}),u.jsxs(On,{value:"manual",className:"gap-2",children:[u.jsx(xS,{className:"w-4 h-4"}),"Manual Entry"]})]}),u.jsxs(an,{value:"ai-scan",className:"space-y-6",children:[s.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:c,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsx(W2,{selectedFile:i.selectedFile,imagePreview:i.imagePreview,isDragging:i.isDragging,isAnalyzing:o.isAnalyzing,onFileInput:i.handleFileInput,onDragOver:i.handleDragOver,onDragLeave:i.handleDragLeave,onDrop:i.handleDrop,onRemove:i.handleRemoveImage,onAnalyze:h,fileInputRef:i.fileInputRef}),s.billData&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(uf,{people:r.people,newPersonName:r.newPersonName,newPersonVenmoId:r.newPersonVenmoId,useNameAsVenmoId:r.useNameAsVenmoId,saveToFriendsList:r.saveToFriendsList,onNameChange:r.setNewPersonName,onVenmoIdChange:r.setNewPersonVenmoId,onUseNameAsVenmoIdChange:r.setUseNameAsVenmoId,onSaveToFriendsListChange:r.setSaveToFriendsList,onAdd:r.addPerson,onAddFromFriend:r.addFromFriend,onRemove:l,setPeople:r.setPeople}),u.jsxs(ze,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:ye.BILL_ITEMS})]}),r.people.length>0&&!t&&u.jsx(pf,{mode:s.assignmentMode,onModeChange:s.setAssignmentMode})]}),u.jsx(hf,{billData:s.billData,people:r.people,itemAssignments:s.itemAssignments,assignmentMode:s.assignmentMode,editingItemId:a.editingItemId,editingItemName:a.editingItemName,editingItemPrice:a.editingItemPrice,onAssign:s.handleItemAssignment,onEdit:a.editItem,onSave:a.saveEdit,onCancel:a.cancelEdit,onDelete:a.deleteItem,setEditingName:a.setEditingItemName,setEditingPrice:a.setEditingItemPrice,isAdding:a.isAdding,newItemName:a.newItemName,newItemPrice:a.newItemPrice,setNewItemName:a.setNewItemName,setNewItemPrice:a.setNewItemPrice,onStartAdding:a.startAdding,onAddItem:a.addItem,onCancelAdding:a.cancelAdding,splitEvenly:s.splitEvenly,onToggleSplitEvenly:s.toggleSplitEvenly}),r.people.length===0&&!t&&s.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:ye.ADD_PEOPLE_TO_ASSIGN}),u.jsx(ff,{billData:s.billData,customTip:s.customTip,effectiveTip:s.effectiveTip,onTipChange:s.setCustomTip})]}),u.jsx(mf,{personTotals:s.personTotals,allItemsAssigned:s.allItemsAssigned,people:r.people,billData:s.billData,itemAssignments:s.itemAssignments})]})]}),u.jsxs(an,{value:"manual",className:"space-y-6",children:[s.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:c,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(uf,{people:r.people,newPersonName:r.newPersonName,newPersonVenmoId:r.newPersonVenmoId,useNameAsVenmoId:r.useNameAsVenmoId,saveToFriendsList:r.saveToFriendsList,onNameChange:r.setNewPersonName,onVenmoIdChange:r.setNewPersonVenmoId,onUseNameAsVenmoIdChange:r.setUseNameAsVenmoId,onSaveToFriendsListChange:r.setSaveToFriendsList,onAdd:r.addPerson,onAddFromFriend:r.addFromFriend,onRemove:l,setPeople:r.setPeople}),u.jsxs(ze,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:"Bill Items"})]}),r.people.length>0&&!t&&u.jsx(pf,{mode:s.assignmentMode,onModeChange:s.setAssignmentMode})]}),u.jsx(hf,{billData:s.billData,people:r.people,itemAssignments:s.itemAssignments,assignmentMode:s.assignmentMode,editingItemId:a.editingItemId,editingItemName:a.editingItemName,editingItemPrice:a.editingItemPrice,onAssign:s.handleItemAssignment,onEdit:a.editItem,onSave:a.saveEdit,onCancel:a.cancelEdit,onDelete:a.deleteItem,setEditingName:a.setEditingItemName,setEditingPrice:a.setEditingItemPrice,isAdding:a.isAdding,newItemName:a.newItemName,newItemPrice:a.newItemPrice,setNewItemName:a.setNewItemName,setNewItemPrice:a.setNewItemPrice,onStartAdding:a.startAdding,onAddItem:a.addItem,onCancelAdding:a.cancelAdding,splitEvenly:s.splitEvenly,onToggleSplitEvenly:s.toggleSplitEvenly}),r.people.length===0&&!t&&s.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:"Add people above to assign items"}),s.billData&&u.jsx(ff,{billData:s.billData,customTip:s.customTip,effectiveTip:s.effectiveTip,onTipChange:s.setCustomTip})]}),s.billData&&u.jsx(mf,{personTotals:s.personTotals,allItemsAssigned:s.allItemsAssigned,people:r.people,billData:s.billData,itemAssignments:s.itemAssignments})]})]})]}),!s.billData&&u.jsx(qH,{})]})}function AG({open:t,onOpenChange:e,onCreateGroup:n}){const[r,s]=y.useState(""),[i,o]=y.useState(""),a=()=>{r.trim()&&(n(r.trim(),i.trim()),s(""),o(""),e(!1))},l=()=>{s(""),o(""),e(!1)};return u.jsx(Pi,{open:t,onOpenChange:e,children:u.jsxs(ys,{className:"sm:max-w-[500px]",children:[u.jsx(vs,{children:u.jsx(ws,{children:"Create New Group"})}),u.jsxs("div",{className:"space-y-4 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"group-name",children:"Group Name *"}),u.jsx(Ne,{id:"group-name",placeholder:"e.g., Roommates, Vacation 2024, Game Night",value:r,onChange:c=>s(c.target.value),onKeyPress:c=>c.key==="Enter"&&a(),autoFocus:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"description",children:"Description (Optional)"}),u.jsx(T0,{id:"description",placeholder:"Add details about this group...",value:i,onChange:c=>o(c.target.value),rows:3})]})]}),u.jsxs(v0,{children:[u.jsx(J,{variant:"outline",onClick:l,children:"Cancel"}),u.jsx(J,{onClick:a,disabled:!r.trim(),children:"Create Group"})]})]})})}function Tt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function NG(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Nd=43200,pI=1440;let PG={};function RG(){return PG}function gI(t){const e=Tt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function rh(t,e){const n=Tt(t),r=Tt(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function kG(t){return NG(t,Date.now())}function DG(t,e){const n=Tt(t),r=Tt(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function MG(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function jG(t,e){return+Tt(t)-+Tt(e)}function OG(t){const e=Tt(t);return e.setHours(23,59,59,999),e}function LG(t){const e=Tt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function VG(t){const e=Tt(t);return+OG(e)==+LG(e)}function FG(t,e){const n=Tt(t),r=Tt(e),s=rh(n,r),i=Math.abs(DG(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let a=rh(n,r)===-s;VG(Tt(t))&&i===1&&rh(t,r)===1&&(a=!1),o=s*(i-Number(a))}return o===0?0:o}function UG(t,e,n){const r=jG(t,e)/1e3;return MG(n==null?void 0:n.roundingMethod)(r)}const $G={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zG=(t,e,n)=>{let r;const s=$G[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function rg(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HG={date:rg({formats:BG,defaultWidth:"full"}),time:rg({formats:qG,defaultWidth:"full"}),dateTime:rg({formats:WG,defaultWidth:"full"})},GG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KG=(t,e,n,r)=>GG[t];function Ql(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const QG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZG={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},nK={ordinalNumber:tK,era:Ql({values:QG,defaultWidth:"wide"}),quarter:Ql({values:YG,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ql({values:XG,defaultWidth:"wide"}),day:Ql({values:JG,defaultWidth:"wide"}),dayPeriod:Ql({values:ZG,defaultWidth:"wide",formattingValues:eK,defaultFormattingWidth:"wide"})};function Yl(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?sK(a,f=>f.test(o)):rK(a,f=>f.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function rK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function sK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const oK=/^(\d+)(th|st|nd|rd)?/i,aK=/\d+/i,lK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cK={any:[/^b/i,/^(a|c)/i]},uK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dK={any:[/1/i,/2/i,/3/i,/4/i]},hK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vK={ordinalNumber:iK({matchPattern:oK,parsePattern:aK,valueCallback:t=>parseInt(t,10)}),era:Yl({matchPatterns:lK,defaultMatchWidth:"wide",parsePatterns:cK,defaultParseWidth:"any"}),quarter:Yl({matchPatterns:uK,defaultMatchWidth:"wide",parsePatterns:dK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yl({matchPatterns:hK,defaultMatchWidth:"wide",parsePatterns:fK,defaultParseWidth:"any"}),day:Yl({matchPatterns:mK,defaultMatchWidth:"wide",parsePatterns:pK,defaultParseWidth:"any"}),dayPeriod:Yl({matchPatterns:gK,defaultMatchWidth:"any",parsePatterns:yK,defaultParseWidth:"any"})},wK={code:"en-US",formatDistance:zG,formatLong:HG,formatRelative:KG,localize:nK,match:vK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xK(t,e,n){const r=RG(),s=(n==null?void 0:n.locale)??r.locale??wK,i=2520,o=rh(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=Tt(e),c=Tt(t)):(l=Tt(t),c=Tt(e));const h=UG(c,l),f=(gI(c)-gI(l))/1e3,m=Math.round((h-f)/60);let p;if(m<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,a):h<10?s.formatDistance("lessThanXSeconds",10,a):h<20?s.formatDistance("lessThanXSeconds",20,a):h<40?s.formatDistance("halfAMinute",0,a):h<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):m===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",m,a);if(m<45)return s.formatDistance("xMinutes",m,a);if(m<90)return s.formatDistance("aboutXHours",1,a);if(m<pI){const I=Math.round(m/60);return s.formatDistance("aboutXHours",I,a)}else{if(m<i)return s.formatDistance("xDays",1,a);if(m<Nd){const I=Math.round(m/pI);return s.formatDistance("xDays",I,a)}else if(m<Nd*2)return p=Math.round(m/Nd),s.formatDistance("aboutXMonths",p,a)}if(p=FG(c,l),p<12){const I=Math.round(m/Nd);return s.formatDistance("xMonths",I,a)}else{const I=p%12,v=Math.trunc(p/12);return I<3?s.formatDistance("aboutXYears",v,a):I<9?s.formatDistance("overXYears",v,a):s.formatDistance("almostXYears",v+1,a)}}function _K(t,e){return xK(t,kG(t),e)}function EK({group:t,onClick:e}){return u.jsx(ze,{className:"p-6 hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:e,children:u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.name}),t.description&&u.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(xt,{className:"w-4 h-4"}),u.jsxs("span",{children:[t.memberIds.length," members"]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(lO,{className:"w-4 h-4"}),u.jsxs("span",{children:["Updated ",_K(t.updatedAt,{addSuffix:!0})]})]})]})]})})})}function IK(){const{user:t}=zn(),[e,n]=y.useState([]),[r,s]=y.useState(!0);return y.useEffect(()=>{if(!t){n([]),s(!1);return}const o=O1(sn,"groups"),a=c8(o,u8("ownerId","==",t.uid),d8("updatedAt","desc")),l=p8(a,c=>{const h=c.docs.map(f=>{var p,I;const m=f.data();return{id:f.id,name:m.name,description:m.description,createdAt:((p=m.createdAt)==null?void 0:p.toDate())||new Date,updatedAt:((I=m.updatedAt)==null?void 0:I.toDate())||new Date,ownerId:m.ownerId,memberIds:m.memberIds||[]}});n(h),s(!1)},c=>{console.error("Error fetching groups:",c),n([]),s(!1)});return()=>l()},[t]),{groups:e,loading:r,createGroup:async(o,a)=>{if(!t)throw new Error("Must be logged in to create a group");const l=Ce.now(),c={name:o,description:a||"",createdAt:l,updatedAt:l,ownerId:t.uid,memberIds:[t.uid]};return(await m8(O1(sn,"groups"),c)).id}}}function TK(){const t=fl(),[e,n]=y.useState(!1),{groups:r,loading:s,createGroup:i}=IK(),{toast:o}=cn(),a=async(c,h)=>{try{await i(c,h),o({title:"Group created",description:`${c} has been created successfully.`})}catch{o({title:"Error",description:"Failed to create group. Please try again.",variant:"destructive"})}},l=c=>{t(`/groups/${c}`)};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-12",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Groups & Events"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Create groups to organize and track multiple bills for roommates, trips, or events."})]}),r.length>0&&u.jsxs(J,{className:"gap-2",onClick:()=>n(!0),children:[u.jsx(Ua,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"New Group"})]})]}),s?u.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading groups..."}):r.length===0?u.jsxs(ze,{className:"p-12 text-center space-y-6",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(xt,{className:"w-10 h-10 text-primary"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"No groups yet"}),u.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Create your first group to start organizing bills with roommates, friends, or for events."})]}),u.jsxs(J,{className:"gap-2",onClick:()=>n(!0),children:[u.jsx(Ua,{className:"w-4 h-4"}),"Create First Group"]})]}):u.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:r.map(c=>u.jsx(EK,{group:c,onClick:()=>l(c.id)},c.id))}),u.jsx(AG,{open:e,onOpenChange:n,onCreateGroup:a}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mt-12",children:[u.jsxs(ze,{className:"p-6 text-center space-y-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(xt,{className:"w-6 h-6 text-primary"})}),u.jsx("h4",{className:"font-semibold",children:"Organize by Group"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Keep roommate bills separate from vacation expenses"})]}),u.jsxs(ze,{className:"p-6 text-center space-y-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-accent/10 flex items-center justify-center mx-auto",children:u.jsx("svg",{className:"w-6 h-6 text-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),u.jsx("h4",{className:"font-semibold",children:"Transaction History"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"See all past bills and payments for each group"})]}),u.jsxs(ze,{className:"p-6 text-center space-y-3",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary-glow/10 flex items-center justify-center mx-auto",children:u.jsx("svg",{className:"w-6 h-6 text-primary-glow",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),u.jsx("h4",{className:"font-semibold",children:"Shared Members"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Add members once, reuse across all group transactions"})]})]})]})}function bK(){const{groupId:t}=wF(),e=fl(),n=ju(),[r,s]=y.useState(null),[i,o]=y.useState(!0),[a,l]=y.useState("ai-scan"),c=ck(),h=lk(c.people),f=uk(),m=mk(h.setBillData,c.setPeople,h.billData),p=pk(h.billData,h.setBillData,h.customTip,h.removeItemAssignments);y.useEffect(()=>{(async()=>{var E,b;if(t)try{const P=await _l(wn(sn,"groups",t));if(P.exists()){const D=P.data();s({id:P.id,name:D.name,description:D.description,createdAt:((E=D.createdAt)==null?void 0:E.toDate())||new Date,updatedAt:((b=D.updatedAt)==null?void 0:b.toDate())||new Date,ownerId:D.ownerId,memberIds:D.memberIds||[]})}}catch(P){console.error("Error fetching group:",P)}finally{o(!1)}})()},[t]);const I=_=>{c.removePerson(_),h.removePersonFromAssignments(_)},v=()=>{h.reset(),a==="ai-scan"&&f.handleRemoveImage()},x=async()=>{f.imagePreview&&await m.analyzeReceipt(f.imagePreview)};return i?u.jsx("div",{className:"text-center py-12 text-muted-foreground",children:tI.LOADING_GROUP}):r?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs(J,{variant:"ghost",className:"mb-4 gap-2",onClick:()=>e("/groups"),children:[u.jsx(oO,{className:"w-4 h-4"}),eg.BACK_TO_GROUPS]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:r.name}),r.description&&u.jsx("p",{className:"text-lg text-muted-foreground",children:r.description})]})]}),u.jsxs(Du,{value:a,onValueChange:l,className:"space-y-6",children:[u.jsxs(El,{className:"grid w-full grid-cols-2",children:[u.jsxs(On,{value:"ai-scan",className:"gap-2",children:[u.jsx(Ah,{className:"w-4 h-4"}),eg.AI_SCAN]}),u.jsxs(On,{value:"manual",className:"gap-2",children:[u.jsx(xS,{className:"w-4 h-4"}),"Manual Entry"]})]}),u.jsxs(an,{value:"ai-scan",className:"space-y-6",children:[h.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:v,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsx(W2,{selectedFile:f.selectedFile,imagePreview:f.imagePreview,isDragging:f.isDragging,isAnalyzing:m.isAnalyzing,onFileInput:f.handleFileInput,onDragOver:f.handleDragOver,onDragLeave:f.handleDragLeave,onDrop:f.handleDrop,onRemove:f.handleRemoveImage,onAnalyze:x,fileInputRef:f.fileInputRef}),h.billData&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(uf,{people:c.people,newPersonName:c.newPersonName,newPersonVenmoId:c.newPersonVenmoId,useNameAsVenmoId:c.useNameAsVenmoId,saveToFriendsList:c.saveToFriendsList,onNameChange:c.setNewPersonName,onVenmoIdChange:c.setNewPersonVenmoId,onUseNameAsVenmoIdChange:c.setUseNameAsVenmoId,onSaveToFriendsListChange:c.setSaveToFriendsList,onAdd:c.addPerson,onAddFromFriend:c.addFromFriend,onRemove:I,setPeople:c.setPeople}),u.jsxs(ze,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:ye.BILL_ITEMS})]}),c.people.length>0&&!n&&u.jsx(pf,{mode:h.assignmentMode,onModeChange:h.setAssignmentMode})]}),u.jsx(hf,{billData:h.billData,people:c.people,itemAssignments:h.itemAssignments,assignmentMode:h.assignmentMode,editingItemId:p.editingItemId,editingItemName:p.editingItemName,editingItemPrice:p.editingItemPrice,onAssign:h.handleItemAssignment,onEdit:p.editItem,onSave:p.saveEdit,onCancel:p.cancelEdit,onDelete:p.deleteItem,setEditingName:p.setEditingItemName,setEditingPrice:p.setEditingItemPrice,isAdding:p.isAdding,newItemName:p.newItemName,newItemPrice:p.newItemPrice,setNewItemName:p.setNewItemName,setNewItemPrice:p.setNewItemPrice,onStartAdding:p.startAdding,onAddItem:p.addItem,onCancelAdding:p.cancelAdding,splitEvenly:h.splitEvenly,onToggleSplitEvenly:h.toggleSplitEvenly}),c.people.length===0&&!n&&h.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:ye.ADD_PEOPLE_TO_ASSIGN}),u.jsx(ff,{billData:h.billData,customTip:h.customTip,effectiveTip:h.effectiveTip,onTipChange:h.setCustomTip})]}),u.jsx(mf,{personTotals:h.personTotals,allItemsAssigned:h.allItemsAssigned,people:c.people,billData:h.billData,itemAssignments:h.itemAssignments})]})]}),u.jsxs(an,{value:"manual",className:"space-y-6",children:[h.billData&&u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:v,className:"text-sm text-muted-foreground hover:text-foreground underline",children:ye.START_OVER})}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(uf,{people:c.people,newPersonName:c.newPersonName,newPersonVenmoId:c.newPersonVenmoId,useNameAsVenmoId:c.useNameAsVenmoId,saveToFriendsList:c.saveToFriendsList,onNameChange:c.setNewPersonName,onVenmoIdChange:c.setNewPersonVenmoId,onUseNameAsVenmoIdChange:c.setUseNameAsVenmoId,onSaveToFriendsListChange:c.setSaveToFriendsList,onAdd:c.addPerson,onAddFromFriend:c.addFromFriend,onRemove:I,setPeople:c.setPeople}),u.jsxs(ze,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gi,{className:"w-5 h-5 text-primary"}),u.jsx("h3",{className:"text-xl font-semibold",children:"Bill Items"})]}),c.people.length>0&&!n&&u.jsx(pf,{mode:h.assignmentMode,onModeChange:h.setAssignmentMode})]}),u.jsx(hf,{billData:h.billData,people:c.people,itemAssignments:h.itemAssignments,assignmentMode:h.assignmentMode,editingItemId:p.editingItemId,editingItemName:p.editingItemName,editingItemPrice:p.editingItemPrice,onAssign:h.handleItemAssignment,onEdit:p.editItem,onSave:p.saveEdit,onCancel:p.cancelEdit,onDelete:p.deleteItem,setEditingName:p.setEditingItemName,setEditingPrice:p.setEditingItemPrice,isAdding:p.isAdding,newItemName:p.newItemName,newItemPrice:p.newItemPrice,setNewItemName:p.setNewItemName,setNewItemPrice:p.setNewItemPrice,onStartAdding:p.startAdding,onAddItem:p.addItem,onCancelAdding:p.cancelAdding,splitEvenly:h.splitEvenly,onToggleSplitEvenly:h.toggleSplitEvenly}),c.people.length===0&&!n&&h.billData&&u.jsx("p",{className:"text-sm text-muted-foreground text-center py-4 mt-4",children:"Add people above to assign items"}),h.billData&&u.jsx(ff,{billData:h.billData,customTip:h.customTip,effectiveTip:h.effectiveTip,onTipChange:h.setCustomTip})]}),h.billData&&u.jsx(mf,{personTotals:h.personTotals,allItemsAssigned:h.allItemsAssigned,people:c.people,billData:h.billData,itemAssignments:h.itemAssignments})]})]})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-muted-foreground mb-4",children:tI.GROUP_NOT_FOUND}),u.jsx(J,{onClick:()=>e("/groups"),children:eg.BACK_TO_GROUPS})]})}function yI(){const{user:t,profile:e,venmoId:n,isEditing:r,saving:s,setVenmoId:i,handleSave:o,handleCancel:a,startEditing:l}=I2(),{toast:c}=cn(),h=async()=>{await o(),c({title:af.PROFILE_UPDATED,description:af.PROFILE_UPDATED_DESC})};return u.jsxs(ze,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-6",children:[u.jsx(ES,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}),u.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:ye.PROFILE_SETTINGS})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"name",className:"text-sm md:text-base",children:"Name"}),u.jsx(Ne,{id:"name",value:(e==null?void 0:e.displayName)||(t==null?void 0:t.displayName)||"",disabled:!0,className:"bg-muted text-sm md:text-base"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(on,{htmlFor:"email",className:"text-sm md:text-base",children:"Email"}),u.jsx(Ne,{id:"email",value:(e==null?void 0:e.email)||(t==null?void 0:t.email)||"",disabled:!0,className:"bg-muted text-sm md:text-base"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs(on,{htmlFor:"venmoId",className:"text-sm md:text-base",children:[ye.VENMO_USERNAME,u.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:ye.VENMO_WITHOUT_AT})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ne,{id:"venmoId",placeholder:"Enter your Venmo username",value:n,onChange:f=>i(f.target.value),disabled:!r||s,className:"text-sm md:text-base"}),!r&&u.jsx(J,{onClick:l,variant:"outline",children:ye.EDIT})]}),!r&&u.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be used when others charge you on Venmo"})]}),r&&u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsxs(J,{onClick:h,disabled:s,className:"flex-1 bg-green-600 hover:bg-green-700",children:[u.jsx(pi,{className:"w-4 h-4 mr-2"}),s?ye.SAVING:ye.SAVE_CHANGES]}),u.jsxs(J,{onClick:a,disabled:s,variant:"outline",className:"flex-1",children:[u.jsx(as,{className:"w-4 h-4 mr-2"}),ye.CANCEL]})]})]})]})}function vI(){const{friends:t,newFriendName:e,newFriendVenmoId:n,hasChanges:r,saving:s,editingIndex:i,editingName:o,editingVenmoId:a,setNewFriendName:l,setNewFriendVenmoId:c,setEditingName:h,setEditingVenmoId:f,handleAddFriend:m,handleRemoveFriend:p,handleEditFriend:I,handleSaveEdit:v,handleCancelEdit:x,handleSaveAll:_}=b2(),{toast:E}=cn(),b=async()=>{await _(),E({title:af.FRIENDS_UPDATED,description:af.FRIENDS_UPDATED_DESC})};return u.jsxs(ze,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(xt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}),u.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:"Manage Friends"})]}),r&&u.jsx(J,{onClick:b,disabled:s,size:"sm",children:s?ye.SAVING:ye.SAVE_CHANGES})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add friends to quickly add them to bills"}),u.jsx("div",{className:"space-y-2 mb-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx(Ne,{placeholder:"Friend's name",value:e,onChange:P=>l(P.target.value),onKeyPress:P=>P.key==="Enter"&&m(),className:"flex-1 text-sm md:text-base"}),u.jsx(Ne,{placeholder:"Venmo ID (optional)",value:n,onChange:P=>c(P.target.value),onKeyPress:P=>P.key==="Enter"&&m(),className:"flex-1 text-sm md:text-base"}),u.jsxs(J,{onClick:m,className:"gap-2",children:[u.jsx(So,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Add"})]})]})}),u.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:t.length===0?u.jsx("p",{className:"text-sm text-muted-foreground text-center py-8 border-2 border-dashed rounded-lg",children:"No friends saved yet. Add friends above to get started."}):t.map((P,D)=>u.jsx("div",{className:"flex items-center gap-2 p-2 md:p-3 bg-secondary/30 rounded-lg border border-border",children:i===D?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-2",children:[u.jsx(Ne,{placeholder:"Name",value:o,onChange:j=>h(j.target.value),className:"flex-1 text-sm md:text-base"}),u.jsx(Ne,{placeholder:"Venmo ID",value:a,onChange:j=>f(j.target.value),className:"flex-1 text-sm md:text-base"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:v,children:u.jsx(pi,{className:"w-4 h-4 text-green-600"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:x,children:u.jsx(as,{className:"w-4 h-4 text-muted-foreground"})})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm md:text-base font-medium",children:P.name}),P.venmoId&&u.jsxs("p",{className:"text-xs text-muted-foreground",children:["@",P.venmoId]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>I(D),children:u.jsx(vu,{className:"w-4 h-4 text-muted-foreground"})}),u.jsx(J,{variant:"ghost",size:"sm",onClick:()=>p(D),children:u.jsx(al,{className:"w-4 h-4 text-destructive"})})]})]})},D))})]})}function wI(){const{squads:t,loading:e,activeTab:n,editingSquad:r,handleCreate:s,handleEdit:i,handleUpdate:o,handleDelete:a,handleTabChange:l,setActiveTab:c}=U2();return u.jsxs(ze,{className:"p-4 md:p-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-6",children:[u.jsx(xt,{className:"w-5 h-5 md:w-6 md:h-6 text-primary"}),u.jsx("h2",{className:"text-xl md:text-2xl font-semibold",children:"Manage Squads"})]}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create and manage groups of people to quickly add them to bills"}),u.jsxs(Du,{value:n,onValueChange:l,className:"w-full",children:[u.jsxs(El,{className:"grid w-full grid-cols-2",children:[u.jsx(On,{value:"list",className:"text-sm md:text-base",children:"Your Squads"}),u.jsx(On,{value:n==="edit"?"edit":"create",className:"text-sm md:text-base",children:n==="edit"?"Edit Squad":"Create New"})]}),u.jsx(an,{value:"list",className:"space-y-4 py-4",children:e?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading squads..."})}):u.jsxs(u.Fragment,{children:[u.jsx($2,{squads:t,onEdit:i,onDelete:a}),t.length>0&&u.jsxs(J,{onClick:()=>c("create"),className:"w-full",variant:"outline",children:[u.jsx(Ua,{className:"w-4 h-4 mr-2"}),"Create New Squad"]})]})}),u.jsx(an,{value:"create",className:"py-4",children:u.jsx(au,{onSubmit:s,submitLabel:"Create Squad"},"create-squad")}),u.jsx(an,{value:"edit",className:"py-4",children:r&&u.jsx(au,{initialName:r.name,initialDescription:r.description,initialMembers:r.members,onSubmit:o,submitLabel:"Update Squad"},`edit-${r.id}`)})]})]})}function SK(){const t=ju(),{user:e}=zn(),n=fl(),[r,s]=y.useState("profile");return e?t?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-2xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Profile & Settings"}),u.jsx("p",{className:"text-sm md:text-lg text-muted-foreground",children:"Manage your profile, friends, and squads"})]}),u.jsxs(Du,{value:r,onValueChange:s,className:"w-full",children:[u.jsxs(El,{className:"grid w-full grid-cols-3",children:[u.jsxs(On,{value:"profile",className:"gap-1 text-xs",children:[u.jsx(ey,{className:"w-3 h-3"}),u.jsx("span",{children:"Profile"})]}),u.jsxs(On,{value:"friends",className:"gap-1 text-xs",children:[u.jsx(xt,{className:"w-3 h-3"}),u.jsx("span",{children:"Friends"})]}),u.jsxs(On,{value:"squads",className:"gap-1 text-xs",children:[u.jsx(IS,{className:"w-3 h-3"}),u.jsx("span",{children:"Squads"})]})]}),u.jsx(an,{value:"profile",className:"mt-4",children:u.jsx(yI,{})}),u.jsx(an,{value:"friends",className:"mt-4",children:u.jsx(vI,{})}),u.jsx(an,{value:"squads",className:"mt-4",children:u.jsx(wI,{})})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Profile & Settings"}),u.jsx("p",{className:"text-base md:text-lg text-muted-foreground",children:"Manage your profile, friends, and squads"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx(yI,{}),u.jsx(vI,{}),u.jsx(wI,{})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"Profile & Settings"}),u.jsx("p",{className:"text-base md:text-lg text-muted-foreground",children:"Sign in to manage your profile, friends, and squads"})]}),u.jsxs(ze,{className:"p-8 md:p-12 text-center space-y-6",children:[u.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto",children:u.jsx(ey,{className:"w-8 h-8 md:w-10 md:h-10 text-primary"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Sign In Required"}),u.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Please sign in to access your profile settings, manage your friends list, and create squads."})]}),u.jsxs(J,{onClick:()=>n("/auth"),className:"gap-2",children:[u.jsx(wS,{className:"w-4 h-4"}),"Sign In"]})]})]})}const CK=()=>{const{user:t,loading:e,signInWithGoogle:n}=zn(),r=fl();return y.useEffect(()=>{t&&r("/")},[t,r]),e?u.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30 flex items-center justify-center",children:u.jsx(vS,{className:"w-8 h-8 animate-spin text-primary"})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/30 flex items-center justify-center p-4",children:u.jsxs(ze,{className:"w-full max-w-md p-8 space-y-8 shadow-xl",children:[u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center mx-auto shadow-lg",children:u.jsx(gi,{className:"w-9 h-9 text-primary-foreground"})}),u.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary via-primary-glow to-accent bg-clip-text text-transparent",children:"SplitBill"}),u.jsx("p",{className:"text-muted-foreground",children:"Split bills fairly with AI-powered receipt scanning"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs(J,{onClick:n,size:"lg",className:"w-full bg-white hover:bg-gray-50 text-gray-900 border border-gray-300 shadow-md hover:shadow-lg transition-all duration-300",children:[u.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),u.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]}),u.jsxs("div",{className:"pt-6 border-t space-y-3",children:[u.jsx("p",{className:"text-sm font-medium text-center text-muted-foreground",children:"Why sign in?"}),u.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2",children:""}),u.jsx("span",{children:"Save and access your bill history"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2",children:""}),u.jsx("span",{children:"Share bills with friends"})]}),u.jsxs("li",{className:"flex items-start",children:[u.jsx("span",{className:"mr-2",children:""}),u.jsx("span",{children:"Sync across all your devices"})]})]})]})]})})},AK=()=>{const t=Ao();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},NK=new UV,PK=()=>u.jsx(zV,{client:NK,children:u.jsx(v8,{children:u.jsxs(gV,{children:[u.jsx(ZO,{}),u.jsx(R4,{}),u.jsx(zF,{children:u.jsxs(jF,{children:[u.jsxs(Ms,{path:"/",element:u.jsx(KW,{}),children:[u.jsx(Ms,{index:!0,element:u.jsx(CG,{})}),u.jsx(Ms,{path:"groups",element:u.jsx(TK,{})}),u.jsx(Ms,{path:"groups/:groupId",element:u.jsx(bK,{})}),u.jsx(Ms,{path:"settings",element:u.jsx(SK,{})})]}),u.jsx(Ms,{path:"/auth",element:u.jsx(CK,{})}),u.jsx(Ms,{path:"*",element:u.jsx(AK,{})})]})})]})})});var qy;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(qy||(qy={}));var xI;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(xI||(xI={}));const _I=Pm("StatusBar");Io.isNativePlatform()&&(_I.setStyle({style:qy.Light}).catch(console.error),_I.setBackgroundColor({color:"#ffffff"}).catch(console.error));qb(document.getElementById("root")).render(u.jsx(PK,{}));
